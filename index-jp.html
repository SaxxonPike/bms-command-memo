<!DOCTYPE html>
<!-- saved from url=(0045)https://hitkey.nekokan.dyndns.info/cmdsJP.htm -->
<html xmlns="http://www.w3.org/1999/xhtml" class="nojs" dir="ltr" lang="ja" xml:lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>BMS command memo (JP)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="format-detection" content="telephone=no,address=no,email=no">
<meta name="author" content="hitkey">
<meta name="description" lang="ja" xml:lang="ja" content="この文書はBMSフォーマットの仕様に関するメモです。">
<meta name="keywords" content="BMS,Be-Music,command,specification">
<script type="text/javascript" src="content/html5.js.download"></script>
<link rel="stylesheet" href="content/cmd.css" type="text/css">
<link rel="alternate" href="index.html" hreflang="en" type="text/html" title="BMS command memo">
</head>
<body>
<div id="SEGOE-UI">
<div id="HELVETICA">
<div id="HELVETICA-NEUE">
<div id="VERDANA">
<div id="LUCIDA-SANS-UNICODE">
<div id="LUCIDA">
<div id="ARIAL">

<header id="BMS-COMMAND-MEMO" itemscope="itemscope">
<h1><a href="index.html" title="BMS command memo (EN)" hreflang="en">BMS&nbsp;command&nbsp;memo</a>&nbsp;<a href="index-jp.html" title="BMS command memo (JP)" hreflang="ja">(JP)</a></h1>
<ul>
 <li>latest update: <time itemprop="update" datetime="2014-07-11">2014-07-11</time></li>
 <li><p>written by <span itemprop="name">hitkey</span></p>
  <address>
   <ul>
    <li>web: <a href="https://hitkey.nekokan.dyndns.info/" title="doubledepth" hreflang="ja"><span itemprop="home url">https://hitkey.nekokan.dyndns.info/</span></a></li>
    <li>mail: <span itemprop="mail">hitkey0801[at]hotmail.com</span></li>
   </ul>
  </address></li>
 <li><p>references:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">about <dfn><abbr title="Be-Music Script">BMS</abbr></dfn>:</th>
     <td><a href="https://en.wikipedia.org/wiki/Be-Music_Source" title="Be-Music Source - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Be-Music_Source</span></a></td>
    </tr>
    <tr>
     <th scope="row">This report referred to:</th>
     <td><a href="https://web.archive.org/web/*/http://wiki.bms.ms/Bms:Spec" title="Bms:Spec - wiki.bms.ms -" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://wiki.bms.ms/Bms:Spec</span></a></td>
    </tr>
    <tr>
     <th scope="row"><cite><abbr title="Be-Music Script">BMS</abbr> Format Specification</cite>:</th>
     <td><a href="http://bm98.yaneu.com/bm98/bmsformat.html" title="BM98Data_format_specification" class="external" rel="external" hreflang="en"><span itemprop="url">http://bm98.yaneu.com/bm98/bmsformat.html</span></a> (<time itemprop="update" datetime="1998-11-26">1998-11-26</time>)</td>
    </tr>
    <tr>
     <th scope="row">Basic specification of <dfn><abbr title="Be-Music Longnote format">BML</abbr></dfn>:</th>
     <td><a href="https://nvyu.net/rdm/rby_ex.php" title="ruv-it! | support page" class="external" rel="external" hreflang="ko"><span itemprop="url">https://nvyu.net/rdm/rby_ex.php</span></a></td>
    </tr>
    <tr>
     <th scope="row"><cite>BMS extensions proposed by Sonorous</cite>:</th>
     <td><a href="https://cosmic.mearie.org/f/sonorous/bmsexts" title="BMS extensions proposed by Sonorous" class="external" rel="external" hreflang="en"><span itemprop="url">https://cosmic.mearie.org/f/sonorous/bmsexts</span></a> (<time datetime="2013-07-10">2013-07-10</time> から) (参考資料として)</td>
    </tr>
    <tr>
     <th scope="row"><cite>DTX file format specifications</cite>:</th>
     <td><a href="http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e" title="qa_dtx_spec_e - DTXMania powered by YAMAHA Silent Session Drums" class="external" rel="external" hreflang="en"><span itemprop="url">http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e</span></a> (参考資料として)</td>
    </tr>
    <tr>
     <th scope="row"><cite>Guide to understand <abbr title="Be-Music Script">BMS</abbr> format</cite>:</th>
     <td><a href="https://cosmic.mearie.org/2005/03/bmsguide/" title="TokigunStudio: Guide to understand BMS format" class="external" rel="external" hreflang="ko"><span itemprop="url">https://cosmic.mearie.org/2005/03/bmsguide/</span></a> (<time itemprop="update" datetime="2005-03-22">2005-03-22</time>) (参考資料として)</td>
    </tr>
    <tr>
     <th scope="row"><cite>Angolmois Internals</cite>:</th>
     <td><a href="https://github.com/lifthrasiir/angolmois/blob/master/INTERNALS.md" title="angolmois/INTERNALS.md at master · lifthrasiir/angolmois · GitHub" class="external" rel="external" hreflang="en"><span itemprop="url">https://github.com/lifthrasiir/angolmois/blob/master/INTERNALS.md</span></a> (<time itemprop="update" datetime="2013-03-09">2013-03-09</time>) (参考資料として)</td>
    </tr>
    <tr>
     <th scope="row">about obsolete MGQ notation:</th>
     <td><a href="https://web.archive.org/web/*/http://ivy.pr.co.kr/rdm/jp/extension.htm" title="Dear Feeling" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://ivy.pr.co.kr/rdm/jp/extension.htm</span></a> (<time itemprop="update" datetime="2001-06-21">2001-06-21</time>) (参考資料として)</td>
    </tr>
    <tr>
     <th scope="row">LR2beta3 スキンcsv仕様書 第五版:</th>
     <td><a href="http://right-stick.sub.jp/lr2skinhelp.html" data-old-href="http://www.geocities.jp/red_without_right_stick/lr2skinhelp.html" title="LR2SkinHELP 第五版" class="external" rel="external" hreflang="ja"><span itemprop="url">http://right-stick.sub.jp/lr2skinhelp.html</span></a> (<time itemprop="update" datetime="2013-09-29">2013-09-29</time>) (参考資料として)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>caution:</p>
  <ul>
   <li>これは仕様書を翻訳したものではありません。これはただの私のメモです。</li>
   <li>私はオンライン翻訳サービスを 100% 使用しました。</li>
   <li>私は英語を理解できないので、自動翻訳の結果が正しいか判断できません。</li>
   <li>翻訳がややオフでありうるので、内容は誤読されるかもしれません。</li>
   <li>さらに、私のリサーチは正確でないかもしれません。
    (もちろん、私は誤りを書かないよう努めました。しかし内容の正しさは保証できません。)</li>
   <li>上記の理由から、私はこの文書に責任を負いません。 <span class="chameleonic">許してね。</span></li>
   <li>何か疑問があれば、ご自由に私に連絡してください。 誤りが指摘されれば、私は喜んで修正するでしょう。</li>
   <!-- (li)(img src="cmd/blackline.png" alt="line" width="100" height="2" class="vam" /)
    もしこの行頭に黒い線が表示されない場合、(a
     title="When can I use Data URLs?" class="external" rel="external" hreflang="en"
     href="https://caniuse.com/datauri")あなたのブラウザはこの文書の画像を表示できません。(/a)(/li) -->
   <li class="css3able">Font test:
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SEGOE-UI">Segoe UI</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#HELVETICA">Helvetica</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#HELVETICA-NEUE">Helvetica Neue</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VERDANA">Verdana</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LUCIDA-SANS-UNICODE">Lucida Sans Unicode</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LUCIDA">Lucida</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ARIAL">Arial</a>,</li>
  </ul></li>
 <li><p>update history:</p>
  <ul id="LOG">
   <li><time itemprop="update" datetime="2014-07-11">2014-07-11</time>: DTXCreator 026
    / 私は <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VOLWAV">#VOLWAV</a></code> をサポートするアプリケーションについて加筆した。</li>
   <li><time itemprop="update" datetime="2014-07-08">2014-07-08</time>: Sonorous 0.1.0-pre (2014-07-08)</li>
   <li><time itemprop="update" datetime="2014-06-29">2014-06-29</time>: HDX v1.05</li>
   <li><time itemprop="update" datetime="2014-06-13">2014-06-13</time>: BGAEncAdv v0.034</li>
   <li><time itemprop="update" datetime="2014-06-10">2014-06-10</time>: BGAEncAdv v0.033 / TechnicalGroove 更新停止</li>
   <li><time itemprop="update" datetime="2014-06-08">2014-06-08</time>: HDX v1.04</li>
   <li><time itemprop="update" datetime="2014-06-06">2014-06-06</time>: Mid2BMS / lr2_pmsview_helper</li>
   <li><time itemprop="update" datetime="2014-05-25">2014-05-25</time>: PMSee-V v2.2.2</li>
   <li><time itemprop="update" datetime="2014-05-12">2014-05-12</time>: HDX v1.03</li>
   <li><time itemprop="update" datetime="2014-04-19">2014-04-19</time>: Feeling Pomu 2nd had <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BGAXX">#BGA</a></code>, <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#POORBGA">#POORBGA</a></code>, <code>#xxx0A</code> (LAYER2)</li>
   <li><time itemprop="update" datetime="2014-04-17">2014-04-17</time>: Angolmois Rust Edition (<time datetime="2014-04-18T04:53:30">2014-04-08</time>) / nanasigroove2 beta (Toy Musical 3 Ver.2.2) / PMSee-V v2.2.1′</li>
   <li><time itemprop="update" datetime="2014-02-27">2014-02-27</time>: <a href="https://hitkey.nekokan.dyndns.info/exbpm-object.htm">Extended BPM</a> / <a href="https://hitkey.nekokan.dyndns.info/exstop.htm">STOP Sequence</a></li>
   <li><time itemprop="update" datetime="2014-02-10">2014-02-10</time>: <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RLE">RLE</a> へ更に加筆 (<a href="https://hitkey.nekokan.dyndns.info/bmpfmt.htm">bmpfmt.htm</a>)
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ADD-2014-02-10">大きなビデオ</a>について加筆</li>
   <li><time itemprop="update" datetime="2014-02-07">2014-02-07</time>: 私はダウンロード可能な MacBeat を発見した。</li>
   <li><time itemprop="update" datetime="2014-02-04">2014-02-04</time>: 以下の項目に加筆: <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RLE">RLE</a>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY-GROUPING-BY-FILENAME">ファイル名によるグループ化</a> (<code>*.lr</code>)
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;の互換性</a> (bemaniaDX)</li>
   <li><time itemprop="update" datetime="2014-02-02">2014-02-02</time>: [old] mainori-se.sakura.ne.jp/dtxmania/ -&gt; [new] dtxmania.net/</li>
   <li><time itemprop="update" datetime="2014-01-31">2014-01-31</time>: Angolmois Rust Edition (2014-01-26) / Sonorous 0.1.0-pre (2014-01-31)</li>
   <li><time itemprop="update" datetime="2014-01-04">2014-01-04</time>: HDX v1.02</li>
   <li><time itemprop="update" datetime="2013-12-28">2013-12-28</time>: HDX v1.01 / bms diff tool</li>
   <li><time itemprop="update" datetime="2013-12-06">2013-12-06</time>: リンク切れを修正 (BMS Viewer, in_bm) / LR2SkinHELP</li>
   <li><time itemprop="update" datetime="2013-11-18">2013-11-18</time>: Sonorous 0.1.0-pre (2013-11-18)</li>
   <li><time itemprop="update" datetime="2013-11-17">2013-11-17</time>: Sonorous 0.1.0-pre (2013-11-13) / iBMSC 3.0.5</li>
   <li><time itemprop="update" datetime="2013-10-18">2013-10-18</time>: Sonorous 0.1.0-pre (2013-10-13)
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBTITLES">multi&nbsp;<code>#SUBTITLE</code></a>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENTS">multi&nbsp;<code>#COMMENT</code></a></li>
   <li><time itemprop="update" datetime="2013-10-11">2013-10-11</time>: Sonorous 0.1.0-pre (2013-10-09)</li>
   <li><time itemprop="update" datetime="2013-10-07">2013-10-07</time>:
    私は <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEFEXRANK">#DEFEXRANK&nbsp;<var>n</var></a></code> に TechnicalGroove カラムを加筆した。
    / 私は PMSee-V v2.1.5a (<time datetime="2013-07-15">2013-07-15</time>) を見逃していた (すまぬ…すまぬ…)</li>
   <li><time itemprop="update" datetime="2013-10-06">2013-10-06</time>: 私は <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEO-REWINDING">ビデオの巻き戻し</a> について加筆した。</li>
   <li><time itemprop="update" datetime="2013-09-23">2013-09-23</time>: Be-Music Helper (beta 4′) / woslicerIII (2013-09-22)</li>
   <li><time itemprop="update" datetime="2013-09-18">2013-09-18</time>: Be-Music Helper (beta 4) / Sonorous 0.1.0-pre (2013-09-17)
    / <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OPTION">#OPTION</a></code> の全ての値の列挙 (<a href="https://hitkey.nekokan.dyndns.info/option.htm">option.htm</a>)</li>
   <li><time itemprop="update" datetime="2013-08-20">2013-08-20</time>:
    Angolmois 2.0 e5cea53a2cbd (SDL 2.0.*) (fixed: <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;の互換性</a>)</li>
   <li><time itemprop="update" datetime="2013-08-03">2013-08-03</time>:
    <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEFEXRANK-0">#DEFEXRANK&nbsp;0</a></code>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY-GROUPING-BY-SUBTITLE">副題によるグループ化</a>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBARTISTS">multi&nbsp;<code>#SUBARTIST</code></a>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#FRACTIONAL-STOP">fractional&nbsp;<code>#STOP</code></a>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-LNOBJ">multi&nbsp;<code>#LNOBJ</code></a>
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;の互換性</a></li>
   <li><time itemprop="update" datetime="2013-08-03">2013-08-03</time>:
    [old] bit.sparcs.org/%7Etokigun/article/bmsguide.php -&gt; [new] cosmic.mearie.org/2005/03/bmsguide/</li>
   <li><time itemprop="update" datetime="2013-08-03">2013-08-03</time>: HDX v1.00 / Sonorous 0.1.0-pre / BGAEncAdv v0.032 / TechnicalGroove</li>
   <li><time itemprop="update" datetime="2013-07-11">2013-07-11</time>:
    私は HDX / IIDXv が <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SPREAD-CANVAS">広がるキャンバス</a> をサポートしていたことに気がついた。</li>
   <li><time itemprop="update" datetime="2013-07-09">2013-07-09</time>:
    私は HDX / IIDXv の <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#INDENT-STYLE">Indent style</a> が強化されていたことに気がついた。(U+3000)</li>
   <li><time itemprop="update" datetime="2013-07-07">2013-07-07</time>:
    私は <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXAMPLES-OF-MISTAKES">間違いの実例</a> に <code><u class="DBCS">＃</u>ENDIF</code> (U+FF03) を加えた。</li>
   <li><time itemprop="update" datetime="2013-07-03">2013-07-03</time>: uBMplay 1.5.2
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SPREAD-CANVAS">広がるキャンバス</a> に BM98 を追加</li>
   <li><time itemprop="update" datetime="2013-07-02">2013-07-02</time>: 私は <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PATH-WAV">#PATH_WAV</a></code> に uBMplay を加えた。</li>
   <li><time itemprop="update" datetime="2013-07-01">2013-07-01</time>: uBMplay 1.5.1
    / 私は woslicerII の URI を修正した。(remove “soft/index.html”)
    / uBMplay 1.5.0 は <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OCT-FP">#OCT/FP</a></code> を知っていた。</li>
   <li><time itemprop="update" datetime="2013-06-17">2013-06-17</time>: 私は BmDx を追加し、bemaniaDX の略称を変更した。</li>
   <li><time itemprop="update" datetime="2013-05-31">2013-05-31</time>: Angolmois Rust Edition</li>
   <li><time itemprop="update" datetime="2013-05-25">2013-05-25</time>: woslicerIII
    / <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SPREAD-CANVAS">広がるキャンバス</a> に追記</li>
   <li><time itemprop="update" datetime="2013-05-16">2013-05-16</time>: <code>&lt;hgroup&gt;</code> is gone</li>
   <li><time itemprop="update" datetime="2013-05-12">2013-05-12</time>: IIDXv 2.14, PMSee-V 2.1.3a</li>
   <li><time itemprop="update" datetime="2013-05-07">2013-05-07</time>: HDX 0.99 / <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#M999L1">#99902:1</a></code>
    / multiple <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGEOPTIONXX">#xxxA6</a></code>
    / <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK">#RANK&nbsp;<var>n</var></a></code> の既定値に関する誤った記述を修正</li>
   <li><time itemprop="update" datetime="2013-04-12">2013-04-12</time>: PMSee-V 2.1.3</li>
   <li><time itemprop="update" datetime="2013-04-01">2013-04-01</time>: uBMplay 1.5.0</li>
   <li><time itemprop="update" datetime="2013-03-16">2013-03-16</time>: Angolmois 2.0 77ce3b6e2761
    / 私は <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTCHR">#ExtChr</a></code> の誤りを修正した。</li>
   <li><time itemprop="update" datetime="2013-03-12">2013-03-12</time>: Angolmois 2.0 798422870970
    (fixed: <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNTYPE-2">#LNTYPE&nbsp;2</a></code>)</li>
   <li><time itemprop="update" datetime="2013-02-09">2013-02-09</time>: Angolmois 2.0 alpha 2 9880e98d15f8</li>
   <li><time itemprop="update" datetime="2013-01-18">2013-01-18</time>: Angolmois got alpha-blending</li>
   <li><time itemprop="update" datetime="2013-01-17">2013-01-17</time>:
    私は文字列のエスケープについて <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENT-SYNTAX">Comment syntax</a> に加筆した。</li>
   <li><time itemprop="update" datetime="2013-01-17">2013-01-17</time>:
    HDX 0.98, PMSee-V 2.1.2, nanasi2 1.0, IIDXv 2.13, PMChr-V 4.0.2, Angolmois 2.0 alpha 2 pre</li>
   <li><time itemprop="update" datetime="2012-10-13">2012-10-13</time>: HDX 0.97, PMSee-V 2.0.2, nanasi2 0.4, いくつかのデッドリンクを修正</li>
   <li><time itemprop="update" datetime="2012-09-14">2012-09-14</time>: HDX 0.96, PMSee-V 2.0.1a, PMChr-V 4.0.0</li>
   <li><time itemprop="update" datetime="2012-08-09">2012-08-09</time>: nanasi2 0.3</li>
   <li><time itemprop="update" datetime="2012-08-08">2012-08-08</time>: iBMSC 3.0.4</li>
   <li><time itemprop="update" datetime="2012-08-06">2012-08-06</time>: HDX 0.94, iBMSC 3.0.3 /
    私は「<a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#FREE-ZONE">FREE ZONE</a>」へ BMSV と nBMplay を加えた。</li>
   <li><time itemprop="update" datetime="2012-07-03">2012-07-03</time>: HDX 0.93</li>
   <li><time itemprop="update" datetime="2012-06-30">2012-06-30</time>: PMSV 1.10.5, nanasi2 0.2, IIDXv 2.12, HDX 0.92,
    <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ELSEIF">#ELSEIF</a></code>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#INDENT-STYLE">Indent style</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENT-SYNTAX">Comment syntax</a>,
    <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">Keyup-sounding</a></li>
   <li><time itemprop="update" datetime="2012-04-27">2012-04-27</time>: PMSV 1.10.4, PMCV 3.1.0, nanasi2 0.1, SMB 1.03</li>
   <li><time itemprop="update" datetime="2012-03-25">2012-03-25</time>: ruv-it! 2.0 b5p7 test #7</li>
   <li><time itemprop="update" datetime="2012-03-18">2012-03-18</time>: Be-Music Helper (beta 3)</li>
   <li><time itemprop="update" datetime="2012-02-10">2012-02-10</time>:
    私はこの文書の HTML に関する大量のバグを修正した。
    <a href="http://validator.w3.org/check?uri=http%3A%2F%2Fhitkey.nekokan.dyndns.info%2FcmdsJP.htm" hreflang="en" rel="external" title="W3C Markup Validator"><img src="content/valid-html5.png" alt="Valid HTML5" width="80" height="15" class="vam"></a>&nbsp;<a href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fhitkey.nekokan.dyndns.info%2FcmdsJP.htm&amp;profile=css3&amp;warning=2" rel="external" title="W3C CSS Validation Service"><img src="content/valid-css3.png" alt="Valid CSS3" width="80" height="15" class="vam"></a></li>
   <li><time itemprop="update" datetime="2012-01-28">2012-01-28</time>:
    私は <code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TOTAL">#TOTAL</a></code> の項目を修正した。 (thanks to kisama)</li>
   <li><time itemprop="update" datetime="2012-01-23">2012-01-23</time>:
    私は iBMSC 3.0 の最新版を反映することを忘れていた。 私はそれに関して付け加えた。</li>
   <li><time itemprop="update" datetime="2012-01-16">2012-01-16</time>:
    私はすべての見出しにパーマリンクをセットし、さらにいくつかのアイテムを追記した。</li>
   <li><time itemprop="update" datetime="2012-01-15">2012-01-15</time>:
    私はこの文書をアップデートした。 修正箇所が多すぎて、私はそれらを思い出せない。</li>
   <li><time itemprop="update" datetime="2011-10-24">2011-10-24</time>:
    私はこの文書を日本語化した。 私のゲシュタルトは崩壊した。</li>
   <li><time itemprop="update" datetime="2011-10-16">2011-10-16</time>:
    私はこの文書を HTML 化した。 ファイルサイズは 4 倍になった。</li>
   <li><time itemprop="update" datetime="2011-09-21">2011-09-21</time>:
    私はこの文書を書き終えた。 私はプレーンテキストを単に &lt;pre&gt; タグで括った。</li>
   <li><time itemprop="update" datetime="2011-09-12">2011-09-12</time>:
    私はこの文書を書く気分になった。 私は書き始めた。</li>
  </ul></li>
</ul>
<hr>
</header>

<nav id="TOC">
 <h2><abbr title="Table Of Contents"><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TOC">目次</a></abbr></h2>
 <ul>
  <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMS-APPS">BMS&nbsp;apps</a></li>
  <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MEMO-ABOUT-BMS-FORMAT-SPECIFICATION"><cite>BMS&nbsp;Format&nbsp;Specification</cite>&nbsp;に関するメモ</a></p>
   <ul>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-MINIMUM-REQUIREMENTS-WHICH-SPECIFICATION-INDICATES">示されている最小限の要求仕様について:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-DETAILED-IMPLEMENTING-WHICH-SPECIFICATION-DOES-NOT-INDICATE">仕様が示さない詳細な実装について:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BEHAVIOR-IN-GENERAL-IMPLEMENTATION">一般的な実装の挙動:</a></li>
   </ul></li>
  <li class="inlinize"><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-FILENAME-EXTENSIONS-OF-MUSICAL-SCORE-FILE-OF-BMS-FORMAT">BMS&nbsp;フォーマットの譜面のファイル拡張子について</a></p>
   <ul>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OUTLINE">大要:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMS">BMS:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BME">BME:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BML">BML:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PMS">PMS:</a></li>
   </ul></li>
  <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TRENDS-IN-USE-OF-COMMANDS">コマンドの使用傾向</a></p>
   <ul>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MAJOR-EXTENDED-COMMAND">メジャーな拡張:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTENDED-COMMAND-USED-OCCASIONALLY">ときどき使われる拡張:</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTENDED-COMMAND-USEFUL-AT-TEST-PLAY">テストプレイで有用な拡張:</a></li>
   </ul></li>
  <li class="inlinize"><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#HEADER">&lt;HEADER&gt;</a></p>
   <ul>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYER">#PLAYER</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK">#RANK</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK-4">#RANK&nbsp;4</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK-RELATIVE">Relative&nbsp;#RANK</a></li>
     </ul></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEFEXRANK">#DEFEXRANK</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEFEXRANK-0">#DEFEXRANK&nbsp;0</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXRANKXX">#EXRANKxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TOTAL">#TOTAL</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VOLWAV">#VOLWAV</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGING-BGM-VOLUME">changing&nbsp;BGM&nbsp;volume</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGING-KEY-VOLUME">changing&nbsp;KEY&nbsp;volume</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#STAGEFILE">#STAGEFILE</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BANNER">#BANNER</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BACKBMP">#BACKBMP</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHARFILE">#CHARFILE</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYLEVEL">#PLAYLEVEL</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYLEVEL-0">#PLAYLEVEL&nbsp;0</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYLEVEL-STRING">#PLAYLEVEL&nbsp;string</a></li>
     </ul></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY">#DIFFICULTY</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY-GROUPING-BY-FILENAME">grouping&nbsp;by&nbsp;filename</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY-GROUPING-BY-SUBTITLE">grouping&nbsp;by&nbsp;subtitle</a></li>
     </ul></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE">#TITLE</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE-IMPLICIT-SUBSTRING">implicit&nbsp;substring&nbsp;(#TITLE)</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE-IMPLICIT-SUBTITLE">implicit&nbsp;subtitle</a></li>
     </ul></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBTITLE">#SUBTITLE</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBTITLES">Multiplex&nbsp;#SUBTITLEs</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ARTIST">#ARTIST</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBARTIST">#SUBARTIST</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBARTISTS">Multiplex&nbsp;#SUBARTISTs</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MAKER">#MAKER</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#GENRE">#GENRE</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#GENLE">#GENLE</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#GENRE-IMPLICIT-SUBSTRING">implicit&nbsp;substring&nbsp;(#GENRE)</a></li>
     </ul></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENT">#COMMENT</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENTS">Multiplex&nbsp;#COMMENTs</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TEXTXX">#TEXTxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SONGXX">#SONGxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LANDMINE">landmine</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PATH-WAV">#PATH_WAV</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BPM">#BPM</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGING-BPM-BASIC-FORMAT">changing&nbsp;BPM&nbsp;(basic&nbsp;format)</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BPMXX">#BPMxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXBPMXX">#EXBPMxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BASEBPM">#BASEBPM</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#STOPXX">#STOPxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#STP">#STP</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNTYPE-1">#LNTYPE&nbsp;1</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">Keyup&nbsp;sounding&nbsp;at&nbsp;endpoint&nbsp;of&nbsp;LN&nbsp;(#LNTYPE&nbsp;1)</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNTYPE-2">#LNTYPE&nbsp;2</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNOBJ">#LNOBJ</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-LNOBJ">Keyup&nbsp;sounding&nbsp;at&nbsp;endpoint&nbsp;of&nbsp;LN&nbsp;(#LNOBJ)</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OCT-FP">#OCT/FP</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OPTION">#OPTION</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGEOPTIONXX">#CHANGEOPTIONxx</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX">#WAVxx</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-MULTIPLEX-DEFINITION">Multiplex&nbsp;definition</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ABOUT-WAV">about&nbsp;WAV:</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ABOUT-OGG">about&nbsp;OGG:</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ABOUT-MINOR-FORMATS">about&nbsp;minor&nbsp;formats:</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ALTERNATIVE-SEARCH">Alternative&nbsp;Search:</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-EMPHASIZING">Emphasizing:</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVCMD">#WAVCMD</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXWAVXX">#EXWAVxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CDDA">#CDDA</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MIDIFILE">#MIDIFILE</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX">#BMPxx</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-DARKENING-BY-EMPTY-BMP">Darkening&nbsp;by&nbsp;empty&nbsp;#BMP</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-LAYER">LAYER</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-ADJUSTMENT">Adjustment</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-IMAGE-FILE-FORMATS">Image&nbsp;file&nbsp;formats</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-VIDEO-FILE-DEFINING-TO-BMP">Video&nbsp;file&nbsp;defining&nbsp;to&nbsp;#BMP</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXBMPXX">#EXBMPxx</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BGAXX">#BGAxx</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-COMPATIBILITY-OF-BGAXX">About&nbsp;the&nbsp;compatibility&nbsp;of&nbsp;#BGA</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ATBGAXX">#@BGAxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#POORBGA">#POORBGA</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SWBGAXX">#SWBGAxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ARGBXX">#ARGBxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEOFILE">#VIDEOFILE</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEOFPS">#VIDEOf/s</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEOCOLORS">#VIDEOCOLORS</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEODLY">#VIDEODLY</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MOVIE">#MOVIE</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SEEKXX">#SEEKxx</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTCHR">#ExtChr</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MATERIALS">MATERIALS</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MATERIALSWAV">#MATERIALSWAV</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MATERIALSBMP">#MATERIALSBMP</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIVIDEPROP">#DIVIDEPROP</a></li>
    <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHARSET">#CHARSET</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHARSET-SUPPORT-FOR-UNICODE">Support&nbsp;for&nbsp;Unicode</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#P-URL">%URL</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#P-EMAIL">%EMAIL</a></li>
   </ul></li>
  <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CONTROL-FLOW">&lt;CONTROL&nbsp;FLOW&gt;</a></p>
   <ul>
    <li class="inlinize"><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANDOM">#RANDOM</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#IF">#IF</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ELSEIF">#ELSEIF</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ELSE">#ELSE</a></li>
      <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ENDIF">#ENDIF</a></p>
       <ul>
        <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RONDAM">#RONDAM</a></li>
        <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#END-IF">#END&nbsp;IF</a></li>
        <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXAMPLES-OF-MISTAKES">EXAMPLES-OF-MISTAKES</a></li>
       </ul></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SETRANDOM">#SETRANDOM</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ENDRANDOM">#ENDRANDOM</a></li>
     </ul></li>
    <li class="inlinize"><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SWITCH">#SWITCH</a></p>
     <ul>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CASE">#CASE</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SKIP">#SKIP</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEF">#DEF</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SETSWITCH">#SETSWITCH</a></li>
      <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ENDSW">#ENDSW</a></li>
     </ul></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#INDENT-STYLE">Indent&nbsp;style</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENT-SYNTAX">Comment&nbsp;syntax</a></li>
   </ul></li>
  <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANNEL">&lt;CHANNEL&gt;</a></p>
   <ul>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANNEL-MAPPING-TABLE">チャンネル割り当て表</a></li>
    <li><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYMAP-TABLE">KEY&nbsp;割り当て表</a></li>
   </ul></li>
 </ul>
 <hr>
</nav>


<article id="BMS-APPS" itemscope="itemscope">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMS-APPS">BMS&nbsp;apps:</a></h2>

<p>このドキュメントは便宜的に以下の略称を使用します。 (公称とは異なる可能性があります。)</p>
<table>
 <thead>
  <tr>
   <th scope="col">The name and version</th>
   <th scope="col"><abbr title="abbreviation">Abbr</abbr></th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Body (obsolete):</th>
  </tr>
  <tr>
   <td>BM98 &amp; BM98 kikuchan version 330 revision 42</td>
   <td>BM98</td>
   <td><!-- (a href="http://www2.pf-x.net/%7Ebforb/hard2.html"
     title="&#x672C;&#x4F53;&#x306E;&#x5165;&#x624B; - BM98 for the BEGINNER" class="external" rel="external" hreflang="ja"
    )(span itemprop="url">http://www2.pf-x.net/~bforb/hard2.html (/span)(/a) --><a href="https://hitkey.nekokan.dyndns.info/bm98.htm" title="BM98 Kikuchan Version 3.30 Revision #4.2" hreflang="en"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bm98.htm</span></a></td>
  </tr>
  <tr>
   <td>BM98 Kikuchan Version 3.32β Drink Edition</td>
   <td>BM98de</td>
   <td><a href="http://www.uranus.dti.ne.jp/~kikuchan/bm98/" title="きくちゃんのページ 2nd - BM98" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.uranus.dti.ne.jp/~kikuchan/bm98/</span></a></td>
  </tr>
  <tr>
   <td>music game quest ver2.18</td>
   <td>MGQ</td>
   <td><a href="https://web.archive.org/web/*/http://www.geocities.co.jp/Playtown/4702/*" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://www.geocities.co.jp/Playtown/4702/*</span></a></td>
  </tr>
  <tr>
   <td>Delight Delight Reduplication Ver.0.50 beta5</td>
   <td>DDR</td>
   <td><a href="https://delight.airytail.co/download.html" title="Download - Delight Delight Reduplication Support Page" class="external" rel="external" hreflang="ja"><span itemprop="url">https://delight.airytail.co/download.html</span></a></td>
  </tr>
  <tr>
   <td>rhythm-it 1.72a</td>
   <td>RDM</td>
   <td><a href="https://nvyu.net/rdm/download3.php" title="ruv-it! | support page" class="external" rel="external" hreflang="ko"><span itemprop="url">https://nvyu.net/rdm/download3.php</span></a></td>
  </tr>
  <tr>
   <td>Mixwaver 1.6 Final &amp; MixWaver][ 1.2</td>
   <td>MW</td>
   <td><a href="http://mixwaver.s18.xrea.com/html/dl_mw.html" title="Download - MixWaver Official Support Page" class="external" rel="external" hreflang="ja"><span itemprop="url">http://mixwaver.s18.xrea.com/html/dl_mw.html</span></a></td>
  </tr>
  <tr>
   <td>BmDx Millennium Edition M6 (<a href="https://web.archive.org/web/*/http://www.interq.or.jp/ski/sakura/BmDxA.html" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja">old document</a>)</td>
   <td>BmDx</td>
   <td><a href="https://web.archive.org/web/*/http://www.interq.or.jp/ski/sakura/otoge/otoge_bmdx.html" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://www.interq.or.jp/ski/sakura/otoge/otoge_bmdx.html</span></a></td>
  </tr>
  <tr>
   <td>bemaniaDX Vision.3 APPEND Vision.4 Skin version 0.95</td>
   <td>bemaniaDX</td>
   <td><a href="https://web.archive.org/web/20070518162219/http://bemaniadx.s3.xrea.com/download.html" title="■ bemaniaDX Download Site ■" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/20070518162219/http://bemaniadx.s3.xrea.com/download.html</span></a></td>
  </tr>
  <tr>
   <td>unofficial nazobmplay rev.798</td>
   <td>nazo</td>
   <td><a href="http://manbow.nothing.sh/nazobmplay/download.html" title="nazoBMplay 非公式ダウンロードサイト" class="external" rel="external" hreflang="ja"><span itemprop="url">http://manbow.nothing.sh/nazobmplay/download.html</span></a></td>
  </tr>
  <tr>
   <td>unofficial nazobmplay rev.798 + Glasopal <time datetime="2008-03-13">20080313</time></td>
   <td>nazoZZ</td>
   <td><!-- (a href="http://cherry.webdos.net/%7Ebmsm/mirror/glasopal.html"
     title="Glasopal &#x30DF;&#x30E9;&#x30FC;&#x30DA;&#x30FC;&#x30B8;" class="external" rel="external" hreflang="ja"
    )(span itemprop="url")http://cherry.webdos.net/~bmsm/mirror/glasopal.html (/span)(/a) --><a href="https://hitkey.nekokan.dyndns.info/glasopal.html" title="Glasopal ミラーページ" hreflang="ja"><span itemprop="url">https://hitkey.nekokan.dyndns.info/glasopal.html</span></a></td>
  </tr>
  <tr>
   <td>BM2DXEmu a20</td>
   <td>DXEmu</td>
   <td><a href="http://www.charatsoft.com/software/bm2dxemu/index.html" title="■CharatSoft.com » SOFTWARE » BM2DXEmu α" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.charatsoft.com/software/bm2dxemu/index.html</span></a></td>
  </tr>
  <tr>
   <td>MacBeat 0.9.8.3</td>
   <td>Mac</td>
   <td><!-- a href="https://web.archive.org/web/*/http://harinezumi.s14.xrea.com/MacBeat0983.sit.bin"
     title="Internet Archive Wayback Machine" class="external" rel="external nofollow"
    --><span itemprop="url" class="u external">http://harinezumi.s14.xrea.com/download/MacBeat0983.sit.bin</span><!-- /a --></td>
  </tr>
  <tr>
   <td>Aqua'n Beats 1.0.3</td>
   <td>Aqua</td>
   <td><a href="http://aquan-beats.matrix.jp/" title="Aqua&#39;nBeats" class="external" rel="external" hreflang="ja"><span itemprop="url">http://aquan-beats.matrix.jp/</span></a></td>
  </tr>
  <tr>
   <td>ナナシグルーヴ ver.1.552</td>
   <td>nanasi</td>
   <td><a href="http://d11x.sakura.ne.jp/asdf/?p=13" title="ナナシグルーヴ » A.S.D.F." class="external" rel="external" hreflang="ja"><span itemprop="url">http://d11x.sakura.ne.jp/asdf/?p=13</span></a></td>
  </tr>
  <tr>
   <td>forgetalia++ (<time datetime="2009-04-15">2009-04-15</time>)</td>
   <td>fgt++</td>
   <td><span itemprop="url" class="u external">http://cerebralmuddystream.hp.infoseek.co.jp/forgetalia++/index.html</span> (DL 不可なう)</td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Body (current):</th>
  </tr>
  <tr>
   <td>LunaticRave2 <time datetime="2010-02-01">100201</time></td>
   <td>LR2</td>
   <td><a href="https://web.archive.org/web/20110210225009/http://www.lr2.sakura.ne.jp/index2.html" title="縮小運営中" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/20110210225009/http://www.lr2.sakura.ne.jp/index2.html</span></a>
     (現在、日本の事実上の標準)</td>
  </tr>
  <tr>
   <td>ruv-it! 2.0 b5p7 test #7 (<time datetime="2012-03-19">2012-03-19</time>)</td>
   <td>ruvit</td>
   <td><a href="https://nvyu.net/rdm/" title="ruv-it! | support page" class="external" rel="external" hreflang="ko"><span itemprop="url">https://nvyu.net/rdm/</span></a> (現在、韓国の事実上の標準)</td>
  </tr>
  <tr>
   <td>ナナシグルーヴ2 beta (Toy Musical 3 Ver.2.2)</td>
   <td>nanasi2</td>
   <td><a href="http://d11x.sakura.ne.jp/asdf/" title="A.S.D.F" class="external" rel="external" hreflang="ja"><span itemprop="url">http://d11x.sakura.ne.jp/asdf/</span></a></td>
  </tr>
  <tr>
   <td>forgetalia# (<time datetime="2011-04-16">2011-04-16</time>)</td>
   <td>fgt#</td>
   <td><span itemprop="url" class="u external">https://cerebralmuddystream.nekokan.dyndns.info/soft/forgetalia_sp.zip</span></td>
  </tr>
  <tr>
   <td>ふぃーりんぐぽみゅせかんど Ver 0.8001</td>
   <td>pomu2</td>
   <td><a href="https://pmcc.nekokan.dyndns.info/pmcc2/download.html" title="Colorful Channel official website ++ download" class="external" rel="external" hreflang="ja"><span itemprop="url">https://pmcc.nekokan.dyndns.info/pmcc2/download.html</span></a></td>
  </tr>
  <tr>
   <td>charatbeatHDX VIOLET (v1.05)</td>
   <td>HDX</td>
   <td><a href="http://www.charatsoft.com/software/charatbeatHDX/index.html" title="■CharatSoft.com » SOFTWARE » charatbeatHDX VAIOLET" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.charatsoft.com/software/charatbeatHDX/index.html</span></a></td>
  </tr>
  <tr>
   <td>Angolmois 2.0 e5cea53a2cbd</td>
   <td>Angolmois</td>
   <td><a href="https://mearie.org/projects/angolmois/" title="Angolmois | mearie.org Projects" class="external" rel="external" hreflang="en"><span itemprop="url">https://mearie.org/projects/angolmois/</span></a></td>
  </tr>
  <tr>
   <td>Angolmois Rust Edition (<time datetime="2014-04-18T04:53:30">2014-04-08</time>)</td>
   <td>Angolmois</td>
   <td><a href="https://github.com/lifthrasiir/angolmois-rust" title="lifthrasiir/angolmois-rust · GitHub" class="external" rel="external" hreflang="en"><span itemprop="url">https://github.com/lifthrasiir/angolmois-rust</span></a></td>
  </tr>
  <tr>
   <td>Sonorous 0.1.0-pre (<time datetime="2014-07-08">2014-07-08</time>)</td>
   <td>Sonorous</td>
   <td><a href="https://cosmic.mearie.org/f/sonorous/" title="Sonorous" class="external" rel="external" hreflang="en"><span itemprop="url">https://cosmic.mearie.org/f/sonorous/</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Editor:</th>
  </tr>
  <tr>
   <td>BMS Creator 2.0b1</td>
   <td>BMSC</td>
   <td><a href="http://tixlab.com/software/bmsc.shtml" title="BMS Creator" class="external" rel="external" hreflang="ja"><span itemprop="url">http://tixlab.com/software/bmsc.shtml</span></a></td>
  </tr>
  <tr>
   <td>beditor 1.3.1</td>
   <td>beditor</td>
   <td><a href="https://web.archive.org/web/*/http://macbeat.at.infoseek.co.jp/data/*" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://macbeat.at.infoseek.co.jp/data/*</span></a></td>
  </tr>
  <tr>
   <td>GDA Creator Professional Edition Ver.0.24</td>
   <td>GDAC2</td>
   <td><a href="https://www.asahi-net.or.jp/~nm4j-tyn/gdac2/" title="GDA Creator Professional Edition" class="external" rel="external" hreflang="ja"><span itemprop="url">https://www.asahi-net.or.jp/~nm4j-tyn/gdac2/</span></a></td>
  </tr>
  <tr>
   <td>GDAC2 ナナシグルーヴ拡張対応レーンスクリプト</td>
   <td>774gsc</td>
   <td><span itemprop="url" class="u external">http://asdf.bms.ms/soft/nanasi/774gsc.zip</span> (DL 不可なう)</td>
  </tr>
  <tr>
   <td>BMx Sequence Editor 1.3.8</td>
   <td>BMSE</td>
   <td><a href="http://ucn.tokonats.net/software/bmse/" title="UCN-Soft - Software » BMSE" class="external" rel="external" hreflang="ja"><span itemprop="url">http://ucn.tokonats.net/software/bmse/</span></a></td>
  </tr>
  <tr>
   <td>BMx Sequence Editor dttvb-1.3.8 (<time datetime="2011-11-16T18:36:00">2011-11-16T18:36:00</time> ver.)</td>
   <td>BMSE</td>
   <td><a href="https://github.com/dtinth/UCN-BMSE" title="dtinth/UCN-BMSE · GitHub" class="external" rel="external" hreflang="en"><span itemprop="url">https://github.com/dtinth/UCN-BMSE</span></a> (<abbr title="LongNotes">LN</abbr> の視覚化)</td>
  </tr>
  <tr>
   <td>iBMS BMS Creator 3.0.5 Delta</td>
   <td>iBMSC</td>
   <td><a href="https://web.archive.org/web/20140819164923/http://www.cs.mcgill.ca/~ryang6/iBMSC/" title="iBMSC - Home" class="external" rel="external" hreflang="en"><span itemprop="url">https://web.archive.org/web/20140819164923/http://www.cs.mcgill.ca/~ryang6/iBMSC/</span></a><!--
    (a href="http://www.cs.mcgill.ca/%7Eryang6/iBMSC/"
     title="iBMSC - Home" class="external" rel="external" hreflang="en"
    )(span itemprop="url")http://www.cs.mcgill.ca/~ryang6/iBMSC/ (/span)(/a) --></td>
  </tr>
  <tr>
   <td>DTXCreator 026 (<time datetime="2014-07-07">July 7th, 2014</time>)</td>
   <td>DTXC</td>
   <td><a href="https://en.osdn.jp/projects/dtxmania/releases/" title="Download Files List - DTXMania - OSDN" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.osdn.jp/projects/dtxmania/releases/</span></a><!--
    (a href="http://en.sourceforge.jp/projects/dtxmania/releases/"
     title="Download Files List - DTXMania - SourceForge.JP" class="external" rel="external" hreflang="en"
    )(span itemprop="url")http://en.sourceforge.jp/projects/dtxmania/releases/ (/span)(/a)
    (a href="http://en.sourceforge.jp/projects/dtxmania/releases/?package_id=11589"
     title="Download - DTXMania - SourceForge.JP" class="external" rel="external" hreflang="ja"
    )(span itemprop="url")http://en.sourceforge.jp/projects/dtxmania/releases/?package_id=11589 (/span)(/a) --></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Viewer (obsolete):</th>
  </tr>
  <tr>
   <td>BMS Viewer 2.0</td>
   <td>BMSV</td>
   <td><a href="https://web.archive.org/web/*/http://www.h3.dion.ne.jp/~cpp/download/bmview/index.html" title="BMS Viewer - ていくいっと れいずぃ！" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://www.h3.dion.ne.jp/~cpp/download/bmview/index.html</span></a></td>
  </tr>
  <tr>
   <td>BME(BMS) Viewer 0.04</td>
   <td>BMEV</td>
   <td><a href="http://www.din.or.jp/~k-uraki/game/tools.html" title="Game Support Tools - うらこく" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.din.or.jp/~k-uraki/game/tools.html</span></a></td>
  </tr>
  <tr>
   <td>nBMplay v0.26a</td>
   <td>nBMplay</td>
   <td><a href="http://www.nothing.sh/download/" title="Index of /download - area[nothing]: Really Simple Site" class="external" rel="external" hreflang="en"><span itemprop="url">http://www.nothing.sh/download/</span></a></td>
  </tr>
  <tr>
   <td>in_bm 1.17 (WAview)</td>
   <td>WAview</td>
   <td><a href="https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/" title="in_bm公開ページ" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/</span></a>
    (plug-in of <cite>Winamp</cite> (<a href="https://www.winamp.com/" title="Winamp Media Player - MP3, Video, and Music Player - Winamp" class="external" rel="external" hreflang="en"><span itemprop="url">https://www.winamp.com/</span></a>)</td>
  </tr>
  <tr>
   <td>o2play <time datetime="2009-09-12">2009-09-12</time></td>
   <td>o2play</td>
   <td><a href="http://rlnoparo.ys168.com/" title="rlnoparo.ys168.com" class="external" rel="external" hreflang="zh"><span itemprop="url">http://rlnoparo.ys168.com/</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Viewer (current):</th>
  </tr>
  <tr>
   <td>uBMplay 1.5.2</td>
   <td>uBMplay</td>
   <td><a href="http://ucn.tokonats.net/software/ubmplay/" title="UCN-Soft - Software » uBMplay" class="external" rel="external" hreflang="ja"><span itemprop="url">http://ucn.tokonats.net/software/ubmplay/</span></a></td>
  </tr>
  <tr>
   <td>PMSee-V v2.2.3</td>
   <td>PMSee-V</td>
   <td><a title="ポニラボ" class="external" rel="external" hreflang="ja" href="https://sakukoba.ninja-x.jp/ponila/"><span itemprop="url">https://sakukoba.ninja-x.jp/ponila/</span></a><!-- 
    (a title="&#x307D;&#x307F;&#x3085;&#x30C4;&#x30FC;&#x30EB;" class="external" rel="external" hreflang="ja"
     href="http://sakukoba.ninja-x.jp/pomu_pms/tool.html")(span itemprop="url")http://sakukoba.ninja-x.jp/pomu_pms/tool.html (/span)(/a) --></td>
  </tr>
  <tr>
   <td>BMIIDXView2010 v2.14</td>
   <td>IIDXv</td>
   <td><a href="http://www.charatsoft.com/software/bmview/index.html" title="■CharatSoft.com » SOFTWARE » BMIIDXView2010" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.charatsoft.com/software/bmview/index.html</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Others (obsolete):</th>
  </tr>
  <tr>
   <td>otama Ver.0.991</td>
   <td>otama</td>
   <td><a href="https://www.asahi-net.or.jp/~VG5M-OBT/otama.html" title="otama" class="external" rel="external" hreflang="ja"><span itemprop="url">https://www.asahi-net.or.jp/~VG5M-OBT/otama.html</span></a> (弾幕ゲー)</td>
  </tr>
  <tr>
   <td>NINJA AGENT GALLI ver1.03</td>
   <td>GALLI</td>
   <td><a href="https://web.archive.org/web/20160311123053/http://ninjaactionteam.sakura.ne.jp/sakuhin_bmsplayer.html" title="忍者放送協会" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/20160311123053/http://ninjaactionteam.sakura.ne.jp/sakuhin_bmsplayer.html</span></a> (アクションゲーム)</td>
  </tr>
  <tr>
   <td>BMS Printer Ver.0.01 Pre-Release</td>
   <td>bmsPRN</td>
   <td><a href="https://delight.airytail.co/download.html" title="Download - Delight Delight Reduplication Support Page" class="external" rel="external" hreflang="ja"><span itemprop="url">https://delight.airytail.co/download.html</span></a></td>
  </tr>
  <tr>
   <td>bms2wav 0.07b / 0.07c</td>
   <td>bms2wav</td>
   <td><!-- (a href="http://homepage2.nifty.com/ma%7E/"
     title="&#x8C5A;&#x6C41;&#x5927;&#x597D;&#x304D;" class="external" rel="external" hreflang="ja"
    ) --><span itemprop="url" class="external u">http://homepage2.nifty.com/ma~/</span><!-- (/a) --> (ダウンロード不可なう)</td>
  </tr>
  <tr>
   <td>bme2wav BETA 13</td>
   <td>bme2wav</td>
   <td><a href="http://childs.squares.net/program/bme2wav/index.html" title="BME2WAV - CHILD&#39;S SQUARE" class="external" rel="external" hreflang="ja"><span itemprop="url">http://childs.squares.net/program/bme2wav/index.html</span></a></td>
  </tr>
  <tr>
   <td>BmsToAvi 0.03c</td>
   <td>bms2avi</td>
   <td><a href="http://www32.tok2.com/home/digitalapeman/Tools/BmsToAvi/BmsToAvi.html" title="BmsToAvi" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www32.tok2.com/home/digitalapeman/Tools/BmsToAvi/BmsToAvi.html</span></a></td>
  </tr>
  <tr>
   <td>BGAEncoder 0.2a</td>
   <td>BGAenc</td>
   <td><a href="http://titans-server.ddo.jp/~murasin/" class="external" rel="external" hreflang="ja"><span itemprop="url">http://titans-server.ddo.jp/~murasin/</span></a> (ダウンロード不可なう)</td>
  </tr>
  <tr>
   <td>in_bm 2.01</td>
   <td>in_bm2</td>
   <td><a href="https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/" title="in_bm公開ページ" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/</span></a> (plug-in of <a href="https://www.winamp.com/" title="Winamp Media Player - MP3, Video, and Music Player - Winamp" class="external" rel="external" hreflang="en">Winamp</a>)</td>
  </tr>
  <tr>
   <td>BMS/BME/EMS plugin for KbMediaPlayer version 1.0r13</td>
   <td>bmse.kpi</td>
   <td><p>KbMedia Player Version 2.63a に同梱</p>
    <p><a href="http://hwm5.gyao.ne.jp/kobarin/index.htm" title="Kobarinのホームページ" class="external" rel="external" hreflang="ja"><span itemprop="url">http://hwm5.gyao.ne.jp/kobarin/index.htm</span></a></p></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Others (current):</th>
  </tr>
  <tr>
   <td>bmx2wav 1.3.3</td>
   <td>bmx2wav</td>
   <td><a href="http://childs.squares.net/program/bmx2wav/index.html" title="BMX2WAV - CHILD&#39;S SQUARE" class="external" rel="external" hreflang="ja"><span itemprop="url">http://childs.squares.net/program/bmx2wav/index.html</span></a></td>
  </tr>
  <tr>
   <td>PMChr-V v4.0.2</td>
   <td>PMChr-V</td>
   <td><a title="ポニラボ" class="external" rel="external" hreflang="ja" href="https://sakukoba.ninja-x.jp/ponila/"><span itemprop="url">https://sakukoba.ninja-x.jp/ponila/</span></a><!-- 
    (a title="&#x307D;&#x307F;&#x3085;&#x30C4;&#x30FC;&#x30EB;" class="external" rel="external" hreflang="ja"
     href="http://sakukoba.ninja-x.jp/pomu_pms/tool.html")(span itemprop="url")http://sakukoba.ninja-x.jp/pomu_pms/tool.html (/span)(/a) --></td>
  </tr>
  <tr>
   <td>woslicerII (wav ファイル切断兵器)</td>
   <td>woslicerII</td>
   <td><a href="https://cerebralmuddystream.nekokan.dyndns.info/" title="脳性濁流" class="external" rel="external" hreflang="ja"><span itemprop="url">https://cerebralmuddystream.nekokan.dyndns.info/</span></a></td>
  </tr>
  <tr>
   <td>woslicerII (バグ修正版? <time datetime="2012-09-14T01:37:52+09:00">2012-09-14</time>)</td>
   <td>woslicerII</td>
   <td><a href="https://twitter.com/wosderge/status/246852579550699522" title="Twitter / wosderge:" class="external" rel="external" hreflang="ja"><span itemprop="url">https://twitter.com/wosderge/status/246852579550699522</span></a></td>
  </tr>
  <tr>
   <td>woslicerIII <del datetime="2013-09-23T20:20:00+09:00">(要 .NET Framework 4.5 (Windows Vista 以降))</del></td>
   <td>woslicerIII</td>
   <!-- td)(p)(a href="https://twitter.com/wosderge/status/336766292918935552"
     title="Twitter / wosderge: &#x3010;&#x6C42;&#x30FB;&#x4EBA;&#x67F1;&#x3011; ..." class="external" rel="external" hreflang="ja"
    )(span itemprop="url")https://twitter.com/wosderge/status/336766292918935552 (/span)(/a)(/p)
    (p)alt: (a href="https://www.dropbox.com/s/mexee90tjl4eqi3/woslicerIII.zip"
     title="Dropbox - woslicerIII.zip" class="external" rel="external" hreflang="en"
    )(span itemprop="url")https://www.dropbox.com/s/mexee90tjl4eqi3/woslicerIII.zip (/span)(/a)(/p)(/td -->
   <td><a href="https://cerebralmuddystream.nekokan.dyndns.info/" title="脳性濁流" class="external" rel="external" hreflang="ja"><span itemprop="url">https://cerebralmuddystream.nekokan.dyndns.info/</span></a></td>
  </tr>
  <tr>
   <td>BMx Outliner (for now, <code>#RANDOM</code> / <code>#SWITCH</code> viewer)</td>
   <td>outliner</td>
   <td><a href="https://hitkey.nekokan.dyndns.info/bmxoutliner.htm" title="BMx Outliner" hreflang="en"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmxoutliner.htm</span></a> (web apps)</td>
  </tr>
  <tr>
   <td>Starry Music Beat ver1.03</td>
   <td>SMB</td>
   <td><a href="https://itunes.apple.com/jp/app/starry-music-beat/id481749987?mt=8" title="App Store - Starry Music Beat" class="external" rel="external" hreflang="ja"><span itemprop="url">https://itunes.apple.com/jp/app/starry-music-beat/id481749987?mt=8</span></a> (for iOS)</td>
  </tr>
  <tr>
   <td>BGAEncAdvance Ver0.034</td>
   <td>BGAEncAdv</td>
   <td><a href="https://yaruki0.net/programs/bgaencadv.html" title="Nageyari Software &gt; プログラム &gt; BGAEncAdvance" class="external" rel="external" hreflang="ja"><span itemprop="url">https://yaruki0.net/programs/bgaencadv.html</span></a><!--
     http://yaruki0.sakura.ne.jp/programs/bgaencadv.html https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html --></td>
  </tr>
  <tr>
   <td>bms diff tool</td>
   <td>diff</td>
   <td><a href="https://stairway.sakura.ne.jp/smalltools/minibmsplay/diff.htm" title="bms diff tool" class="external" rel="external" hreflang="ja"><span itemprop="url">https://stairway.sakura.ne.jp/smalltools/minibmsplay/diff.htm</span></a> (web apps)</td>
  </tr>
  <tr>
   <td>lr2_pmsview_helper</td>
   <td>LR2PMS</td>
   <td><a href="https://twitter.com/misty_ls04/status/473058415636279296" title="【人柱求む】" class="external" rel="external" hreflang="ja"><span itemprop="url">https://twitter.com/misty_ls04/status/473058415636279296</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">to be tested:</th>
  </tr>
  <tr>
   <td>o2mania 1.2.0</td>
   <td>o2mania</td>
   <td><a href="http://www.o2mania.com/" title="O2MANIA-DJMAX劲乐团单机版模拟器" class="external" rel="external" hreflang="zh"><span itemprop="url">http://www.o2mania.com/</span></a></td>
  </tr>
  <tr>
   <td>MyO2 <time datetime="2011-06-01">2011-06-01</time></td>
   <td>MyO2</td>
   <td><ins datetime="2012-01-13T00:00:00+09:00">(怒られたっぽいので載せるのやめ)</ins>
   <!--
    (span itemprop="url" class="u external")http://www.allcombo.com/myo2/MYO2.rar (/span) ((a href="http://www.allcombo.com/myo2/"
     title="MyO2 &#x7F51;&#x9875;&#x97F3;&#x4E50;&#x6E38;&#x620F; - &#x5B98;&#x65B9;&#x7F51;&#x7AD9;"
     class="external" rel="external nofollow" hreflang="zh")(span itemprop="url")http://www.allcombo.com/myo2/ (/span)(/a))
   -->
   </td>
  </tr>
  <tr>
   <td>D3beat ver1.1 (<a href="https://en.wikipedia.org/wiki/Jubeat" title="Jubeat - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">jubeat</a> style
    / Windows7 or later)</td>
   <td>D3beat</td>
   <td><a title="プログラミング ‐ ニコニコ動画(原宿)" class="external" rel="external" hreflang="ja" href="http://www.nicovideo.jp/mylist/29296483"><span itemprop="url">http://www.nicovideo.jp/mylist/29296483</span></a></td>
  </tr>
  <tr>
   <td>不可視地雷コンバータ for LR2</td>
   <td>3-4toD-E</td>
   <td><a href="https://nekokan.dyndns.info/~otlovers/guidance/guidance_4b.html" title="Obj Tech Lovers | Guidance chapter4-7" class="external" rel="external" hreflang="ja"><span itemprop="url">https://nekokan.dyndns.info/~otlovers/guidance/guidance_4b.html</span></a></td>
  </tr>
  <tr>
   <td>Sp2Dp ver_<time datetime="2011-06-22">110622</time></td>
   <td>SP2DP</td>
   <td><span itemprop="url" class="u external">http://www.geocities.jp/o6o_o9o_o6o/soft/</span> (ダウンロード不可なう)</td>
  </tr>
  <tr>
   <td>BMSE ClipBoard Object Data Format to NoteDrop Converter</td>
   <td>BM-ND</td>
   <td><a href="http://bmse-notedrop.jgate.de/" title="bmse-notedrop" class="external" rel="external" hreflang="en"><span itemprop="url">http://bmse-notedrop.jgate.de/</span></a> (web apps)</td>
  </tr>
  <tr>
   <td>Be-Music Helper (beta 4′) <del datetime="2013-09-23T20:20:00+09:00">(Windows Vista 以降)</del></td>
   <td>bmhelper</td>
   <td><a href="https://excln.github.io/bmhelper.html" class="external" rel="external" hreflang="ja" title="Lazy Notes"><span itemprop="url">https://excln.github.io/bmhelper.html</span></a></td>
  </tr>
  <tr>
   <td>Mid2BMS</td>
   <td>Mid2BMS</td>
   <td><a href="http://mid2bms.web.fc2.com/" class="external" rel="external" hreflang="ja" title="Mid2BMS BMS Improved Development Environment"><span itemprop="url">http://mid2bms.web.fc2.com/</span></a></td>
  </tr>
  <tr>
   <td>[仮称] [更新停止] TechnicalGroove</td>
   <td>techGrv</td>
   <td><a href="https://web.archive.org/web/*/https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html" title="おとげせいさくちゅう" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html</span></a><!--
    (a href="https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html"
     title="&#x304A;&#x3068;&#x3052;&#x305B;&#x3044;&#x3055;&#x304F;&#x3061;&#x3085;&#x3046;" class="external" rel="external" hreflang="ja"
    )(span itemprop="url")https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html (/span)(/a) --></td>
  </tr>
 </tbody>
</table>
<footer><p>latest collection: <time itemprop="update" datetime="2014-07-11">2014-07-11</time></p></footer>
<hr>
</article>


<section id="MEMO-ABOUT-BMS-FORMAT-SPECIFICATION">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MEMO-ABOUT-BMS-FORMAT-SPECIFICATION"><cite>BMS Format Specification</cite> に関するメモ</a></h2>

<section id="ABOUT-THE-MINIMUM-REQUIREMENTS-WHICH-SPECIFICATION-INDICATES" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-MINIMUM-REQUIREMENTS-WHICH-SPECIFICATION-INDICATES">示されている最小限の要求仕様について:</a></h3>

<ul>
 <li><p>仕様の要約:</p>
  <ul>
   <li>このファイルフォーマットは、1998 年に、<span itemprop="name">Urao Yane</span> と <span itemprop="name">NBK</span> によって考案されました。</li>
   <li>誰でもこのフォーマットを自由に使用することができます。</li>
   <li><code>#</code> から始まる行はコマンド行です。 残りは全て無視されます (コメント用)。</li>
   <li>コマンド行は大文字小文字を問いません。</li>
   <li>コマンド行にはヘッダー文とチャンネル文の 2 種類があります。</li>
   <li><p>この BMS ファイルは実行時にコンパイルされます。したがって、私たちはいかなる行も自由に命じることができます。</p>
    <ul>
     <li>引用者注: つまり、ヘッダ文は BMS のどこにでも記述できます。</li>
     <li>引用者注: ヘッダ文は必ずしもチャンネル文の前に記述されるとは限りません。</li>
    </ul></li>
  </ul></li>
 <li><p>しかし、仕様の詳細は実装に依存します。</p>
  <ul>
   <li>例えばいくつかの実装は、特殊なケースにおいて大文字小文字を区別します。
    <dfn><abbr title="exempli gratia">e.g.</abbr></dfn>, <code>#LNOBJ&nbsp;XX</code></li>
   <li>小文字の &lt;HEADER&gt; をまったく認識できない実装も存在します。<span class="chameleonic">(O2play)</span></li>
  </ul></li>
</ul>
</section>

<section id="ABOUT-DETAILED-IMPLEMENTING-WHICH-SPECIFICATION-DOES-NOT-INDICATE" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-DETAILED-IMPLEMENTING-WHICH-SPECIFICATION-DOES-NOT-INDICATE">仕様が示さない詳細な実装について:</a></h3>

<ul>
 <li><p>ヘッダ文は、コマンドと値を分割するデリミタとして、1 個の半角空白を使用します。</p>
  <ul>
   <li><code>#header value</code> = <code>#</code> + <code><var>header</var></code> + <code><mark>␣</mark></code> + <code><var>value</var></code></li>
   <li>いくつかの実装は、デリミタとしてタブ文字も使用できます。</li>
   <li>いくつかの実装は、連続するホワイトスペースを、デリミタとして許します。</li>
   <li>いくつかの実装は、ホワイトスペースによるインデントを許します。</li>
   <li>それらの特徴をサポートしないいくつかの実装は、BMS の解析を誤るかもしれません。</li>
  </ul></li>
 <li><p>チャンネル文は、コマンドと値を分割するデリミタとして、1 個の半角コロンを使用します。</p>
  <ul>
   <li><code>#xxxCH:00112233</code> = <code>#</code> + <code>xxx</code> + <code><var>CH</var></code> + <code><mark>:</mark></code>
    + <code><var>00</var></code> + <code><var>11</var></code> + <code><var>22</var></code> + <code><var>33</var></code></li>
   <li><code>xxx</code>: 小節番号 [000-999]</li>
   <li><code><var>CH</var></code>: チャンネル番号</li>
   <li><p><code><var>00</var></code>, <code><var>11</var></code>, <code><var>22</var></code>, <code><var>33</var></code>:
    2 文字の英数字のペアから成る、各オブジェクトに対応するインデックス。</p>
    <table>
     <tbody>
      <tr><th scope="row">初期: 16 進数</th><td>16*16 (256)</td><td>[0-9A-Fa-f][0-9A-Fa-f]</td></tr>
      <tr><th scope="row">中期: 限定 36 進数</th><td>16*36 (576)</td><td>[0-9A-Fa-f][0-9A-Za-z]</td></tr>
      <tr><th scope="row">現在: 36 進数</th><td>36*36 (1296)</td><td>[0-9A-Za-z][0-9A-Za-z]</td></tr>
     </tbody>
    </table></li>
   <li>いくつかの「インデックス」から成る値は、等間隔で小節を分割します。</li>
   <li>4 つのインデックスが記述されれば、小節は 4 等分されます。それは「4 つの四分音符」というリズムを指定したことを意味します。</li>
   <li><code>00</code> は休符です。</li>
   <li><code>00</code> 以外のインデックスが指すものは、各チャンネルに依存します。
    それは <code>#WAV<mark>xx</mark></code> か <code>#BMP<mark>xx</mark></code>、あるいはそれ以外かもしれません。</li>
  </ul></li>
 <li><p>譜面ファイルは本質的にプレーンテキストです。
  拡張子 <code>TXT</code> が <code>BMS</code> に変更されれば、BMS アプリケーションは譜面を認識するでしょう。</p>
  <ul>
   <li>BMS ファイルのエンコードを仕様は示していません。
    この事実は、<dfn><abbr title="Double-Byte Character Set">DBCS</abbr></dfn> が改竄される問題を引き起こします。
    (<a href="https://en.wikipedia.org/wiki/Mojibake" title="Mojibake - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">mojibake</a>)</li>
   <li>ほとんどの日本の BMS ファイルは Shift_JIS で書かれています。
    <a href="https://en.wikipedia.org/wiki/Shift_JIS" title="Shift JIS - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Shift_JIS</span></a></li>
   <li><p>多くの日本の BMS アプリケーションは多言語のエンコードをサポートしていません。</p>
    <ul>
     <li><p>BMS コマンドの値が <abbr title="Double-Byte Character Set">DBCS</abbr> を含んでいる場合、
      値は改竄されるかもしれません (<a href="https://en.wikipedia.org/wiki/Mojibake" title="Mojibake - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">mojibake</a>)。</p>
      <p>しかしながら、<dfn><abbr title="Operating System">OS</abbr></dfn> が日本語版 Windows である場合、
       Shift_JIS で書かれた <abbr title="Double-Byte Character Set">DBCS</abbr> はたまたま正しく表示されます。</p></li>
     <li>ファイル名やディレクトリ名が <abbr title="Double-Byte Character Set">DBCS</abbr> を含んでいる場合、
      BMS アプリケーションは誤動作するかもしれません。
      しかし日本語版 Windows では、Shift_JIS で書かれた <abbr title="Double-Byte Character Set">DBCS</abbr> のパスは、たまたまうまくいきます。</li>
     <li>日本語版 Windows では、<a href="https://en.wikipedia.org/wiki/ISO/IEC_2022" title="ISO/IEC 2022 - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">JIS (ISO-2022-JP)</a> や
      <a href="https://en.wikipedia.org/wiki/Extended_Unix_Code" title="Extended Unix Code - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">EUC-KR</a> で書かれた BMS が、LR2 や BMX2WAV に不具合をもたらした例が知られています。</li>
    </ul></li>
   <li>すべての実装にとって安全な文字集合は
    <dfn><abbr title="American Standard Code for Information Interchange">ASCII</abbr></dfn>
    (<dfn><abbr title="American National Standards Institute">ANSI</abbr></dfn>) だけです。
    私たちは、少なくともファイル名とディレクトリ名に対しては、<abbr title="Double-Byte Character Set">DBCS</abbr> を使用するべきではありません。</li>
   <li><p>ruvit, iBMSC, IIDXv (2.13+), HDX (0.98+), Sonorous, BGAEncAdv, TechnicalGroove は多言語のエンコードをサポートしています。</p>
    <ul>
     <li>しかしながら、それは、文字列が正確に表示されることを保証するわけではありません。</li>
     <li><del datetime="2013-01-16T19:00:00+09:00">UTF-16 が BMS の主流になるまでは、文字が改竄されうる問題は避けられないでしょう。</del></li>
     <li><del datetime="2013-01-16T19:00:00+09:00">UTF-16 が普及したとしても、この問題は完全には解決されません。</del></li>
     <li>YEN-SIGN problem, WAVE-DASH problem, WON-SIGN problem, GB_18030, etc...<!--
       (a href="http://imysql.cn/docs/MySQL_51_en/ch10s10.html" class="external" rel="external" hreflang="en"
        title="FAQ: MySQL Chinese, Japanese, and Korean Character Sets")YEN-SIGN problem, WAVE-DASH problem, WON-SIGN problem, GB_18030, etc...(/a)
      --></li>
    </ul>
    <p><img src="content/ruvit-titlebar-unicode-string.png" alt="#TITLE (^^)♥♡♠♤♣♧♦♢♨☀☁☃☄☊☚☠♘☲☸♩♪♫♬♭♮" width="537" height="30"><img src="content/unicode-filename.png" alt="filename: foon♥.bms" width="130" height="71"></p></li>
  </ul></li>
</ul>

</section>

<section id="BEHAVIOR-IN-GENERAL-IMPLEMENTATION" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BEHAVIOR-IN-GENERAL-IMPLEMENTATION">一般的な実装の挙動:</a></h3>

<ul>
 <li><p>同一のヘッダが重複する場合、<dfn><abbr title="End Of File">EOF</abbr></dfn> に近い側が採用されます:</p>
  <table>
   <thead>
    <tr><th scope="col">remarks</th><th scope="col">sample BMS code</th></tr>
   </thead>
   <tbody>
    <tr><td>(line number 100)</td><td><code>#TITLE&nbsp;<var>ABC</var></code></td></tr>
    <tr><td>(line number 200)</td><td><code>#TITLE&nbsp;<var>DEF</var></code></td></tr>
   </tbody>
  </table>
  <p>この BMS の <code>#TITLE</code> の値は “<var>DEF</var>” です。</p>
  <ul>
   <li>このルールは、<code>#ExtChr</code>, <code>#STP</code>, <code>#WAVCMD</code>, <code>#OPTION</code>,
    および制御構文を除く、あらゆるヘッダに適用されます。</li>
   <li><ins datetime="2013-07-30T22:00:00+09:00">このルールは、<code>#SUBTITLE</code>, <code>#SUBARTIST</code>, <code>#COMMENT</code>,
    および <code>#LNOBJ</code> に適用されないかもしれません。</ins></li>
   <li>このルールは、チャンネル <code>#xxx02</code> (小節長) にも適用されます。</li>
   <li>ただし <code>#xxx02</code> が重複した場合、ruvit (b5p3 以前) は最初の行を採用します。 (b5p4 にて修正済み)</li>
  </ul></li>
 <li><p>しかしながら、以下のコマンドは例外であり、多少複雑な処理が要求されます。</p>
  <ul>
   <li><p>これらは同一のコマンドを複数行記述することができます:</p>
    <ul>
     <li><code>#ExtChr</code>: [BM98] Extended Character</li>
     <li><code>#STP</code>: [bemaniaDX] ストップシーケンス</li>
     <li><code>#WAVCMD</code>: [MacBeat] MOD もどき (MOD とは: <a href="https://en.wikipedia.org/wiki/MOD_%28file_format%29" title="MOD (file format) - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/MOD_%28file_format%29</span></a>)</li>
     <li><code>#OPTION</code>: [nanasigroove] 強制オプション</li>
     <li><ins datetime="2013-10-18T20:00:00+09:00"><code>#SUBTITLE</code>: [nanasigroove] 明示的な副題
      / [<em>Sonorous に限り、多重定義可能</em>]</ins></li>
     <li><ins datetime="2013-07-30T22:00:00+09:00"><code>#SUBARTIST</code>: [LunaticRave] 助力者情報
      / [<em>TechnicalGroove と Sonorous に限り、多重定義可能</em>]</ins></li>
     <li><ins datetime="2013-10-18T20:00:00+09:00"><code>#COMMENT</code>: [feelingPomu] 選曲画面上の字幕
      / [<em>Sonorous に限り、多重定義可能</em>]</ins></li>
     <li><ins datetime="2013-07-30T22:00:00+09:00"><code>#LNOBJ</code>: [Rhythm-it] ロングノート終端定義
      / [<em>TechnicalGroove に限り、LN 終端音声を複数定義可能</em>]</ins></li>
    </ul></li>
   <li><p>制御構文はさらに特別です。BMS の記法では、以下に示すコマンド群だけが、ブロック構造を構成します。</p>
    <ul>
     <li><p><code>#RANDOM</code> or <code>#SETRANDOM</code></p>
      <ul>
       <li><code>#IF</code></li>
       <li><code>#ELSEIF</code></li>
       <li><code>#ELSE</code></li>
       <li><code>#ENDIF</code></li>
      </ul>
      <p><code>#ENDRANDOM</code></p></li>
     <li><p><code>#SWITCH</code> or <code>#SETSWITCH</code></p>
      <ul>
       <li><code>#CASE</code></li>
       <li><code>#SKIP</code></li>
       <li><code>#DEF</code></li>
      </ul>
      <p><code>#ENDSW</code></p></li>
    </ul></li>
  </ul></li>
</ul>

<ul>
 <li><p>同一の小節で同一のチャンネルが重複する場合、両方が合成されます。</p>
  <ul>
   <li>しかしながら、この挙動は <code>#xxx01</code>
    (<dfn><abbr title="BackGround Music">BGM</abbr></dfn> channel), <code>#xxx02</code> (小節長),
    <code>#xxxA6</code> (<code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGEOPTIONXX">#CHANGEOPTION</a></code>) には適用されません。</li>
   <li>複数行の BGM は、複数行の BGM として解釈されなければなりません。それらは合成されてはなりません。</li>
   <li>複数の <code>#xxx02</code> チャンネル行が競合する場合、<abbr title="End Of File">EOF</abbr> に最も近い行が採用されます。</li>
   <li><ins datetime="2013-05-07T12:00:00+09:00">動的オプション変更チャンネルは、複数のオプションを同時に変更可能にするために、BGM
    チャンネルと同じ性質を持ちます。</ins></li>
  </ul></li>
 <li><p>行番号が大きい側が優先されます。 しかし、<code>00</code> は古い場所を上書きしません:</p>
  <table>
   <thead>
    <tr><th scope="col">remarks</th><th scope="col">sample BMS code</th><th scope="col">comment</th></tr>
   </thead>
   <tbody>
    <tr>
     <td>(行番号 100)</td><td><code>#00113:11111111</code></td>
     <td>// <code>1100110011001100</code></td>
    </tr>
    <tr>
     <td>(行番号 200)</td><td><code>#00113:0022332255224400</code></td>
     <td>// <code>#001</code> のチャンネル <code>13</code> が重複</td>
    </tr>
    <tr>
     <td>(行番号 300)</td><td><code>#00113:0066</code></td>
     <td>// <code>#001</code> のチャンネル <code>13</code> が重複</td>
    </tr>
   </tbody>
   <tbody>
    <tr><td>構文解析の結果:</td><td><code>#00113:1122332266224400</code></td><td>// 3 行分がすべて合成される</td></tr>
   </tbody>
  </table>
  <p>これは複雑なリズムを書きやすくするために用意された、BM98k の挙動です。</p>
  <ul>
   <li>(最終的に合成される前提で) <strong>行を分割して記述するテクニック</strong> は、とても興味深い表現を可能にします。</li>
   <li>最も徹底的にそれを成し遂げた作品は <cite><span class="DBCS" xml:lang="ja" lang="ja">オートメーション工場</span></cite> (<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>) です。</li>
   <li>最も控えめにそれを成し遂げた作品は <cite><span class="DBCS" xml:lang="de" lang="de">Netzwerkgenen</span></cite> (<a href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=39&amp;event=76" title="【低速BMS限定イベント『easymotion』 詳細情報】 No.39 &quot;Netzwerkgenen / Yosk!&quot;" class="external" rel="external" hreflang="ja"><span itemprop="url">http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=39&amp;event=76</span></a>) です。</li>
  </ul></li>
 <li><p>しかしあいにく、実装の約半数はこの仕様を満たしていません。 ( ... <i>そもそもこれは 「要求仕様」 なのでしょうか ?</i> )</p>
  <ul>
   <li>チャンネル行の重複を考慮しない実装は、オブジェの数を正確には数えられないかもしれません。</li>
   <li><p>pomu2 にはオブジェの配列を自動的に変更する機能があります。</p>
    <p>しかし、チャンネル行が重複する場合、この機能は正常に動作しません。</p>
    <p>(元の譜面を 5 回重複させた例: <a href="https://hitkey.nekokan.dyndns.info/100418_duplicate_channel_pomu2.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/100418_duplicate_channel_pomu2.png</span></a>)</p></li>
   <li>LR2 には pomu2 に似た機能があり、それは同様のバグを持っています。 LR2 は、重複した地雷チャンネルをうまく処理できません。</li>
  </ul></li>
</ul>

<ul>
 <li><p>BMS パーザは、3 種類の改行コードが混在するファイルを読まなければならないかもしれません。
  (<dfn><abbr title="Carrige Return / Line Feed">CRLF</abbr></dfn>,
  <dfn><abbr title="Carrige Return">CR</abbr></dfn>, <dfn><abbr title="Line Feed">LF</abbr></dfn>)</p>
  <ul>
   <li>For example: <cite><a href="https://web.archive.org/web/*/http://soflan.hp.infoseek.co.jp/mrym.zip" class="external" rel="external nofollow">Sofa $15 -&gt; $1</a></cite><!--
     https://www.google.com/search?q=bms+sofa+mrym.zip --></li>
  </ul></li>
 <li><p>BMS パーザは、改行を間に挟まない <abbr title="End Of File">EOF</abbr> を読まなければならないかもしれません。</p>
  <ul>
   <li>For example: <code>#08401:ZZ<mark>[EOF]</mark></code></li>
  </ul>
  <p>私たちは、予想よりも多くのインライン <abbr title="End Of File">EOF</abbr> を見つけるでしょう。</p></li>
 <li><p>不正な値が与えられたチャンネル行を、どのように解釈するべきか、仕様は定めていません。</p>
  <table>
   <thead>
    <tr><th scope="col">sample BMS code</th><th scope="col">remarks</th></tr>
   </thead>
   <tbody>
    <tr>
     <td><code>#00111:0011<mark class="DBCS" lang="ja" xml:lang="ja">文字</mark>2233</code></td>
     <td>// <abbr title="Double-Byte Character Set">DBCS</abbr> の混入</td>
    </tr>
    <tr>
     <td><code>#00112:001122<mark>3</mark></code></td>
     <td>// 2 の倍数でないデータ長</td>
    </tr>
    <tr>
     <td><code>#00113:<mark>+-;$%&amp;'()/</mark></code></td>
     <td>// <code>#WAV</code> のインデックスに使用できない特殊文字</td>
    </tr>
    <tr>
     <td><pre><code>#00114:1100<mark>...(over&nbsp;500000&nbsp;characters)...</mark>011</code></pre></td>
     <td>// 長すぎるデータ長</td>
    </tr>
    <tr>
     <td><code>#00115:11<mark>&nbsp;&nbsp;;comment</mark></code></td>
     <td>// DTX のインラインコメント (GDAC2 は正しく解釈できない)</td>
    </tr>
    <tr>
     <td><code>#00102:12.375<mark>f</mark></code></td>
     <td>// IIDXv と HDX の float 型明示オプション</td>
    </tr>
    <tr>
     <td><pre class="lh100"><code>#00121:&nbsp;&nbsp;FFFFFF&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;NNNNNN
#00122:&nbsp;&nbsp;FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;NN&nbsp;&nbsp;NN
#00123:&nbsp;&nbsp;FFFFFF&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;NN&nbsp;&nbsp;NN
#00124:&nbsp;&nbsp;FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;NN&nbsp;&nbsp;NN
#00125:&nbsp;&nbsp;FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;NN&nbsp;&nbsp;NN</code></pre></td>
     <td class="vab">// アスキーアート (<a class="external" rel="external" hreflang="en" title="Shift_JIS art - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Shift_JIS_art"><span itemprop="url">https://en.wikipedia.org/wiki/Shift_JIS_art</span></a>)</td>
    </tr>
   </tbody>
  </table>
  <p>いくつかの実装 (nazo, uBMplay, LR2, etc) は、これらの解釈を試みます。 その方法は不明です。 「適切な解釈」の定義も不明です。</p></li>
 <li><p>BMS パーザは、以下のようなヘッダ文を読まなければならないかもしれません。</p>
  <table>
   <thead>
    <tr><th scope="col">sample BMS code</th><th scope="col">remarks</th></tr>
   </thead>
   <tbody>
    <tr><td><code>#stop<mark>A</mark>&nbsp;192</code></td><td>// 定義番号のゼロサプレス</td></tr>
    <tr><td><code>#stop11&nbsp;<mark>-</mark>192</code></td><td>// 負数の値</td></tr>
    <tr><td><code>#stop22<mark>␣</mark></code></td><td>// 空の定義スロット (デリミタつき)</td></tr>
    <tr><td><code>#stop33</code></td><td>// 空の定義スロット (デリミタ無し)</td></tr>
    <tr><td><code>#if<mark title="tab">⇥&nbsp;&nbsp;&nbsp;</mark>4</code></td><td>// タブ文字のデリミタ</td></tr>
    <tr><td><code>#bpm&nbsp;<mark>2.147484e+0.9</mark></code></td><td>// 指数表記の値</td></tr>
    <tr><td><code>#bpm99&nbsp;12.375<mark>f</mark></code></td><td>// IIDXv と HDX の float 型明示オプション (BMSE は強制終了する)</td></tr>
    <tr>
     <td><code>#WAV60&nbsp;ura_63<mark>.</mark>wav</code></td>
     <td><p>// 実際のファイル名は <q><code>ura_63<mark>..</mark>wav</code></q></p>
      <p>(<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</p></td>
    </tr>
    <tr>
     <td><code>#bga01<mark title="tab">⇥&nbsp;</mark>fz<mark title="half-width space *1">␣</mark>512<mark title="half-width space *2">␣␣</mark>256<mark title="half-width space *2">␣␣</mark>768<mark title="half-width space *2">␣␣</mark>384<mark title="half-width space *2">␣␣</mark>0<mark title="half-width space *3">␣␣␣</mark>64<mark title="half-width space *2">␣␣</mark>big.bmp</code></td>
     <td>// 複数のタブ文字や半角スペースによる値レイアウト</td>
    </tr>
    <tr>
     <td><code>#bmp<mark class="DBCS" lang="ja" xml:lang="ja">字</mark>&nbsp;big.bmp</code></td>
     <td>// 定義番号が <abbr title="Double-Byte Character Set">DBCS</abbr></td>
    </tr>
    <tr>
     <td><pre class="lh100"><code>#random&nbsp;10
<mark title="tab *1">⇥&nbsp;&nbsp;&nbsp;</mark>#if&nbsp;1
<mark title="tab *2">⇥&nbsp;&nbsp;&nbsp;⇥&nbsp;&nbsp;&nbsp;</mark>#wavZZ&nbsp;foo.wav
<mark title="tab *1">⇥&nbsp;&nbsp;&nbsp;</mark>#else
<mark title="tab *2">⇥&nbsp;&nbsp;&nbsp;⇥&nbsp;&nbsp;&nbsp;</mark>#wavZZ&nbsp;bar.wav
<mark title="tab *1">⇥&nbsp;&nbsp;&nbsp;</mark>#endif
#endrandom</code></pre></td>
     <td class="vab">// 複数のタブ文字や半角スペースによるインデント</td>
    </tr>
   </tbody>
  </table>
  <p>いくつかの実装は、有効な値として上記を許します。</p>
  <p>しかしながら別の実装は、これらを無効値とみなします。</p></li>
</ul>

<ul>
 <li><p>モダンな実装は、1295 (1296) 種類のスロットをサポートしています。</p>
  <p>各ヘッダの値は [01-ZZ] (あるいは [00-ZZ]) のインデックスに定義されます。</p></li>
 <li>小節は 3 桁の数字で表されます。
  一般的な実装は [<code>#000</code>-<code>#999</code>] をサポートしています。</li>
 <li><p>いくつかの例外と注意点:</p>
  <table>
   <thead>
    <tr><th scope="col"><abbr title="applications">apps</abbr></th><th scope="col">remarks</th></tr>
   </thead>
   <tbody>
    <tr><td>BMSV</td><td>[000-511]</td></tr>
    <tr><td>DDR</td><td>[000-998]</td></tr>
    <tr><td>bemaniaDX</td><td>[000-399]</td></tr>
    <tr><td>GALLI</td><td>[000-399]</td></tr>
    <tr><td>BGAenc</td><td>[000-249]</td></tr>
    <tr><td>BMEV</td><td>BMEV は <code>#000</code> にしか内容が無い譜面を開くと強制終了します。</td></tr>
    <tr><td>RDM</td><td>RDM は <code>#000</code> にしか内容が無い譜面をスクロールすることができません。</td></tr>
    <tr><td>GDAC2</td><td>GDAC2 は <code>#170</code> 以降で「貼り付け」を行うと強制終了します。 (Ver.0.20 にて修正済み)</td></tr>
    <tr>
     <td>LR2</td>
     <td>
      <p>可視オブジェまたはロングノートオブジェが <code>#000</code> の先頭に存在するなら、
       LR2 は <code>#000</code> の直前に、<code>#000</code> と同じ長さの空小節を挿入します。</p>
      <p>(これは、ゲームスタート時にユーザを当惑させないようにする方法のひとつです。)</p>
      <p>この機能は便利ですが、もしオブジェクトが <code>#000</code> と <code>#999</code> に存在する場合、譜面は正常に終了しません。</p></td>
    </tr>
    <tr>
     <td>pomu2</td>
     <td><p>キー音が鳴っている間は、pomu2 は譜面を終了させません。</p>
      <p>しかし、譜面が <code>#999</code> を過ぎてもまだキー音が鳴っていた場合、pomu2 は強制終了するでしょう。</p></td>
    </tr>
    <tr>
     <td>otama</td>
     <td><p>otama のドキュメント (<a href="https://www.asahi-net.or.jp/~VG5M-OBT/otamadoc.html" title="otama document" class="external" rel="external" hreflang="ja"><span itemprop="url">https://www.asahi-net.or.jp/~VG5M-OBT/otamadoc.html</span></a>)
      によれば: <q>小節の最大数は 1024 です。</q></p>
      <p>しかし、この記述は奇妙です。 <code>#1024xx</code> はバグを引き起こすでしょう。</p></td>
    </tr>
    <tr>
     <td>MyO2</td>
     <td><p>382. <cite><span class="DBCS" lang="ja" xml:lang="ja">[ニコニコ動画] 組曲</span></cite>
       は、譜面が完走する前に強制終了します。 これは小節数とは関係がないのでしょうか？</p>
      <p>下記はエラーメッセージの引用です。文字化けした部分は省略しました。</p>
      <blockquote><pre class="lh100"><code>TypeError: Error #1010: A term is undefined and has no properties.
        at ::scorenum/()[E:\popstage_5key\com\scorenum.as:44]
        at ::scorenum/setNum()
        at ::o2jam/()[E:\popstage_5key\com\o2jam.as:2951]
        at ::o2jam/()[E:\popstage_5key\com\o2jam.as:2630]
        at ::o2jam/()[E:\popstage_5key\com\o2jam.as:3056]</code></pre></blockquote>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>

<!-- /h3 Behavior in general implementations -->
</section>

<hr>
<!-- /h2 Memo about BMS Spec -->
</section>


<section id="ABOUT-FILENAME-EXTENSIONS-OF-MUSICAL-SCORE-FILE-OF-BMS-FORMAT">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-FILENAME-EXTENSIONS-OF-MUSICAL-SCORE-FILE-OF-BMS-FORMAT">BMS フォーマットの譜面のファイル拡張子について</a></h2>

<section id="OUTLINE" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OUTLINE">大要:</a></h3>

<ul>
 <li><p>典型的な拡張子は次の通りです。</p>
  <p><span class="red">注意: これらの拡張子の由来については様々な見解があるので、私は責任を持つことができません。 これらは略称というよりむしろ通称です。</span></p>
  <ul>
   <li><dfn><abbr title="Be-Music Script">BMS</abbr></dfn>: Be-Music Script
    (<a href="http://d.hatena.ne.jp/keyword/bms" title="bmsとは - はてなキーワード" class="external" rel="external" hreflang="ja">hatena</a>,
    <a title="Be-Music Script - 위키백과, 우리 모두의 백과사전" href="https://ko.wikipedia.org/wiki/Be-Music_Script" class="external" rel="external" hreflang="ko">wiki[ko]</a>) |
    Source (<a href="https://en.wikipedia.org/wiki/Be-Music_Source" title="Be-Music Source - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">wiki[en]</a>) |
    Source file (<a href="http://bm98.yaneu.com/bm98/bmsformat.html" title="BM98Data_format_specification" class="external" rel="external" hreflang="en">spec</a>,
    <a href="https://ja.wikipedia.org/wiki/BMS_%28%E9%9F%B3%E6%A5%BD%E3%82%B2%E3%83%BC%E3%83%A0%29" title="BMS (音楽ゲーム) - Wikipedia" class="external" rel="external" hreflang="ja">wiki[ja]</a>) |
    Data Format '98 (<a href="http://bm98.yaneu.com/bm98/bm98after.html" class="external" rel="external" hreflang="ja" title="今後のBM98活動のあり方について">bm98after</a>,
    <a href="https://ja.wikipedia.org/wiki/BMS_%28%E9%9F%B3%E6%A5%BD%E3%82%B2%E3%83%BC%E3%83%A0%29" title="BMS (音楽ゲーム) - Wikipedia" class="external" rel="external" hreflang="ja">wiki[ja]</a>)</li>
   <li><dfn><abbr title="Be-Music Extend format">BME</abbr></dfn>: Be-Music Extend format</li>
   <li><dfn><abbr title="Be-Music Longnote format">BML</abbr></dfn>: Be-Music Longnote format</li>
   <li><dfn><abbr title="feeling-PoMu Script">PMS</abbr></dfn>: Po-Mu Script | feeling-PoMu Script (?)</li>
  </ul></li>
 <li>近年、これらの拡張子は単にほとんど後方互換性のために存在します。</li>
 <li>譜面が必要とするチャンネルを持たない実装は、拡張子によってフィルタされます。</li>
 <li>モダンな実装はこれらをすべてサポートしているので、フィルタリングの必要性は衰えました。</li>
 <li><p>モダンな実装なら、私たちはすべての譜面の拡張子を BMS に変更しても構わないのです。</p>
  <p class="red">(ただし 9KEYS では、私たちは拡張子を PMS (*.pms) に変更しなければなりません。</p>
  <p class="red">そうしなければ、fgt++/fgt# は BMS-DP (10KEYS) として譜面を表示するでしょう。
   LR2 は、BME-SP 型の 9KEYS を単に BME-SP として表示するでしょう。)</p></li>
 <li><p>しかしながら、Windows エクスプローラで譜面を探す場合などに、拡張子は有用です。</p>
  <ul>
   <li>“<dfn><abbr title="5-keys">5K</abbr></dfn> is BMS.”</li>
   <li>“<dfn><abbr title="7-keys">7K</abbr></dfn> is BME.”</li>
   <li>“<dfn><abbr title="LongNote">LN</abbr></dfn> is BML.”</li>
   <li>“<dfn><abbr title="9-keys">9K</abbr></dfn> is PMS.”</li>
  </ul>
  <p>BMS の文脈を知っている人々にとって、この命名を理解するのは簡単です。</p>
  <p>(これらは、誤解を含んでいますが、分かりやすい要約です。)</p></li>
 <li><p>これらに加えて、BMS 由来のフォーマットが存在します。 詳細は <a href="http://itkhps.web.fc2.com/bmsk.html" class="external" rel="external" title="BMS拡張子表" hreflang="ja"><span itemprop="url">http://itkhps.web.fc2.com/bmsk.html</span></a> を参照してください。</p>
  <ul>
   <li>MGQ: ロングノートチャンネルを使用する 24KEYS BMS。 “Music Game Quest” は KEYBOARDMANIA もどきを考案しました。</li>
   <li>MBM: MacBeat MOD. <code>#WAVCMD</code> を使用した BMS 譜面は、拡張子を MBM に変更しなければなりません。</li>
   <li>EMS: AngelicPianizm タイプの 24KEYS BMS。 KbMediaPlayer (bmse.kpi) は今なおこのフォーマットをサポートしています。</li>
   <li>KMS: KeyMani タイプの 24KEYS BMS。</li>
   <li>BAS: BMS-2 Format (BM-A4 &amp; beat arranger 拡張)</li>
   <li>PHX: PHOENIX タイプ (詳細不明)</li>
   <li>MGF: beatmaster [standard] タイプ (詳細不明)</li>
   <li>BMB: beatmaster [bms] タイプ (詳細不明)</li>
   <li>PMB: beatmaster [ドレミマニアタイプの PMS] (詳細不明)</li>
   <li>D2B: beatmaster [D2R] タイプ (詳細不明)</li>
   <li>DEE: (詳細不明)</li>
  </ul>
  <p>近年これらはほぼ見かけません。しかしながら、以下のフォーマットはオリジナルの発展を遂げ、そして今なお発展の過程にあります。</p>
  <ul>
   <li><strong>DTX</strong>: DTXMania (DrumMania の高度な発展形)</li>
   <li>GDA: BandJam (GuitarFreaks &amp; DrumMania に似たタイプ)</li>
   <li>G2D: SessionStream (GDA 拡張)</li>
   <li>GFS: Guitar Friends 98</li>
  </ul>
  <p>DTX シリーズの詳細は公式サイトを参照してください:
  <a href="http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e" title="qa_dtx_spec_e - DTXMania powered by YAMAHA Silent Session Drums" class="external" rel="external" hreflang="en"><span itemprop="url">http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e</span></a></p></li>
 <li>譜面ファイルの典型的な拡張子については、次のセクションで詳述します。</li>
</ul>

</section>

<section id="BMS" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMS">BMS:</a></h3>

<p>BMS は <cite>beatmania</cite> の模倣をその起源とするものです。 (<a href="https://en.wikipedia.org/wiki/Beatmania" title="Beatmania - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania</span></a>)</p>
<p>それは 5 つの鍵盤 (x2) と 1 つのターンテーブル (x2) を持ちます。</p>

<dl>
 <dt>歴史的経緯:</dt>
 <dd>
  <p><time itemprop="update" datetime="1997-12-10">1997-12-10</time>: <cite>beatmania</cite> が稼働しました。</p>
  <p><time itemprop="update" datetime="1998-05-04">1998-05-04</time>:
   <span itemprop="name">Urao Yane</span> は 「<strong>Be-Music Data Format</strong>」 草案を <span itemprop="name">NBK</span> に提示しました。
   これが今日の BMS フォーマットの基礎です。</p>
  <p><time itemprop="update" datetime="1998-05-05">1998-05-05</time>:
   <span itemprop="name">NBK</span> は、<span itemprop="name">Urao Yane</span> の草案に基づいてハウスミュージックの譜面ファイルを作成し、
   それを <span itemprop="name">Urao Yane</span> に提出しました。</p>
  <p><time itemprop="update" datetime="1998-06-07">1998-06-07</time>:
   ゲームセンター 「チルコポルト」 で開催されたオフ会において、<span itemprop="name">Urao Yane</span> は <cite>BM98</cite> ver 1.00 を示しました。</p>
  <p><time itemprop="update" datetime="1998-06-08">1998-06-08</time>:
   <span itemprop="name">Urao Yane</span> は <a href="http://bm98.yaneu.com/" title="BM98&#39;S ROOMつう" class="external" rel="external" hreflang="ja">彼自身のホームページ</a> を作成し、BM98 ver 1.03 をネット上で公開しました。</p>
  <p><time itemprop="update" datetime="1998-06-28">1998-06-28</time>:
   <span itemprop="name">Kazutoshi Takata</span> は <strong>BMS Viewer</strong> Version0.8 を公開しました。</p>
  <p><time itemprop="update" datetime="1998-07-10">1998-07-10</time>: <span itemprop="name">Urao Yane</span> は BM98 の公開を一時的に停止しました。</p>
  <ul>
   <li>この経緯について <span itemprop="name">Urao Yane</span> 自身が書いた文書:
    <a class="external" rel="external" hreflang="ja" type="text/plain" title="The manuscript published at GameLabo (books sold on April 16, 1999)" href="http://bm98.yaneu.com/bm98/gamelab9904.txt"><cite>ゲームラボ</cite>
    (<time datetime="1999-04-16">1999 年 4 月 16 日</time>発売の書籍) にて公開された原稿</a></li>
   <li>様々な理由が混乱を引き起こしたので、<span itemprop="name">Urao Yane</span> は 1999 年に BM98 の公開を永久に停止しました:
    “<a title="今後のＢＭ９８活動のあり方について" href="http://bm98.yaneu.com/bm98/bm98after.html" class="external" rel="external" hreflang="ja">今後のＢＭ９８活動のあり方について</a>”</li>
  </ul>
  <p><time itemprop="update" datetime="1998-10-20">1998-10-20</time>:
   <span itemprop="name">TIX</span> は <strong>BMS Creator</strong> v0.02.02 を公開しました (<a title="6.2.1 改版履歴" href="http://www.doits.jp/mediamaximum/contents/bm98/onlinemanual/version.html" class="external" rel="external" hreflang="ja">改版履歴</a>)。
   ...私たちは、ついにテキストエディタから解放されました。</p>
  <p><time itemprop="update" datetime="1998-11-26">1998-11-26</time>: <span itemprop="name">Urao Yane</span> は
   <cite><a title="BM98Data_format_specification" href="http://bm98.yaneu.com/bm98/bmsformat.html" class="external" rel="external" hreflang="en">BMS Format Specification</a></cite> を示しました。</p>
 </dd>
</dl>

<table>
 <tbody>
  <tr><th scope="row">origin</th><td>BM98</td></tr>
  <tr><th scope="row">support</th><td>BMS の全実装</td></tr>
  <tr>
   <th scope="row">header</th>
   <td>
    <code>#PLAYER&nbsp;<var>n</var></code>,
    <code>#GENRE&nbsp;<var>string</var></code>,
    <code>#TITLE&nbsp;<var>string</var></code>,
    <code>#ARTIST&nbsp;<var>string</var></code>,
    <code>#BPM&nbsp;<var>n</var></code>,
    <code>#MIDIFILE&nbsp;<var>midiFilename</var></code>,
    <code>#PLAYLEVEL&nbsp;<var>n</var></code>,
    <code>#RANK&nbsp;<var>n</var></code>,
    <code>#VOLWAV&nbsp;<var>n</var></code>,
    <code>#WAVxx&nbsp;<var>audioFilename</var></code>,
    <code>#BMPxx&nbsp;<var>imageFilename</var></code>,
    <code>#TOTAL&nbsp;<var>n</var></code>,
    <code>#RANDOM&nbsp;<var>n</var></code>,
    <code>#IF&nbsp;<var>n</var></code>,
    <code>#ENDIF</code>,
    <code>#ExtChr&nbsp;<var>SpriteNum</var>&nbsp;<var>BMPNum</var>&nbsp;<var>startX</var>&nbsp;<var>startY</var>&nbsp;<var>endX</var>&nbsp;<var>endY</var>&nbsp;[<var>offsetX</var>&nbsp;<var>offsetY</var>&nbsp;[<var>x</var>&nbsp;<var>y</var>]]</code>
   </td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td>
    <code>#xxx01-06</code>,
    <code>#xxx11-17</code>,
    <code>#xxx21-27</code>,
    <code>#xxx31-36</code>,
    <code>#xxx41-46</code>
   </td>
  </tr>
 </tbody>
</table>

<p>各ヘッダの詳細は別項にて。</p>

<table>
 <caption>各チャンネルの詳細:</caption>
 <thead>
  <tr><th scope="col">number</th><th scope="col">object to change</th><th scope="col">remarks</th></tr>
 </thead>
 <tbody>
  <tr>
   <td><code>#xxx01</code></td>
   <td><dfn><abbr title="BackGround Music">BGM</abbr></dfn></td>
   <td><code>#WAVxx</code> に定義したファイルを、自動的に鳴るべき音声オブジェクトとして配置します。</td>
  </tr>
  <tr>
   <td><code>#xxx02</code></td>
   <td>小節長</td>
   <td><p><code>#xxx02</code> は拍子を操作します。 <a href="https://en.wikipedia.org/wiki/Metre_%28music%29" title="Meter (music) - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Metre_%28music%29</span></a></p>
    <ul class="noMarginTop">
     <li><p>小節長は整数または浮動小数点によって指定されます。</p>
      <ul>
       <li>値 1 は 4/4 拍子です。 <code>#xxx01:11223344</code> // 長さは 4 個の四分音符と等価です。</li>
       <li>値 2 は 8/4 拍子です。 <code>#xxx01:1122334411223344</code> // 長さは 8 個の四分音符と等価です。</li>
       <li>値 0.75 は 3/4 拍子。 <code>#xxx01:112233</code> // 長さは 3 個の四分音符と等価です。</li>
       <li><p>値 0.015625 は 1/64 拍子。 長さはたった 1 個の <a href="https://en.wikipedia.org/wiki/Sixty-fourth_note" title="Sixty-fourth note - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">64分音符</a>と等価です。</p>
        <p>1/64 は BMSE が編集できる長さの最小です。</p></li>
       <li><p>値 0.01 は、通常の 4 拍子小節の 1% の長さと等価です。</p>
        <p>BMSE は 0.01625 の倍数として長さを扱うので、BMSE はこの値 0.01 を丸めます。</p>
        <p><img src="content/bmse_material_beat_humanshield.png" alt="BMSE rounds a value 0.01 and changes it into 0.01625" width="209" height="65"></p></li>
       <li>BMSE と beditor は、長さを音符と関連づけて扱うため、音楽的な観点からの譜面編集が容易です。 つまり、BMSE と beditor は
        <a href="https://en.wikipedia.org/wiki/List_of_musical_works_in_unusual_time_signatures" title="List of musical works in unusual time signatures - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">変拍子</a> の編集に長けています。</li>
       <li><p>BMSC と GDAC2 は、単純な長さとして長さを扱うので、パーセンテージによる譜面編集が容易です。
        つまり、音楽と無関係なスクロール速度変更の編集に長けています。</p>
        <table>
         <thead><tr><th scope="col">BPM</th><th scope="col">小節長</th><th scope="col">比率 = 変化後 BPM / 変化前 BPM</th></tr></thead>
         <tbody>
          <tr><td>121</td><td>1.008333333333333</td><td>121/120 (BMSE は正しく解釈できない)</td></tr>
          <tr><td>120</td><td>1</td><td>120/120 (BMSE は正確に解釈できる)</td></tr>
          <tr><td>119</td><td>0.991666666666666</td><td>119/120 (BMSE は正しく解釈できない)</td></tr>
         </tbody>
        </table>
        <p>実際の BPM が変わらない状況で、譜面のスクロール速度だけを変更する演出は、日本では俗にソフランと呼ばれます
         (<a href="https://www.youtube.com/watch?v=n7wVTsTUdp4" title="SOFT LANDING ON THE BODY(7keys)20110517 - YouTube" class="external" rel="external">soft landing</a>)。
         これに関するジョーク BMS を <!-- href="https://web.archive.org/web/*/http://kobe.cool.ne.jp/softlanding/" -->
         <a href="http://yoruiro2s.s362.xrea.com/iidxcontroller/bms/index.html" title="beatmaniaIIDX soflan style UNOFFICIAL SITE" class="external" rel="external" hreflang="ja">ジョークサイト</a> からダウンロードできます。</p></li>
       <li>3.0 以降の iBMSC は、両者のハイブリッドです。 理論上、私たちに編集できないリズムはもはや存在しません。</li>
      </ul></li>
     <li><p>BMS において、<code>#xxx02</code> の値は、それが指定された小節のみに作用します。</p>
      <p>曲が完全に三拍子である場合、すべての小節に <code>#xxx02:0.75</code> を指定しなければなりません。</p></li>
     <li><p>DTX において、<code>#xxx02</code> の値は、別の <code>#yyy02</code> が現れるまで有効になります。</p>
      <p>曲が完全に三拍子である場合、必要なことは <code>#00002:0.75</code> を一度指定するだけです。</p></li>
     <li>BMS において、デフォルト値 1 は、小節長が省略された小節に対して、暗黙に適用されます。</li>
     <li><p>もし <code>#99902</code> が存在すれば、nazo はスクロールが <code>#999</code> に達するまで譜面を終了しないでしょう。</p>
      <ul>
       <li>たとえ音楽が既に終了していたとしても、<code>#xxx02</code> が音楽の終点以降に記述されれば、
        あたかも未処理のオブジェが残っているかのように、nazo は誤解してしまうでしょう。</li>
       <li>BMSE において、拍子タブの全選択ボタンは <code>#000</code>-<code>#999</code> をすべて選択します。</li>
       <li>この状態から 3/4 が指定されれば、<code>#000</code>-<code>#999</code> はすべて 3/4 表示に変更されます。</li>
       <li>例えば、三拍子の譜面を編集する場合、この機能は非常に便利であるに違いありません。</li>
       <li>しかしながら、nazo が愚かなので、私たちはこの機能に仕事を任せることができません。</li>
      </ul>
      <table id="M999L1">
       <thead>
        <tr>
         <th scope="col"><code>#TITLE&nbsp;test</code></th>
         <th scope="col">33 分間継続する機種</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="lh100"><pre><code>#BPM&nbsp;120
#00111:01
#99902:1</code></pre></td>
         <td>nBMplay, BMEV, DDR, RDM, nazo, IIDXv, HDX, Angolmois</td>
        </tr>
       </tbody>
      </table></li>
     <li><p>BM98 は小節長チャンネルを実装していましたが、それは仕様書の中で示されませんでした。</p>
      <p>おそらくはそのために、拍子の概念はいくつかのゲームに伝わりませんでした。</p></li>
    </ul>
   </td>
  </tr>
  <tr>
   <td><code>#xxx03</code></td>
   <td><dfn><abbr title="Beats Per Minute">BPM</abbr></dfn></td>
   <td>オブジェクトとして配置した [01-FF] は、[1-255] の整数 BPM として解釈されます。 <code>00</code> は休符です。</td>
  </tr>
  <tr>
   <td><code>#xxx04</code></td>
   <td><dfn><abbr title="BackGround Animation">BGA</abbr></dfn>-BASE</td>
   <td><code>#BMPxx</code> に定義したファイルを、正常なプレイ中に表示されるイメージオブジェクトとして配置します。</td>
  </tr>
  <tr>
   <td><code>#xxx05</code></td>
   <td>Extended Object</td>
   <td><code>#ExtChr</code> に定義したオブジェクトを配置します。 BM98 だけがこれをサポートします。</td>
  </tr>
  <tr>
   <td><code>#xxx06</code></td>
   <td>BGA-POOR</td>
   <td><code>#BMPxx</code> に定義したファイルを、ノート見過ごし時に表示されるイメージオブジェクトとして配置します。</td>
  </tr>
  <tr>
   <td><code>#xxx11</code></td>
   <td><abbr title="single-Player">1P</abbr>-side KEY1</td>
   <td><code>#WAVxx</code> に定義したファイルを、プレイヤーが演奏するべき音声オブジェクトとして配置します。</td>
  </tr>
  <tr>
   <td><code>#xxx12</code></td>
   <td>1P-side KEY2</td>
   <td>同上。 つまり <code>#xxx1n</code> は、演奏するべき音符のためのレーンです。</td>
  </tr>
  <tr>
   <td><code>#xxx13</code></td>
   <td>1P-side KEY3</td>
   <td>同上。 1P 用の譜面は、スクリーンの左側に表示されます。</td>
  </tr>
  <tr>
   <td><code>#xxx14</code></td>
   <td>1P-side KEY4</td>
   <td>同上。 KEYs は、鍵盤型デバイスが持つ、5 個のボタンです。</td>
  </tr>
  <tr>
   <td><code>#xxx15</code></td>
   <td>1P-side KEY5</td>
   <td>同上。 プレイヤーは譜面の指示に対応する KEY を打たなければなりません。</td>
  </tr>
  <tr>
   <td><code>#xxx16</code></td>
   <td>1P-side SCRATCH</td>
   <td>同上。 <code>#xxx16</code> はターンテーブルを回すことにより演奏されるべきノート用のレーンです。</td>
  </tr>
  <tr id="FREE-ZONE">
   <td><code>#xxx17</code></td>
   <td>1P-side FREE-ZONE</td>
   <td>
    <ul class="noMarginTop">
     <li><p><code>#xxx17</code> は <b>ターンテーブルを自由にスクラッチできる区間</b> をセットします。</p>
      <ul>
       <li>「オブジェを置いた位置」から「四分音符 1 個分」の長さは、1 個の FREE-ZONE になります。</li>
       <li>FREE-ZONE が閉じる前に、新しいオブジェが <code>#xxx17</code> に置かれれば、FREE-ZONE は延長されます。</li>
       <li><p><code>#xxx17</code> がセットした区間内に <code>#xxx16</code> の SCRATCH があれば、
        SCRATCH は FREE-ZONE に重なって表示されます。</p>
<div id="FREEZONE"><pre><code>#00611:0011000000000000
#00614:1400001400000000
#00616:00000000<mark>0016</mark>0000
#00617:00000000<mark>1700</mark>0000</code></pre><p><img src="content/u-gotta-groove.png" alt="“u gotta groove” #006 (from beatmania 2ndMIX)" width="54" height="97"></p></div></li>
       <li>1 個の FREE-ZONE は、長さが何であれ、1 個の演奏するべきノートとして数えられます。</li>
       <li>FREE-ZONE 内のターンテーブルオブジェは、個数が何であれ、演奏すべきノートには計上されません。</li>
       <li><p>1 個の FREE-ZONE 内に 1 個以上のターンテーブルオブジェがある場合、判定は 3 種類に分岐します。</p>
        <ol>
         <li value="0">それらをすべて最良のタイミングで演奏した場合、「オブジェ 1 個分のベストスコア」を得ます。</li>
         <li>FREE-ZONE 区間内で一度もスクラッチがなされない場合、点数は得られません。</li>
         <li>他の場合、オブジェ 1 個が悪くないタイミングで演奏されたことになり、そこそこの点数を得ます。</li>
        </ol></li>
       <li><p>1 個の FREE-ZONE 内にターンテーブルオブジェが無い場合、判定は 2 種類に分岐します。</p>
        <ol>
         <li>FREE-ZONE 区間内で一度もスクラッチがなされない場合、点数は得られません。</li>
         <li>他の場合、オブジェ 1 個が悪くないタイミングで演奏されたことになり、そこそこの点数を得ます。</li>
        </ol>
        <p>スクラッチ無しの FREE-ZONE が譜面内に 1 箇所でも存在する場合、「パーフェクト」は絶対に取れません。</p></li>
       <li><code>#xxx16</code> と <code>#xxx17</code> に割り当てる音と、実際に鳴らされる音には、どんな関係があるでしょうか？
        私は以前これについて調査したはずですが、その結果を思い出すことができません。</li>
       <li>FREE-ZONE をサポートする実装は、<a href="https://www.youtube.com/watch?v=TxBCnbX5QEw" title="beatmania - u gotta groove - YouTube" class="external" rel="external"><cite>beatmania</cite> と同じレンダリング</a>
        が期待されます。</li>
       <li><p>BM98, BMSC, BMSV, nBMplay, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins>
         fgt (最初の版) だけが、この仕様をサポートしています。</p>
        <ul>
         <li>あまりにも複雑な仕様は、プログラマに非常に大変な仕事を要求します。</li>
         <li>スコアの概念と FREE-ZONE は、共存が困難です。</li>
         <li>FREE-ZONE は beatmania 3rdMIX にて削除されました: <time itemprop="update" datetime="1998-09-28">1998-09-28</time></li>
        </ul></li>
       <li><p><del datetime="2011-12-31T00:00:00+09:00">私はモダンな FREE-ZONE に興味があります。 それはどんな仕様を定める必要があるでしょうか？</del></p>
        <ul>
         <li><del datetime="2011-12-31T00:00:00+09:00">それはロングノートに似た専用チャンネルを持ち、始点と終点によって区間をセットするでしょう。</del></li>
         <li><del datetime="2011-12-31T00:00:00+09:00">FREE-ZONE は、ターンテーブルだけでなくキーのラインにも適用可能でなければなりません。</del></li>
         <li><del datetime="2011-12-31T00:00:00+09:00">FREE-ZONE は、点数やノート数の計算からは完全に分離されなければなりません。</del></li>
        </ul>
        <p><del datetime="2011-12-31T00:00:00+09:00">しかしながら、よりよいフォーマットが現われるでしょう。
         なぜならすべてのオブジェクトは点だけでなく区間を持つことができるべきだからです。</del></p></li>
      </ul></li>
     <li><p>近年、チャンネル <code>#xxx17</code> が FREE-ZONE として使われることはほとんどありません。</p>
      <ul>
       <li>nanasi と Angolmois は、このチャンネルをフットペダルオブジェクトとして使います。</li>
       <li>nanasi, pomu2, および Angolmois は、このチャンネルを 18KEYS (PMS-<dfn><abbr title="Double Play">DP</abbr></dfn>) のボタンのひとつとして使います。</li>
       <li>LR2, PMSee-V, pomu2, および Angolmois は、このチャンネルを 9KEYS (BME 型 PMS) のボタンのひとつとして使います。</li>
      </ul></li>
    </ul>
   </td>
  </tr>
  <tr>
   <td><code>#xxx21-27</code></td>
   <td>2P-side Visible object</td>
   <td><p>右側のプレイヤーが演奏するべきオブジェ。</p>
    <p><code>21-25</code> は鍵盤、<code>26</code> はターンテーブル、<code>27</code> は FREE-ZONE に相当します。</p>
   </td>
  </tr>
  <tr>
   <td><code>#xxx31-36</code></td>
   <td>1P-side Invisible object</td>
   <td><p>不可視オブジェは表示されず、判定されず、スコアに計上されません。</p>
    <p>これはキーに割り当てられた音を別の音に変更するために存在します。</p>
    <ul class="noMarginTop">
     <li>プレイヤーによるアドリブ演奏のために。</li>
     <li>イースターエッグのために。</li>
     <li>2 つの不可視オブジェで 1 つの可視オブジェを挟めば、プレイヤーのタイミングのずれを野次ることができます。</li>
     <li>空っぽの不可視オブジェクトを置くことによって、演奏を無音化できます。 例えば静かな場面で有用です。</li>
     <li>Angolmois では、不可視オブジェクトと地雷を同じ位置に重ねることによって、通常は変更できない爆発音をある程度変更することができます。</li>
    </ul>
   </td>
  </tr>
  <tr>
   <td><code>#xxx41-46</code></td>
   <td>2P-side Invisible object</td>
   <td>
    <ul class="noMarginTop">
     <li>その特性上、FREE-ZONE は不可視オブジェクトを持ち得ません。</li>
     <li>したがって、チャンネル <code>#xxx37</code> および <code>#xxx47</code> はサポートされません。(BM98 ではコンパイルエラーが出ます)</li>
     <li>しかし、<code>#xxx17</code> を FREE-ZONE でなくキーとしてサポートする実装は、<code>#xxx37</code> をサポートします。</li>
     <li>18KEYS をサポートする nanasi と pomu2 は、<code>#xxx47</code> も不可視オブジェとしてサポートしています。</li>
     <li>Angolmois は “<code>--key-spec</code>” オプションによって、<code>#xxx[1-6][0-Z]</code> のすべてを演奏可能レーンとしてカスタマイズすることができます。
      したがって、Angolmois は <code>#xxx[30-4Z]</code> のすべてを不可視オブジェとしてサポートします。</li>
     <li><p>いくつかの実装は、不可視オブジェに関するバグを持っています。</p>
      <ul class="noMarginTop">
       <li>pomu2: DOUBLE 系 LIGHT オプション適用時、スコアは理論値を超過することができます。</li>
       <li>同: オートプレイ中、不可視オブジェは鳴らされるでしょう。</li>
       <li>RDM および古い版の ruvit: 不可視オブジェが無視されます。</li>
       <li>同: 不可視オブジェが存在する位置でプレイヤーがアドリブ演奏すると、あたかも可視オブジェを処理できなかったかのように、それが判定されるでしょう。
        すなわち、グルーヴゲージは減少するでしょう。</li>
      </ul></li>
    </ul>
   </td>
  </tr>
 </tbody>
</table>

</section>

<section id="BME" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BME">BME:</a></h3>

<p><cite>beatmaniaIIDX</cite> は、7 個の鍵盤 (x2) と 1 つのターンテーブル (x2) を持っていました。
(<a href="https://en.wikipedia.org/wiki/Beatmania_IIDX" title="Beatmania IIDX - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania_IIDX</span></a>)</p>

<dl>
 <dt>歴史的経緯:</dt>
 <dd>
  <p><time itemprop="update" datetime="1999-02-26">1999-02-26</time>: <cite>beatmaniaIIDX</cite> が稼働しました。</p>
  <p>7KEYS をサポートするため、BMS の拡張フォーマット <cite>Project2DX</cite> が、<span itemprop="name">Urami</span> によって提案されました。</p>
  <ul>
   <li>このフォーマットは、チャンネル <code>#xxx21</code> を「7KEYS mode における 1P 側 KEY6」として使用します。</li>
   <li>このフォーマットは、チャンネル <code>#xxx22</code> を「7KEYS mode における 1P 側 KEY7」として使用します。</li>
   <li><code>#ExtChr</code> を用いることによって、譜面は、BM98 の視覚的なアイテムを直接的に変更します。
    つまり、 <abbr title="5-keys">5K</abbr>-<dfn><abbr title="Double Play">DP</abbr></dfn> を
    <abbr title="7-keys">7K</abbr>-<dfn><abbr title="Single Play">SP</abbr></dfn> のように表示します。</li>
   <li>これは、譜面側が本体側の表示を変更する、7KEYS もどきです。 本質的に、それは完全に BMS と同じものです。</li>
  </ul>
  <p><cite>Project2DX</cite> には多くの問題がありました。</p>
  <ul>
   <li><code>#ExtChr</code> は BM98 の独自拡張です。
    BM98 以外の BMS アプリケーションが次々に現われた時、このフォーマットは可搬性の問題に直面しました。</li>
   <li>Sevenize 用の情報を、譜面それぞれが持つ必要がありました。 この形態はカスタマイズには適していますが、一時しのぎに過ぎません。</li>
   <li><code>#ExtChr</code> の仕様は最低限のメモだけでした。
    <del datetime="2012-01-16T07:00:00+09:00">Sevenize への道はプログラマにのみ拓かれました。</del></li>
   <li><p><del datetime="2012-01-16T07:00:00+09:00">このフォーマットは、7KEYS のダブルプレイ用の譜面をサポートすることができません。</del></p>
    <p><ins datetime="2012-01-16T07:00:00+09:00">DP がサポートされたのは事実ですが、私はそれに関する詳細を見つけることに失敗しました。</ins></p></li>
  </ul>
  <p>BMS の拡張フォーマット <cite>FlashTerminal</cite> が、<span itemprop="name">Tomohiro Fujii</span> によって提案されました。</p>
  <ul>
   <li>7KEYS 用に、BMS の予約チャンネルを使用する方法が考案されました。(<code>#xxx18-19</code>, <code>#xxx28-29</code>)</li>
   <li>私は、このフォーマットに関するこれ以上の詳細を知りません。</li>
  </ul>
  <p>7KEYSを完全にサポートするために、BMSの拡張フォーマット <cite>BME</cite> が、<span itemprop="name">TIX</span> によって提案されました。</p>
  <ul>
   <li>BME は、<cite>FlashTerminal</cite> のチャンネルと BMS のチャンネルを統合し、BMSC で編集できるようにしたフォーマットです。</li>
   <li>従来の実装が拡張チャンネルをサポートする場合、新しく設計を変更することが必要になります。</li>
   <li>設計を変更しない実装が「拡張チャンネルを使用している譜面ファイル」を読まないよう、拡張子を BME に変更する規則が定められました。</li>
  </ul>
 </dd>
 <dt>もともとは:</dt>
 <dd>
  <p><b class="red">厳格な BME は、BMSC がサポートしない特徴を含みません。</b>
   (via <a href="https://web.archive.org/web/20111114061552/http://nekomimi.name/66_log2006.html#06%2F02%2F14" class="external" rel="external" hreflang="ja" title="ねこことねこみまの日記【2006年のログ】"><span itemprop="url">http://nekomimi.name/66_log2006.html#06/02/14</span></a>)</p>
  <p>BMSC で編集できないコマンドを譜面が含んでいる場合、拡張子 BME を使用することは不適切です。</p>
  <p>For example: <code>#STOPxx&nbsp;n</code>, <code>#BPMxx&nbsp;n</code>,
   <code>#WAV01-FZ</code>, <code>#BMP00-FZ</code>, <code>#BGA00-ZZ</code>, <code>#xxx51-69</code>, etc.</p>
  <p>しかしながら、拡張子を BMS にするよりは BME にしたほうがましでしょう。 なぜなら前述のコマンドは広義の「拡張」ではあるからです。</p>
 </dd>
 <dt>引用者補足:</dt>
 <dd>
  <p>前述のコラムの結論は: 「BMS と BME を峻別する意味はもはやありません。」</p>
  <p>私は彼の見解に同意します。 拡張コマンドは既に自然なものだからです。</p>
  <p>また、拡張コマンドをサポートしない実装はもはや使用されないからです。</p>
  <p>さらに、BMSC は基本的なコマンドである <code>#RANDOM</code> をサポートしませんでした。</p>
  <p>「厳格な BME」は、BMS の完全な上位互換ではありません。 私は、起源や辞書的な意味へのこだわりは無意味であると判断しました。</p>
  <p>ところで、私は 7KEYS の代名詞として BME を適切に使用することに反対ではありません。それは厳密ではありませんが、「厳格な BME」より有用です。</p>
 </dd>
</dl>


<table>
 <tbody>
  <tr><th scope="row">origin</th><td>BMSC</td></tr>
  <tr><th scope="row">support</th><td>BM98, BM98k, BMSV 以外のすべて</td></tr>
  <tr>
   <th scope="row">header</th>
   <td><p>BMS のコマンドに加えて、ほとんどの実装は以下の拡張コマンドをサポートしています。</p>
    <p>(これらがサポートされていることは、BME のレギュレーションとは無関係です)</p>
    <table>
     <thead><tr><th scope="col">name &amp; value</th><th scope="col">summary</th><th scope="col">BMSC</th><th scope="col">origin</th></tr></thead>
     <tbody>
      <tr><td><code>#STAGEFILE&nbsp;<var>imageFilename</var></code></td><td>640x480 のスプラッシュスクリーン</td><td>Yes</td><td>BM98k 拡張</td></tr>
      <tr><td><code>#BPMxx&nbsp;<var>n</var></code></td><td>255 以上、または小数</td><td>No</td><td>bemaniaDX 拡張</td></tr>
      <tr>
       <td>
        <code>#BGAxx&nbsp;<var>BMPnum</var>&nbsp;<var>x1</var>&nbsp;<var>y1</var>&nbsp;<var>x2</var>&nbsp;<var>y2</var>&nbsp;<var>dx</var>&nbsp;<var>dy</var></code>
       </td>
       <td>部分的なトリム &amp; 表示</td>
       <td>No</td>
       <td>BM98de 拡張</td>
      </tr>
     </tbody>
    </table>
    <p>多くの実装が <code>#MIDIFILE</code> と <code>#ExtChr</code> をサポートしなかったため、それらは事実上、非標準のコマンドになりました。</p>
   </td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td><p>BMS のチャンネルに加えて、ほとんどの実装は KEY6 と KEY7 をサポートしています。</p>
    <table>
     <thead><tr><th scope="col">number</th><th scope="col">変更すべき対象</th><th scope="col">BMSC</th><th scope="col">origin</th></tr></thead>
     <tbody>
      <tr><td><code>#xxx07</code></td><td>BGA-LAYER</td><td>Yes</td><td>BM98k 拡張: <code>#xxx04</code> の上に重なるイメージオブジェ</td></tr>
      <tr><td><code>#xxx08</code></td><td>拡張 BPM</td><td>No</td><td>bemaniaDX 拡張: <code>#BPMxx</code> によって定義された実数 BPM オブジェ</td></tr>
      <tr><td><code>#xxx18-19</code></td><td>1P-side Visible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal 拡張</td></tr>
      <tr><td><code>#xxx28-29</code></td><td>2P-side Visible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal 拡張</td></tr>
      <tr><td><code>#xxx38-39</code></td><td>1P-side Invisible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal 拡張</td></tr>
      <tr><td><code>#xxx48-49</code></td><td>2P-side Invisible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal 拡張</td></tr>
     </tbody>
    </table>
    <p>多くの実装が <code>#xxx[1-4]7</code> をサポートしなかったため、それらは事実上、非標準のコマンドになりました。</p>
   </td>
  </tr>
 </tbody>
</table>

</section>

<section id="BML" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BML">BML:</a></h3>

<p><cite>EZ2DJ</cite> は、5 個の鍵盤 (x2), 1 つのターンテーブル (x2), 2 個のエフェクタボタン (x2),
 1 個のフットペダル (x2), およびロングノートという特徴を持っていました。
 (<a href="https://en.wikipedia.org/wiki/EZ2DJ" title="EZ2DJ - Wikipedia, the free encyclopedia" hreflang="en" class="external" rel="external"><span itemprop="url">https://en.wikipedia.org/wiki/EZ2DJ</span></a>)</p>

<dl>
 <dt>ロングノートについて:</dt>
 <dd>
  <p>日本の BMS シーンにおいて、一般的にロングノートは <dfn><abbr title="Long Note">LN</abbr></dfn> と省略されます。
   この文書もその習慣に倣います。</p>
  <p>LN は、指定された一定時間が経過する間、入力状態を維持する必要のあるノートです。例えば、キーを押した状態を維持します。</p>
  <p>各 LN には始点と終点がセットされます。 多くのゲームで、各 LN は可変長ノートとして、ちょうど長い棒のように表示されます。</p>
  <p>プレイヤーに要求される動作は、譜面が倣うゲームの文脈に依存します。</p>
  <p>LN は入力状態を保持する操作ですが、別のゲームは高速に入力を繰り返す操作を要求するかもしれません。</p>
  <p>本家のゲームでは、LN に対して別の名前や特徴が与えられるかもしれません。 いくつかの典型的な種類は以下のとおりです:</p>
  <table>
   <thead><tr><th scope="col">formal name</th><th scope="col">the first appearance</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>ロングノート</td>
     <td><time itemprop="update" datetime="1999-04-20">1999-04-20</time>: Ez2DJ THE 1st TRACKS</td>
     <td><p>始点で keydown して、それを保持してください。</p>
      <p><a class="external" rel="external" hreflang="ja" title="EZ2DJの歩み｜WGC_TENCHO｜note" href="https://note.com/wgc_tencho/n/nc7306a39a192">終点での Keyup は<del datetime="2021-01-03T15:00:00+09:00">不要です。</del>
       <ins datetime="2021-01-03T15:00:00+09:00">かつて必要でしたが、不要になりました。</ins></a></p></td>
    </tr>
    <tr>
     <td>ロングノート</td>
     <td><time itemprop="update" datetime="2000-02-06">2000-02-06</time>: KEYBOARDMANIA</td>
     <td>始点で keydown して、それを保持してください。終点での Keyup が必要です。</td>
    </tr>
    <tr>
     <td><span class="DBCS" lang="ja" xml:lang="ja">キープ君</span></td>
     <td><time itemprop="update" datetime="2000-04-20">2000-04-20</time>: pop'n music MICKEY TUNES</td>
     <td><p>可変長ノートではなく固定長ノートが表示されます。</p>
      <p>押されたノートは、プログレスバーのように表示されます。これは時間ゲージです。</p></td>
    </tr>
    <tr>
     <td><img src="content/kintaro-ame.png" alt="(Name unknown)" width="100" height="42"></td>
     <td><time itemprop="update" datetime="2001-02-21">2001-02-21</time>: 太鼓の達人</td>
     <td><p>長さを持つオブジェクトはすべて、連打されるべきオブジェクトです。</p>
      <p>これは一挙動を keydown - keep - keyup に分割するシンボルではありません。</p>
      <p>無数の keydown 動作のシンボルです。これは金太郎飴に似ています。</p>
      <p>(おそらくこれ以降、長いオブジェの名は体を表すようになりました。)</p></td>
    </tr>
    <tr>
     <td>フリーズアロー</td>
     <td><time itemprop="update" datetime="2001-10-19">2001-10-19</time>: DDRMAX -DDR 6thMIX-</td>
     <td><p>パネルを踏み続けてください。 終点で足を上げる必要はありません。</p>
      <p><a class="external" rel="external" hreflang="ja" title="【DDR用語の基礎知識】『フリーズアロー』" href="http://mp.i-revo.jp/user.php/rjmwurxs/entry/4.html">ステップを変更しても、四分音符未満である間は、アローは途切れません。</a></p>
      <p>恐らく、「踏む」という操作を考慮して、押下判定が緩和されています。</p>
      <p>(ある意味では、これは長押しと連打のコンビネーションです。)</p></td>
    </tr>
    <tr>
     <td>一回転スクラッチ</td>
     <td><time itemprop="update" datetime="2002-01-31">2002-01-31</time>: beatmania 7thMIX</td>
     <td><p>終点に達するまでに、ターンテーブルを 360°回転させなければなりません。</p>
      <p>区間内で回された角度が 360°に近いほど、スコアは高くなります。</p>
      <p>終点ぴったりで回転を止める必要はありません。</p></td>
    </tr>
    <tr>
     <td>アナログノート</td>
     <td><time itemprop="update" datetime="2006-01-14">2006-01-14</time>: DJMAX Portable</td>
     <td><p><abbr title="PlayStation Portable">PSP</abbr> のアナログパッドを回し続けてください。</p>
      <p>入力中はコンボが増加します。 終点まで入力を継続することが必要です。</p></td>
    </tr>
    <tr>
     <td>ホールドロングノート</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>丸い部分を終点まで押し続けてください。 途中で離すと BREAK になります。</td>
    </tr>
    <tr>
     <td>ドラッグロングノート</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>指示線通りにノートをなぞってください。 軌跡が離れすぎると BREAK になります。</td>
    </tr>
    <tr>
     <td>チェーンノート</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>指示線通りの軌跡とタイミングでノートをなぞってください。</td>
    </tr>
    <tr>
     <td>リピートノート</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>ノートの先頭部分を繰り返しタッチしてください。</td>
    </tr>
    <tr>
     <td>チャージノート</td>
     <td><time itemprop="update" datetime="2009-10-21">2009-10-21</time>: beatmaniaIIDX 17 SIRIUS</td>
     <td>始点で keydown して、それを保持してください。終点での Keyup が必要です。</td>
    </tr>
    <tr>
     <td>Backspin Scratch</td>
     <td><time itemprop="update" datetime="2009-10-21">2009-10-21</time>: beatmaniaIIDX 17 SIRIUS</td>
     <td>始点で回し始めて、それを保持してください。終点での逆回転が必要です。</td>
    </tr>
    <tr>
     <td>----</td>
     <td>タッチ系</td>
     <td>調査中</td>
    </tr>
   </tbody>
  </table>
  <p>nanasi, HDX, Angolmois 以外の BMS アプリケーションは、LN の終点を判定しません。すなわち、終点での keyup は不要です。</p>
  <ul>
   <li>しかしながら、私は、この振る舞いは「点としてリズムを示し、動作に点を関連づける」という <abbr title="User Interface">UI</abbr> に適さないと思っています。</li>
   <li>私見ですが、ゲームシステムが keyup を強要しない場合、LN は終点を明示するべきではありません --- なぜなら外観が直観に反するからです。</li>
  </ul>
  <p>LN は、ノートの数え方に混乱をもたらします。これはプログラマおよびノーターおよび譜面コレクタにとって面倒です。</p>
  <ul>
   <li>いくつかのゲームで、LN は 1 つのノートとして数えられます。すなわち、LN のセクション (始点と終点のペアから成る) は、1 つのノートです。</li>
   <li>いくつかのゲームで、始点と終点はそれぞれ別個のノートとみなされます。</li>
  </ul>
 </dd>
 <dt>歴史的経緯:</dt>
 <dd>
  <p><time itemprop="update" datetime="1997-12-10">1997-12-10</time>: <cite>beatmania</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Beatmania" title="Beatmania - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania</span></a>)</p>
  <p><time itemprop="update" datetime="1998-09-28">1998-09-28</time>: <cite>pop'n music</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Pop%27n_Music" title="Pop&#39;n Music - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Pop'n_Music</span></a>)</p>
  <p><time itemprop="update" datetime="1998-11-18">1998-11-18</time>: <cite>Dance Dance Revolution Internet Ranking Version</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Dance_Dance_Revolution" title="Dance Dance Revolution - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Dance_Dance_Revolution</span></a>)</p>
  <p><time itemprop="update" datetime="1999-02-16">1999-02-16</time>: <cite>GUITARFREAKS</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Guitar_Freaks" title="Guitar Freaks - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Guitar_Freaks</span></a>)</p>
  <p><time itemprop="update" datetime="1999-02-26">1999-02-26</time>: <cite>beatmaniaIIDX</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Beatmania_IIDX" title="Beatmania IIDX - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania_IIDX</span></a>)</p>
  <p><time itemprop="update" datetime="1999-04-20">1999-04-20</time>: <cite>Ez2DJ THE 1st TRACKS -R U Ready to Insida DJ Box?-</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/EZ2DJ" title="EZ2DJ - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/EZ2DJ</span></a>)</p>
  <p><time itemprop="update" datetime="1999-07-10">1999-07-10</time>: <cite>drummania</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/DrumMania_XG" title="DrumMania XG - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/DrumMania_XG</span></a>)</p>
  <p><time itemprop="update" datetime="1999-09-24">1999-09-24</time>: <cite>pop'n stage</cite> が稼働しました。
   (<a href="https://ja.wikipedia.org/wiki/Pop&#39;n_stage" title="Pop&#39;n stage - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="ja"><span itemprop="url">https://ja.wikipedia.org/wiki/Pop'n_stage</span></a>)</p>
  <p><time itemprop="update" datetime="2000-02-06">2000-02-06</time>: <cite>KEYBOARDMANIA</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Keyboardmania" title="Keyboardmania - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Keyboardmania</span></a>)</p>
  <p><time itemprop="update" datetime="2000-06-21">2000-06-21</time>: <cite>Dance Maniax</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Dance_Maniax" title="Dance Maniax - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Dance_Maniax</span></a>)</p>
  <p><time itemprop="update" datetime="2000-09-12">2000-09-12</time>: <cite>ParaParaParadise</cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Para_Para_Paradise" title="Para Para Paradise - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Para_Para_Paradise</span></a>)</p>
  <p><time itemprop="update" datetime="2001-02-21">2001-02-21</time>:
   <cite><span class="DBCS" lang="ja" xml:lang="ja">太鼓の達人</span></cite> が稼働しました。
   (<a href="https://en.wikipedia.org/wiki/Taiko_no_Tatsujin" title="Taiko no Tatsujin - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Taiko_no_Tatsujin</span></a>)</p>
  <p>多くの BMS 由来フォーマットが、この時期に現われては消えました。おそらくは、LN に倣うアイディアもいくつかには含まれていたでしょう。</p>
  <p>上記の全ゲームの譜面を包括的に表現するために、BMS の拡張フォーマット <cite><abbr title="music game quest">MGQ</abbr></cite> が、
   2001 年に <span itemprop="name">quest</span> によって提案されました。</p>
  <ul>
   <li>このフォーマットは、チャンネル番号を 16 進数に拡張しました。 なぜなら <cite>KEYBOARDMANIA</cite> が 24KEYS (x2) を持っていたからです。</li>
   <li>このフォーマットは、新しく LN のためにチャンネルを確保しました。なぜならいくつかのゲームが LN を特色としたからです。</li>
   <li>このフォーマットは、LN の記法を定義しました。しかしながら、MGQ 形式の LN 記法は直観的でなく、書くのが困難でした。</li>
  </ul>
  <p><time itemprop="update" datetime="2001-09-29">2001-09-29</time>:
   MGQ の問題点を解決するために、<span itemprop="name">NvyU</span> は <cite>RDM</cite> 形式の LN を提案しました。 さらに、それは RDM 1.21 に実装されました。</p>
  <ul>
   <li>これは現在の LN のデファクト・スタンダードになりました。これは MGQ を単純化した記法です。</li>
   <li>この記法は、MGQ が提案したチャンネルのうち、<code>#xxx51-69</code> を使用します。</li>
   <li>LN をサポートする BMS 実装はすべて、この記法を実装しています。</li>
   <li>当時の RDM は、RDM-LN および MGQ-LN の記法を識別するために、 <code>#LNTYPE</code> に 1 もしくは 2 を指定する必要がありました。</li>
  </ul>
  <p><time itemprop="update" datetime="2002-02-22">2002-02-22</time>:
   RDM 1.61 は、さらに <cite>RDM type #2</cite> として <code>#LNOBJ&nbsp;xx</code> をサポートしました。</p>
  <ul>
   <li><code>#LNOBJ&nbsp;xx</code> は、RDM 形式の LN をさらに単純化した記法です。
    <code>#LNOBJ&nbsp;xx</code> は、チャンネル <code>#xxx51-69</code> をもはや必要としません。</li>
   <li><code>#LNOBJ</code> として指定された <code>#WAV</code> インデックスのオブジェクトは、LN の終点シンボルとして定義されます。</li>
   <li>チャンネル <code>#xxx11-29</code> に終点を配置することにより、その直前にあるオブジェクトは、LN 始点として解釈されます。</li>
   <li><code>#LNOBJ&nbsp;xx</code> をサポートしない実装は、この LN 終点を通常の可視オブジェとして解釈してしまいます。
    <code>#LNOBJ&nbsp;xx</code> をサポートしない実装が譜面を誤解釈しないように、拡張子 BML はフィルタとして準備されました。</li>
   <li><code>#LNOBJ&nbsp;xx</code> を使用する譜面は、拡張子を BML に変更することが推奨されます。</li>
   <li><p><strong class="red">厳格な BML は、LN として <code>#LNOBJ&nbsp;xx</code> だけを含んでいる譜面を意味します。</strong></p>
    <p><strong class="red">RDM 記法のチャンネル <code>#xxx51-69</code> の LN は、BML の定義には含まれていません。</strong></p></li>
   <li><p>厳格な BML は、拡張子を BMS または BME に変更すれば、BMSC で編集することができます。 (全インデックスが 16 進数なら。)</p>
    <p>元来、BML は BMSC で LN を編集するために定義されたフォーマットです。
     したがって、<strong class="red">厳格な BML は、BME のサブセットであることができます。</strong></p></li>
  </ul>
  <p><time itemprop="update" datetime="2003-08-17">2003-08-17</time>: RDM 1.7 は、<code>#LNTYPE&nbsp;1</code> をデフォルト値として定義しました。</p>
  <ul>
   <li>このため、<code>#LNTYPE</code> 宣言はもはや不要になりました。 MGQ-LN を使用する場合のみ、<code>#LNTYPE&nbsp;2</code> が必要です。</li>
   <li><p>MGQ-LN と RDM-LN の両方をサポートする実装だけが、本来の意味で <code>#LNTYPE</code> コマンドを必要とします。</p>
    <p>(いまのところ: RDM, <del>MGQ,</del> WAview, in_bm2, ruvit, Angolmois)</p></li>
   <li><p><a href="https://nvyu.net/rdm/rby_ex.php" title="ruv-it! | support page" class="external" rel="external" hreflang="ko">ruv-it! | support page</a> から引用 (引用者意訳):</p>
    <blockquote>
     <p class="ind1">RDM と ruvit は、2 つの理由で MGQ-LN のサポートを継続しています。</p>
     <ol>
      <li><cite>MGQ</cite> が LN のパイオニアであるため。</li>
      <li>RDM (1.2 以前) が一時的に MGQ-LN を使用していたため。</li>
     </ol>
     <p class="ind1">ほとんどの実装は、もはや MGQ-LN をサポートしていません。 できれば MGQ-LN はもう使わないでください。</p>
    </blockquote></li>
  </ul>
  <p><code>#LNOBJ&nbsp;xx</code> をサポートしない実装のうちいくつかは、拡張子が BML である譜面を認識します。</p>
  <ul>
   <li>これは厳密にいえば BML の仕様に違反していますが、チャンネル<code>#xxx51-69</code> を知らない実装に対しては有用です。</li>
   <li><b><code>#LNOBJ</code> is BML</b> --- それは厳密な意味で正しい。 しかしながらその正しさは、最近もはやそれほど有用ではありません。</li>
   <li><b>LN is BML</b> --- それは誤解です。 しかし、それはシンプルで、分かりやすく、実際的です。</li>
  </ul>
 </dd>
</dl>

<table>
 <caption>厳格な BML:</caption>
 <tbody>
  <tr><th scope="row">origin</th><td>RDM</td></tr>
  <tr><th scope="row">support</th><td>RDM, nazo, nazoZZ, bme2wav, LR2, nanasi, ruvit, fgt++, fgt#, pomu2, uBMplay, PMSee-V, bmx2wav, iBMSC (3.0 or later), Angolmois</td></tr>
  <tr><th scope="row">channel</th><td>BME と同じ</td></tr>
  <tr>
   <th scope="row">header</th>
   <td>
    <table>
     <thead><tr><th scope="col">name &amp; value</th><th scope="col">summary</th><th scope="col">origin</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <td><code>#LNOBJ&nbsp;<var><mark>xx</mark></var></code></td>
       <td><code>#WAV<var><mark>xx</mark></var></code> を LN 終点として使う</td>
       <td>RDM 拡張</td>
       <td>私たちは大文字で番号を指定するべきです。(互換性のため)</td></tr>
     </tbody>
    </table>
   </td>
  </tr>
 </tbody>
</table>

<table>
 <caption>ルーズな BML:</caption>
 <tbody>
  <tr><th scope="row">origin</th><td>WAview</td></tr>
  <tr>
   <th scope="row">support</th>
   <td><p>RDM, nazo, nazoZZ, bme2wav, LR2, nanasi, ruvit, fgt++, fgt#, pomu2, uBMplay, PMSee-V, bmx2wav, iBMSC, Angolmois</p>
    <p><del>DDR (only DDR mode),</del> WAview, in_bm2, BMSE, IIDXv, HDX, O2play, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?)</ins></p>
    <ul class="noMarginTop noMarginBtm">
     <li>DDR は Arrow モードにおいて、<code>#LNOBJ&nbsp;xx</code> ではなく、RDM 記法 <code>#xxx51-69</code> をサポートしています。</li>
     <li>DDR は 拡張子 BML の要求仕様を満たしていないので、拡張子 BML をサポートしていません。 (= DDR は仕様に厳密に準拠している)</li>
    </ul>
   </td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td><p>BME のチャンネルに加えて...</p>
    <table>
     <thead><tr><th scope="col">number</th><th scope="col">object to change</th><th scope="col">origin</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <td><code>#xxx51-59</code></td>
       <td>1P-side LN Object</td>
       <td>MGQ 拡張</td>
       <td><code>#xxx57</code> と <code>#xxx67</code> のサポートは、実装依存です。</td>
      </tr>
      <tr>
       <td><code>#xxx61-69</code></td>
       <td>2P-side LN Object</td>
       <td>MGQ 拡張</td>
       <td>
        <dl class="noMarginTop noMarginBtm">
         <dt><code>#LNTYPE&nbsp;1</code>:: RDM 記法:</dt>
          <dd>
           <p><code>00</code> でない番号が見つかれば、LN 始点になります。</p>
           <p><code>00</code> でない番号が次に見つかれば、LN 終点になります。</p>
          </dd>
         <dt><code>#LNTYPE&nbsp;2</code>:: MGQ 記法:</dt>
          <dd>
           <p><code>00</code> でない番号が見つかれば、LN 始点になります。</p>
           <p><code>00</code> でない番号が続く間、LN が持続します。</p>
           <p><code>00</code> が見つかれば、その直前が LN 終点になります。</p>
          </dd>
        </dl>
       </td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr><th scope="row">header</th><td>BME と同じ</td></tr>
 </tbody>
</table>

</section>

<section id="PMS" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PMS">PMS:</a></h3>

<p><cite>pop'n music</cite> は、9 個のカラフルなボタンおよび踊るキャラクターを持っていました。 (<a href="https://en.wikipedia.org/wiki/Pop%27n_Music" title="Pop&#39;n Music - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Pop'n_Music</span></a>)</p>

<dl>
 <dt>歴史的経緯:</dt>
 <dd>
  <p><time itemprop="update" datetime="1998-09-28">1998-09-28</time>: <cite>pop'n music</cite> が稼働しました。</p>
  <p><time itemprop="update" datetime="2000-04-28">2000-04-28</time>:
   <cite>KEYBOARDMANIA</cite> に倣ったトレーナーとして、<cite>doremimania</cite> が <span itemprop="name">Koutaro Izumi</span> によってリリースされました。</p>
  <ul>
   <li>このソフトウェアは、独自拡張として接尾辞 <strong>PMS</strong> を提案し実装しました。</li>
   <li>私の推測では、この PMS は Piano-Music-Script の略です。この記法は BMS とはまったく異なります。それらは別個のフォーマットです。</li>
   <li>したがって、「doremimania がサポートする PMS」と、「BMS のサブセットである PMS」との間に、互換性はありません。</li>
   <li>本稿では doremimania-PMS について触れません。 (doremimania の代理配布:
    <a class="external" rel="external" title="-FrojectD-" hreflang="ja" href="https://web.archive.org/web/*/http://www.geocities.co.jp/Athlete-Athene/7809/frojectd.html"><span itemprop="url">https://web.archive.org/web/*/http://www.geocities.co.jp/Athlete-Athene/7809/frojectd.html</span></a>)</li>
  </ul>
  <p><time itemprop="update" datetime="2000-09-05">2000-09-05</time>: 9 ボタン (9KEYS) をサポートするため、<span itemprop="name">Nekomi</span> は
   <b>feeling pomu</b> 1.41 Test5
   (<cite><span class="DBCS" lang="ja" xml:lang="ja">ふぃーりんぐぽみゅ</span></cite>) をリリースしました。</p>
  <ul class="noMarginTop noMarginBtm">
   <li>このソフトウェアは、9BUTTONS 専門です。BMS または BME の譜面は、ゲーム開始時に自動的に 9 つのラインに広げられます。</li>
   <li>このソフトウェアは、BMS フォーマットのサブセットである <strong>PMS</strong> を提案し、実装しました。
    PMS は 9BUTTONS 専用の譜面です。</li>
   <li>PMS は、BMS のチャンネル <code>#xxx11-15</code> と <code>#xxx22-25</code> を、pop'n music もどきとして表示させるための拡張子です。</li>
   <li>doremimania の独自拡張子として、接尾辞 PMS が既に存在していましたが、それは pomu-PMS とは無関係です。</li>
  </ul>
  <p><time itemprop="update" datetime="2002-09-23">2002-09-23</time>:
   <b>feeling pomu second</b> Ver 0.60 が、feeling pomu のアップデート版としてリリースされました。
   (<cite><span class="DBCS" lang="ja" xml:lang="ja">ふぃーりんぐぽみゅせかんど</span></cite>)</p>
  <ul class="noMarginTop noMarginBtm">
   <li>公式ページ上で、<span itemprop="name">Nekomi</span> は “feeling pomu” を “<b class="DBCS" lang="ja" xml:lang="ja">ぽみゅ</b>” と略し、
    “feeling pomu second” を “<b class="DBCS" lang="ja" xml:lang="ja">みゅに</b>” と略しています。</li>
   <li>pomu2 は、RDM 記法 <code>#xxx51-69</code> と <code>#LNOBJ&nbsp;xx</code> の両方をサポートし、拡張子 BML をサポートしました。</li>
   <li><p>PMS は、フィルタとして以上に、9BUTTONS モードを強制するために必要とされます。
    なぜなら <strong class="red">9KEYS は本質的に BMS-DP</strong> だからです。</p>
    <ul>
     <li>BMS-DP と 9KEYS を区別する方法は、拡張子以外に存在しません。</li>
     <li>したがって、9KEYS 専用の譜面は、拡張子を PMS に変更しなければなりません。</li>
     <li>さらに、PMS をサポートする実装は、拡張子が BML でなくても LN を解釈できなければなりません。</li>
    </ul></li>
   <li><p>pomu2 は、18BUTTONS (PMS-DP) も提案し、実装しました。これはアーケードに存在しない、独自の特徴です。</p>
    <ul>
     <li>18KEYS は、演奏されるべきオブジェクトとして、チャンネル <code>#xxx11-29</code> のすべてを使用します。
      <strong class="red">18KEYS は本質的に BME-DP</strong> です。</li>
     <li>したがって、18KEYS 専用の譜面は、拡張子を PMS に変更しなければなりません。</li>
    </ul></li>
  </ul>
  <p><time itemprop="update" datetime="2009-09-16">2009-09-16</time>:
   LR2 beta3 090916 は、「譜面の拡張子が PMS である場合、解釈されるべきチャンネル」を拡張しました。</p>
  <ul class="noMarginTop noMarginBtm">
   <li>要するに LR2 は、BMS-DP だけでなく <strong class="red">BME-SP</strong> も適切な PMS として解釈します。</li>
   <li>pomu2 は当初からこのキーマップをサポートしています。 nanasi はこのキーマップをフットペダルモードとして解釈します。</li>
   <li><p>このバージョン以降、LR2 はエディタから呼べるようになりました。
     <span class="red">しかし、編集中の 9KEYS 楽譜をプレビューしたとき、LR2 は 9KEYS 表示を適用しません。</span></p>
    <p><ins datetime="2014-02-07T18:30:00+09:00"><time datetime="2014-02-05">2014-02-05</time>:
     この問題を解決する方法が、<span itemprop="name">Misty.ls04</span> によって提案されました。
     (<a href="https://twitter.com/misty_ls04/status/431288455231193088" class="external" rel="external" hreflang="ja" title="Twitter / misty_ls04:"><span itemprop="url">https://twitter.com/misty_ls04/status/431288455231193088</span></a>)</ins></p>
    <p><ins datetime="2014-06-06T04:30:00+09:00"><time datetime="2014-06-01">2014-06-01</time>:
     この問題を解決するために “lr2_pmsview_helper” が <span itemprop="name">Misty.ls04</span>
     によって公開されました。<a href="https://hitkey.nekokan.dyndns.info/diary1406.php#D140606" class="external" rel="external" hreflang="en">私の記事</a>を参照してください。</ins></p></li>
  </ul>
 </dd>
</dl>

<table>
 <tbody>
  <tr><th scope="row">origin</th><td>pomu</td></tr>
  <tr>
   <th scope="row">support</th>
   <td>
    <table>
     <tbody>
      <tr><th scope="row">9KEYS (BMS-DP):</th><td>pomu2, WAview, in_bm2, LR2, nanasi, fgt++, fgt#, GDAC2, BMSE, uBMplay, PMSee-V, bmx2wav,
       iBMSC (3.0+), Angolmois (2.0a2 or later)</td></tr>
      <tr><th scope="row">9KEYS (BME-SP):</th><td>pomu2, LR2, GDAC2 (774gsc), PMSee-V, bmx2wav, Angolmois (2.0a2 or later)</td></tr>
      <tr><th scope="row">18KEYS (BME-DP):</th><td>pomu2, nanasi, GDAC2 (774gsc), bmx2wav, Angolmois (2.0a2 or later, by <code>--key-spec</code>)</td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">header</th>
   <td>互換性のために、PMS は <code>#PLAYER&nbsp;3</code> を指定することが推奨されます。</td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td>
    <table>
     <thead>
      <tr>
       <td></td>
       <th scope="col">1</th>
       <th scope="col">2</th>
       <th scope="col">3</th>
       <th scope="col">4</th>
       <th scope="col">5</th>
       <th scope="col">6</th>
       <th scope="col">7</th>
       <th scope="col">8</th>
       <th scope="col">9</th>
       <th scope="col">remarks</th></tr>
     </thead>
     <tbody>
      <tr>
       <th scope="row">9KEYS (BMS-DP):</th>
       <td><code>11</code></td><td><code>12</code></td><td><code>13</code></td><td><code>14</code></td><td><code>15</code></td>
       <td><code>22</code></td><td><code>23</code></td><td><code>24</code></td><td><code>25</code></td><td>標準的な PMS</td>
      </tr>
      <tr>
       <th scope="row">9KEYS (BME-SP):</th>
       <td><code>11</code></td><td><code>12</code></td><td><code>13</code></td><td><code>14</code></td><td><code>15</code></td>
       <td><code>18</code></td><td><code>19</code></td><td><code>16</code></td><td><code>17</code></td><td>あまり知られていない</td>
      </tr>
      <tr>
       <th scope="row" rowspan="2" class="vam">18KEYS (BME-DP):</th>
       <td><code>11</code></td><td><code>12</code></td><td><code>13</code></td><td><code>14</code></td><td><code>15</code></td>
       <td><code>18</code></td><td><code>19</code></td><td><code>16</code></td><td><code>17</code></td><td>1P-side (left)</td>
      </tr>
      <tr>
       <td><code>21</code></td><td><code>22</code></td><td><code>23</code></td><td><code>24</code></td><td><code>25</code></td>
       <td><code>28</code></td><td><code>29</code></td><td><code>26</code></td><td><code>27</code></td><td>2P-side (right)</td>
      </tr>
     </tbody>
    </table>
    <ul>
     <li>不可視 <code>#xxx31-49</code> と LN <code>#xxx51-69</code> <ins datetime="2013-06-17T02:00:00+09:00">と 地雷 <code>#xxxD1-E9</code></ins>
      は、可視オブジェクトのチャンネルマッピングに準じます。</li>
     <li><p>18KEYS は、FREE ZONE のためのチャンネルだった <code>#xxx<mark>X7</mark></code> を使用します。</p>
      <ul>
       <li>BMSE: BMSE は <code>#xxx<mark>X7</mark></code> を捨てるので、編集は困難です。</li>
       <li><p>GDAC2 + 774gsc: 今のところベストな選択です。 しかし GDAC2 のレスポンスは、あまり快適ではありません。</p>
        <p><a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_player3_pms4.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_player3_pms4.png</span></a></p></li>
       <li><p>BMSC: 編集は最も早く始められます。 なぜなら BMSC は、FREE ZONE を標準でサポートする唯一のエディタだからです。</p>
        <p><img src="content/bmsc-18keys.png" alt="18KEYS_by_BMSC" width="293" height="84"></p></li>
      </ul></li>
    </ul>
   </td>
  </tr>
 </tbody>
</table>

<!-- /h3: PMS -->
</section>

<hr>
<!-- /h2: About filename extensions of musical score file of BMS Format -->
</section>




<section id="TRENDS-IN-USE-OF-COMMANDS">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TRENDS-IN-USE-OF-COMMANDS">コマンドの使用傾向</a></h2>

<section id="MAJOR-EXTENDED-COMMAND">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MAJOR-EXTENDED-COMMAND">メジャーな拡張:</a></h3>
<table>
 <thead><tr><th scope="col">command line</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">channel</th></tr>
  <tr><td><code>#xxx07</code></td><td>BGA-LAYER</td><td>BM98k</td></tr>
  <tr><td><code>#xxx08</code></td><td>BPM 変更 « <code>#BPMxx&nbsp;<var>n</var></code></td><td>bemaniaDX</td></tr>
  <tr><td><code>#xxx09</code></td><td>STOP シーケンス « <code>#STOPxx&nbsp;<var>n</var></code></td><td>DDR</td></tr>
  <tr><td><code>#xxx51-<del>5F</del><ins>59</ins></code></td>
   <td>1P-side LN (RDM 記法) « <code>#LNTYPE&nbsp;1</code> (O2mania 以外は省略可)</td><td>MGQ</td></tr>
  <tr><td><code>#xxx61-<del>6F</del><ins>69</ins></code></td>
   <td>2P-side LN (RDM 記法) « <code>#LNTYPE&nbsp;1</code> (O2mania 以外は省略可)</td><td>MGQ</td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">header</th></tr>
  <tr><td><code>#BPMxx&nbsp;<var>n</var></code></td><td>実数 BPM 定義 » <code>#xxx08</code></td><td>bemaniaDX</td></tr>
  <tr><td><code>#STOPxx&nbsp;<var>n</var></code></td>
   <td>STOP シーケンス定義 (1 は 4/4 拍子小節の 1/192 に相当) » <code>#xxx09</code></td><td>DDR</td></tr>
  <tr><td><code>#LNOBJ&nbsp;<var>xx</var></code></td>
   <td>LN 終点シンボルの定義 (RDM-type #2) « <code>#WAVxx&nbsp;<var>filename</var></code></td><td>RDM</td></tr>
  <tr><td><code>#WAV<var>[01-ZZ]</var>&nbsp;<var>filename</var></code></td><td>定義番号の 36 進数化</td><td>bemaniaDX</td></tr>
  <tr><td><code>#BMP<var>[00-ZZ]</var>&nbsp;<var>filename</var></code></td><td>定義番号の 36 進数化</td><td>nanasi</td></tr>
  <tr><td><code>#WAVxx&nbsp;<var>oggfilename</var></code></td>
   <td><code>#WAVxx</code> への Ogg 定義、拡張子だけが異なる同名ファイルの代替探索</td><td>DDR</td></tr>
  <tr><td><code>#BMPxx&nbsp;<var>videofilename</var></code></td>
   <td><code>#BMPxx</code> へのビデオ定義、ファイルの拡張子を除外した代替探索</td><td>LR</td></tr>
  <tr><td><code>#SUBTITLE&nbsp;<var>string</var></code></td>
   <td>註: これは「暗黙の副題 (bemaniaDX 拡張)」とは異なるコマンドです</td><td>nanasi</td></tr>
  <tr><td><code>#SUBARTIST&nbsp;<var>string</var></code></td><td>音スライサ、映像メーカー、ノーターなど</td><td>LR</td></tr>
  <tr><td><code>#DIFFICULTY&nbsp;<var>[1-5]</var></code></td><td>譜面の難易度種別</td><td>nanasi</td></tr>
  <tr><td><code>#STAGEFILE&nbsp;<var>imagefilename</var></code></td><td>ロード時のスプラッシュスクリーン</td><td>BM98k</td></tr>
  <tr><td><code>#BANNER&nbsp;<var>imagefilename</var></code></td><td>バナー表示</td><td>nanasi</td></tr>
 </tbody>
</table>
</section>

<section id="EXTENDED-COMMAND-USED-OCCASIONALLY">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTENDED-COMMAND-USED-OCCASIONALLY">ときどき使われる拡張:</a></h3>
<table>
 <thead><tr><th scope="col">command line</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">channel</th></tr>
  <tr><td><code>#xxx99</code></td><td>テキスト変更 « <code>TEXTxx&nbsp;"<var>string</var>"</code></td><td>pomu</td></tr>
  <tr><td><code>#xxxA0</code></td><td>判定変更 « <code>#EXRANKxx&nbsp;<var>n</var></code></td><td>nanasi</td></tr>
  <tr><td><code>#xxxD1-D9</code></td><td>1P-side 地雷 « <code>#WAV00&nbsp;<var>soundfilename</var></code></td><td>nanasi</td></tr>
  <tr><td><code>#xxxE1-E9</code></td><td>2P-side 地雷 « <code>#WAV00&nbsp;<var>soundfilename</var></code></td><td>nanasi</td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">header</th></tr>
  <tr><td><code>#WAV00&nbsp;<var>soundfilename</var></code></td><td>地雷の爆発音の定義 » <code>#xxxD1-E9</code></td><td>nanasi</td></tr>
  <tr><td><code>#BACKBMP&nbsp;<var>imagefilename</var></code></td><td>譜面の背景画像の定義</td><td>DDR</td></tr>
  <tr><td><code>#EXRANKxx&nbsp;<var>n</var></code></td><td>判定幅の定義 » <code>#xxxA0</code></td><td>nanasi</td></tr>
  <tr><td><code>#CHARFILE&nbsp;<var>charfilename</var></code></td><td>pop'n music に倣ったキャラクター</td><td>pomu</td></tr>
  <tr><td><code>#COMMENT&nbsp;"<var>string</var>"</code></td><td>選曲リストに表示するテキスト</td><td>pomu</td></tr>
  <tr><td><code>#TEXTxx&nbsp;"<var>string</var>"</code></td><td>プレイ中に表示するテキスト</td><td>pomu</td></tr>
  <tr><td><code>#LNTYPE&nbsp;1</code></td><td>RDM 記法の LN (O2mania は宣言必須) » <code>#xxx51-69</code></td><td>RDM</td></tr>
  <tr><td><code>%URL&nbsp;<var>string</var></code></td><td>BMSC が自動的に加える</td><td>BMSManager</td></tr>
  <tr><td><code>%EMAIL&nbsp;<var>string</var></code></td><td>BMSC が自動的に加える</td><td>BMSManager</td></tr>
 </tbody>
</table>
</section>

<section id="EXTENDED-COMMAND-USEFUL-AT-TEST-PLAY">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTENDED-COMMAND-USEFUL-AT-TEST-PLAY">テストプレイで有用な拡張:</a></h3>
<table>
 <thead><tr><th scope="col">command line</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">header</th></tr>
  <tr><td><code>#PATH_WAV&nbsp;<var>path</var></code></td><td>ファイル参照元ディレクトリのパスを定義</td>
   <td><del datetime="2013-07-02T18:00:00+09:00">GDAC2</del> <ins datetime="2013-07-02T18:00:00+09:00">BMEV</ins></td></tr>
  <tr><td><code>#SETRANDOM&nbsp;<var>n</var></code></td><td>定数を生成</td><td>pomu2</td></tr>
  <tr><td><code>#SETSWITCH&nbsp;<var>n</var></code></td><td>定数を生成</td><td>nanasi</td></tr>
 </tbody>
</table>
</section>

<hr>
<!-- /h2:Trends in use of commands -->
</section>




<section id="HEADER">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#HEADER">&lt;HEADER&gt;</a></h2>


<section id="PLAYER" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYER">#PLAYER&nbsp;<var>[1-4]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>プレイヤーの数を定義します。</li>
 <li>コマンド省略時、デフォルト値として <code>1</code> が適用されます。</li>
</ul>

<ul>
 <li><p>実のところ、この値はプレイヤーの数ではなく、ゲームモードの選択です。 対応関係は以下のとおりです:</p>
  <table>
   <thead><tr>
    <th scope="col">command</th><th scope="col">summary</th><th scope="col">gauges</th><th scope="col">abbreviated name</th><th scope="col">remarks</th>
   </tr></thead>
   <tbody>
    <tr><td><code>#PLAYER&nbsp;1</code></td><td>1P</td><td>1 guage</td><td>Single Play, 1P, SP</td><td>default</td></tr>
    <tr><td><code>#PLAYER&nbsp;2</code></td><td>1P + 2P</td><td>2 guages</td><td>Couple Play, 2P</td><td>近年、このモードはほとんどサポートされません。</td></tr>
    <tr><td><code>#PLAYER&nbsp;3</code></td><td>1P + 2P for 1P</td><td>1 guage</td><td>Double Play, DP</td>
     <td>モダンなアプリケーションはセンターダブルを実装しています。</td></tr>
    <tr><td><code>#PLAYER&nbsp;4</code></td><td>1P vs 2P</td><td>2 guages</td><td>Battle Play</td><td>BM98 (BM98k) だけがサポートしています。</td></tr>
   </tbody>
  </table></li>
 <li><p><code>#PLAYER&nbsp;2</code> は、ダブルプレイ用の譜面を、二人のプレイヤーが同時に演奏するモードです。
  これは合奏もしくはデュエットに似ています。</p>
  <ul>
   <li>“Couple Play” は <cite>beatmaniaIIDX 19 Lincle</cite> (<time itemprop="update" datetime="2011-09-15">2011-09-15</time>) にて削除されました。</li>
   <li>代わりに、「シングルプレイ用の楽譜 2 枚」を二人のプレイヤーが同時に演奏する <strong>“FREE PLUS”</strong> モードが新設されました。</li>
   <li>たとえば、左側のプレイヤーは <a href="http://textage.cc/score/19/diavolo.html?1H900" class="external" rel="external" hreflang="ja" title="&quot;TRANSCENDENTAL ETUDES&quot; DIAVOLO">“DIAVOLO (SP-HYPER)”</a> を演奏し、右側のプレイヤーは
    <a href="http://textage.cc/score/19/diavolo.html?2AC00" title="&quot;TRANSCENDENTAL ETUDES&quot; DIAVOLO" class="external" rel="external" hreflang="ja">“DIAVOLO (SP-ANOTHER)”</a> を演奏します。</li>
  </ul></li>
 <li><p>“Battle Play” は 2 つの “Single Play” を同時に行います。</p>
  <ul>
   <li>これは、二人のプレイヤーが、同一の SP 譜面を同時に演奏し、スコアを競うモードです。</li>
   <li><p>したがって、<code>#PLAYER&nbsp;1</code> の楽譜がある場合、それはクライアント側によってプレイ・オプションでカバーすることができます。</p>
    <p class="red">“Battle Play” のためにわざわざ特別な楽譜を用意する必要はありません。</p></li>
   <li>仕様が無意味だったので、BM98 以降のソフトウェアはすべて、<code>#PLAYER&nbsp;4</code> のサポートを中止しました。</li>
   <li>同様に、<code>#PLAYER&nbsp;2</code> はクライアント側によってカバーすることができるモードです。</li>
  </ul></li>
</ul>

<ul>
 <li><p>beatmania の “Single Play” のプレイスクリーンは、3 カラムの静的なレイアウトです。</p>
  <pre class="lh100">+--------+ +--------+ +--------+
|1P side | |movie   | |2P side |
|notes   | |display | |notes   |
+--------+ +--------+ +--------+</pre>
  <ul>
   <li>左カラム: 1P 側の譜面を表示するスクリーン</li>
   <li>中カラム: ムービースクリーン</li>
   <li>右カラム: 2P 側の譜面を表示するスクリーン</li>
  </ul>
  <p>アーケードの beatmania に関しては、この表示レイアウトは、デバイスの物理的なデザインの帰結として採用されています。</p></li>
 <li><p>しかしながら、BMS では、必ずしもこのレイアウトでなければならないというわけではありません。</p>
  <ul>
   <li>なぜなら、PC キーボードは 2 人が同時に操作することができるようには設計されていないからです。</li>
   <li>2 人が 1 台の PC キーボードを同時に使用するプレイスタイルは、もはや歓迎されません。</li>
   <li>つまり、“Couple Play” および “Battle Play” はもはや歓迎されません。 かわりにオンライン対戦が普及しはじめています。</li>
  </ul></li>
 <li><p>BM98, BM98de, DDR, bemaniaDX, DDR, および fgt++ は、この静的な 3 カラムレイアウトをそのまま採用しています。 LR2 のいくつかのスキンも同様です。</p>
  <p>しかし、このレイアウトは、他の実装ではほとんど見られないでしょう。</p></li>
 <li><p>これらの理由から、<code>#PLAYER&nbsp;2</code> および <code>#PLAYER&nbsp;4</code> は実装依存となっています。</p>
  <ul>
   <li>たとえば、bemaniaDX は <code>#PLAYER&nbsp;2</code> および <code>#PLAYER&nbsp;4</code> を <code>#PLAYER&nbsp;3</code> として解釈します。</li>
  </ul></li>
 <li><p>beatmania ベースのアプリケーションは、“Double Play” を確実に実装しています。<code>#PLAYER&nbsp;3</code> です。</p>
  <ul>
   <li>なぜなら beatmania において、DP は非常にポピュラーなゲームモードだからです。</li>
   <li><p>1P 側譜面と 2P 側譜面が隣接しない DP のレイアウトは、俗に “TWIN MIX PLAY (TMP)” と呼ばれるかもしれません。</p>
    <ul>
     <li>初期の beatmania シリーズは “CENTER DOUBLE” をサポートしていなかったので、DP は非常に困難でした。</li>
    </ul></li>
   <li><p>“CENTER DOUBLE” のプレイスクリーンは、1P 側譜面と 2P 側譜面が隣接するレイアウトです。</p>
    <pre class="lh100">+--------+ +--------+ +--------+        ┌┐+--------+ +--------+┌┐
|1P side | |2P side | |movie   |        └┘|1P side | |2P side |└┘
|notes   | |notes   | |display |   or   ┌┐|notes   | |notes   |┌┐
+--------+ +--------+ +--------+        └┘+--------+ +--------+└┘</pre>
    <p>ムービースクリーンは、譜面以外のスペースに表示されます。</p>
    <p>いくつかの実装は、ムービーを複眼的に表示することができます。
     (<a class="external" rel="external" title="beatmania IIDX 18 Resort Anthem - Class 皆伝(DP) - YouTube" href="https://www.youtube.com/watch?v=FtQ8woowZiM"><span itemprop="url">https://www.youtube.com/watch?v=FtQ8woowZiM</span></a>)</p></li>
   <li><p>“CENTER DOUBLE” は <cite>beatmania complete MIX 2</cite> で初登場しました。
     (<time itemprop="update" datetime="2000-01-27">2000-01-27</time>)</p>
    <p>したがって、いくつかの古い実装は “CENTER DOUBLE” をサポートしていません。</p></li>
  </ul></li>
</ul>

<ul>
 <li><p><code>#PLAYER</code> はチャンネルを束縛しないので、<code>#PLAYER&nbsp;1</code> と <code>#xxx21-29</code> は併記することができてしまいます。</p>
  <table>
   <thead><tr><th scope="col">for example:</th><th scope="col">in nazobmplay:</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh120"><code>#PLAYER&nbsp;1
#00111:1100000000000000
#00121:2100000000000000
#00122:0022000000000000
#00123:0000230000000000
#00124:0000002400000000
#00125:0000000025000000
#00128:0000000000260000
#00129:0000000000002700
#00126:000000000000002S</code></pre></td>
     <td><img src="content/nazo-2p-bug.png" alt="in_nazobmplay" width="171" height="196"></td>
     <td><p>レンダリングを <code>#PLAYER</code> コマンドに依存する実装では、問題が生じます。</p>
      <p><code>#PLAYER&nbsp;1</code> なので、ゲームモードは “Single Play” が適用されます。</p>
      <p>しかしナイーブな実装は、2P 側のオブジェクトも表示してしまいます。</p>
      <p>このバグは、いくつかのユーモラスな譜面によって、故意に引き起こされます。</p>
      <p>このとき、プレイヤーが叩くオブジェクトの数え方は実装依存です。</p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>モダンな実装は <code>#PLAYER</code> をもはや信用しません。</p>
  <ul>
   <li>LR2, nanasi, ruvit, および pomu2 は <code>#PLAYER</code> を無視して、解析されたチャンネルから実際のプレイモードを推測します。</li>
   <li>この方法は素朴な誤りを犯さないぶん、<code>#PLAYER</code> に依存するよりはましといえます。</li>
   <li><p>しかしながら、この方法が常にうまくいくわけではありません。</p>
    <ul>
     <li><p>チャンネル <code>#xxx16</code> だけを使用している譜面は、以下のいずれでもありえます:</p>
      <p>5KEYS, 7KEYS, 10KEYS, 14KEYS, 9KEYS (もし拡張子が PMS なら), 18KEYS...</p>
      <p>どれがノーターが望むモードなのか、アプリケーションは判断することができません。</p></li>
     <li><p>チャンネル <code>#xxx21-29</code> が使われないが、<code>#xxx41-49</code> または <code>#xxx61-69</code> だけが使われる場合:</p>
      <p>可視オブジェはこの譜面の 2P 側に存在しませんが、ノーターはこの譜面が DP としてレンダリングされることを望んでいます。</p>
      <p>しかし、旧 ruvit はこの譜面を SP として解釈していました。 (b5p6 にて修正済み)</p></li>
    </ul></li>
   <li><p>さしあたり、BMS フォーマットはこれらの問題を理論上解決する方法を持ちません。</p>
    <ul>
     <li>したがって、LR2 と ruvit は、ハードコーディングによって、例外的な譜面を個別に処理しています。</li>
     <li>次世代フォーマットは、この問題を理論上解決するために、プレイモードを詳細に指定できる記法を採用するでしょう。</li>
     <li>それはフラグとして <code>#OCT/FP</code> コマンドのような識別子を使用するでしょう。</li>
    </ul></li>
  </ul></li>
 <li>近年、<code>#PLAYER</code> は単に後方互換性のために存在します。</li>
</ul>

</section>


<section id="RANK">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK">#RANK&nbsp;<var>[0-3]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>判定のレベルの定義。</li>
 <li><p>省略時は <del datetime="2013-05-07T12:00:00+09:00"><code>3</code> がデフォルト値として適用されます。</del></p>
  <table>
   <tbody>
    <tr><th scope="row">適用しない:</th><td>BMSC, HDX (<code>#RANK</code> 非対応),</td></tr>
    <tr><th scope="row"><code>0</code> を適用:</th><td>nBMplay, GDAC2,</td></tr>
    <tr><th scope="row"><code>2</code> を適用:</th><td>BM98, BM98de, MW, nazo, DDR, nanasi, LR2, ruvit, Angolmois, uBMplay, TechnicalGroove,</td></tr>
    <tr><th scope="row"><code>3</code> を適用:</th><td>BMSE, iBMSC,</td></tr>
   </tbody>
  </table></li>
 <li><p>値に対応するラベルは、仕様によって定義されています。</p>
  <table>
   <thead><tr><th scope="col">name &amp; value</th><th scope="col">label</th><th scope="col">range in LR2</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#RANK&nbsp;0</code></td>
     <td>VERY HARD</td><td>+- 8ms</td>
     <td class="vam"><div class="rank0"><p>&amp;-(</p></div></td>
    </tr>
    <tr>
     <td><code>#RANK&nbsp;1</code></td>
     <td>HARD</td>
     <td>+-15ms</td>
     <td class="vam"><div class="rank1"><p>:-(</p></div></td>
    </tr>
    <tr>
     <td><code>#RANK&nbsp;2</code></td>
     <td>NORMAL</td>
     <td>+-18ms</td>
     <td class="vam"><div class="rank2"><p>:-)</p></div></td>
    </tr>
    <tr>
     <td><code>#RANK&nbsp;3</code></td>
     <td>EASY</td>
     <td>+-21ms</td>
     <td class="vam"><div class="rank3"><p>:-D</p></div></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>判定幅は各実装に依存します。判定方式も実装に依存します。</p>
  <table>
   <thead><tr><th scope="col">judment system</th><th scope="col">support</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>ピクセル判定</td>
     <td>初期の実装</td>
     <td><p>判定幅は譜面のスクロール速度に依存します。</p>
      <p>BPM が上がるにつれ、判定は厳しくなります。 BPM が下がるにつれ、判定は緩くなります。</p></td>
    </tr>
    <tr>
     <td>時間判定</td>
     <td>DDR, uBMplay, pomu2, LR2, ...</td>
     <td>BPM が何であれ、判定幅は常に不変です。</td>
    </tr>
    <tr>
     <td>変動ピクセル判定</td>
     <td>nanasi, ruvit, fgt++, ...</td>
     <td>BPM が変更される場合は常に、適切な判定幅が再計算されます。</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>一部の実装は <code>#RANK</code> を無視します。</p>
  <ul>
   <li><p>D3beat は譜面の <code>#RANK</code> 指定を無視し、各ユーザが設定した判定難易度を強制的に適用します。</p>
    <p>これはおそらく、<code>#RANK</code> がタッチデバイスにそのまま適用されると都合が悪いためです。</p></li>
   <li><p>O2mania <del>は譜面の <code>#RANK</code> 指定を無視し、各ユーザが設定した判定難易度を強制的に適用します。</del></p>
    <p>判定レベルは 3 種類のみが存在するようです (Easy, Normal, Hard)。“Very Hard” は見当たりません。</p></li>
  </ul></li>
</ul>

<section id="RANK-4">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK-4">#RANK&nbsp;4</a></code></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, <del class="red">ruvit</del>, fgt++, iBMSC (3.0+), Angolmois, Soronous, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>ナナシグルーヴ仕様は、値 <code>4</code> に VERY EASY と呼ばれるラベルを与えました。</li>
 <li><code>#RANK&nbsp;4</code> は <code>#RANK&nbsp;3</code> よりもさらに緩い判定です。</li>
 <li><p><ins datetime="2012-01-04T00:00:00+09:00">ruvit は <code>#DEFEXRANK</code> と <code>#EXRANK</code>
  はサポートしていますが、<span class="red"><code>#RANK&nbsp;4</code> はサポートしていません。</span></ins></p>
  <ul>
   <li>選曲リストにおいて、<code>#RANK&nbsp;3</code> や <code>#DEFEXRANK</code> の場合と、<code>#RANK&nbsp;4</code> の場合を比べてみれば、それは明らかです。</li>
   <li>ruvit は、無効な値の <code>#RANK</code> を読み込んだとき、NORMAL 判定 (<code>#RANK&nbsp;2</code>) をデフォルト値として適用するようです。</li>
  </ul></li>
</ul>
</section>

<section id="RANK-RELATIVE">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANK-RELATIVE">相対的な&nbsp;<code>#RANK</code></a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>fgt</td></tr>
  <tr><th scope="row">support:</th><td>fgt, Angolmois, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>forgetalia のヘルプ・ファイルによれば、判定レベルの初期値は “<code>#RANK</code> の値プラス 2” です。 (?)</li>
 <li>さらに、<code>#RANK&nbsp;6</code> あるいは <code>#RANK&nbsp;-1</code> のような指定が可能であることが書かれています。 (??)</li>
 <li><p>しかしながら、私はこの仕様を理解することができませんでした。 forgetalia ヘルプファイルから引用:</p>
  <blockquote class="ind1" lang="ja" xml:lang="ja">
   <p><code>#EXRANK</code> <span class="DBCS">と</span> <code>#RANK</code>
    <span class="DBCS">の区別はしていません。
     ジャッジの値でどちらかを決めています。</span></p>
   <p><span class="DBCS">また、通常時の判定幅は</span> (<code>#RANK+2</code>)
    <span class="DBCS">となっています。 つまり、</span><code>#RANK&nbsp;6</code>
    <span class="DBCS">とも</span> <code>#RANK&nbsp;-1</code>
    <span class="DBCS">ともできるわけです…。</span></p>
  </blockquote>
  <p>この不可思議な日本語を英語に翻訳することは、私にとって困難でした。</p></li>
  <li><p>Angolmois 2.0 alpha 2 の相対的な <code>#RANK</code> は、forgetalia と異なる実装です。 <a class="external" rel="external" hreflang="en" title="angolmois/INTERNALS.md at master · lifthrasiir/angolmois · GitHub" href="https://github.com/lifthrasiir/angolmois/blob/master/INTERNALS.md#game-settings">INTERNALS.md</a> から引用:</p>
   <p><code>±{BAD:144, GOOD:84, GREAT:48, COOL:14.4} / (1.5 - <var>#RANK-value</var> * 0.25)</code> milliseconds</p>
   <p>しかし、<q lang="en" xml:lang="en">Angolmois <code>#RANK</code> system is certainly ill-designed however, so it may change without a notice.</q></p></li>
  <li><p>TechnicalGroove の <code>#RANK</code> は <code>#EXRANK</code> のエイリアスであり、単に後方互換性のために存在します。</p>
   <ul>
    <li><code>#EXRANK</code> の値として “<code>25 * <var>#RANK-value</var> + 50</code>” が適用されます。小数可、上限なし。</li>
    <li>JUST の範囲は <code>#DEFEXRANK&nbsp;100</code> で <code>±16ms</code> です
     (<code>1</code> 上がるごとに <code>0.16ms</code> 広がります)。</li>
   </ul></li>
</ul>
</section>

<!-- /#RANK -->
</section>



<section id="DEFEXRANK">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEFEXRANK">#DEFEXRANK&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, ruvit (2.0b3+), fgt++, iBMSC (3.0 / <code>#DEFEXRANK</code> でなく <code>#EXRANK</code>),
    Sonorous, TechnicalGroove,</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>判定の難易度を、<code>#RANK&nbsp;<var>[0-3]</var></code> よりも詳細に指定することができます。</li>
 <li>判定の初期値をパーセンテージで指定します。 値 <code>100</code> は <code>#RANK&nbsp;2</code> (ラベル: NORMAL) に相当します。<!-- 
  プレイ開始時刻に満たすべき「演奏の正確さ」を、NORMAL 判定に対するパーセンテージで指定します。 (※ 英訳も和訳もうんこだこれ) --></li>
 <li>小数も指定できます。</li>
 <li>複数の <code>#RANK</code> および <code>#DEFEXRANK</code> が見つかる場合、<abbr title="End Of File">EOF</abbr> に最も近い行が採用されます。</li>
 <li>省略時は <code>#RANK</code> が適用されます。</li>
 <li><code>#DEFEXRANK</code> と <code>#RANK</code> の両方が省略される場合、<code>#RANK&nbsp;<ins>2</ins><!-- del)3(/del --></code> が適用されます。</li>
 <li><p>nanasi では、値の範囲およびラベルが以下のように関連づけられます。また、対応するアイコンが選曲リストに表示されます:</p>
  <table id="DEFEXRANK-TABLE">
   <thead><tr>
    <td></td>
    <th scope="col">label</th>
    <th scope="col">標準</th>
    <th scope="col">nanasi の場合</th>
    <th scope="col">fgt++ の場合</th>
    <th scope="col"><span class="br">TechnicalGroove</span> の場合</th>
    <th scope="col">remarks</th>
   </tr></thead>
   <tbody>
    <tr>
     <td><img src="content/nanasi-judge-overhard.png" alt="" width="32" height="32"></td>
     <th scope="row">OVER HARD</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↑</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↑</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↑</var></code></td>
     <td>nanasi のみが持つラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-veryhard.png" alt="" width="32" height="32"></td>
     <th scope="row">VERY HARD</th>
     <td><code>#RANK&nbsp;0</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>48</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>60</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>50</mark></code></td>
     <td></td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-morehard.png" alt="" width="32" height="32"></td>
     <th scope="row">MORE HARD</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>nanasi のみが持つラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-hard.png" alt="" width="32" height="32"></td>
     <th scope="row">HARD</th>
     <td><code>#RANK&nbsp;1</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>64</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>80</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>75</mark></code></td>
     <td></td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-littlehard.png" alt="" width="32" height="32"></td>
     <th scope="row">LITTLE HARD</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>nanasi のみが持つラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-normal.png" alt="" width="32" height="32"></td>
     <th scope="row">NORMAL</th>
     <td><code>#RANK&nbsp;2</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>100</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>100</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>100</mark></code></td>
     <td><strong>基準値</strong> (= 100%)</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-littleeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">LITTLE EASY</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>nanasi のみが持つラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-easy.png" alt="" width="32" height="32"></td>
     <th scope="row">EASY</th>
     <td><code>#RANK&nbsp;3</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>120</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>120</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>125</mark></code></td>
     <td><del datetime="2014-06-10T20:00:00+09:00">判定が指定されなかった場合のデフォルト値</del></td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-moreeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">MORE EASY</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>nanasi のみが持つラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-veryeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">VERY EASY</th>
     <td><code>#RANK&nbsp;4</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>160</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>140</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>150</mark></code></td>
     <td>nanasi <del datetime="2013-01-16T22:00:00+09:00">と ruvit</del> と fgt++ だけがサポートするラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-overeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">OVER EASY</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↓</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↓</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↓</var></code></td>
     <td>nanasi のみが持つラベル</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-random.png" alt="" width="32" height="32"></td>
     <th scope="row">RANDOM</th>
     <td>-</td>
     <td><code>#EXRANK<var>xx</var>&nbsp;<var>n</var></code></td>
     <td><code>#EXRANK<var>xx</var>&nbsp;<var>n</var></code></td>
     <td><code>#EXRANK<var>xx</var>&nbsp;<var>n</var></code></td>
     <td>動的な判定変更が存在する場合</td>
    </tr>
   </tbody>
  </table></li>
 <li>fgt++ には HI-SPEED オプションが存在しないので、判定は緩めに定められているものと思われます。</li>
 <li>ruvit サポートページでは、私は詳細を見つけられませんでしたが、以下の記述を発見しました: <q>nanasi-groove とは少し差があります。</q></li>
 <li>たとえば、<code>#DefExRank&nbsp;199.97</code> を指定した場合、譜面は NORMAL 判定 (<code>#RANK&nbsp;2</code>) の 199.97% の判定幅でスタートします。</li>
 <li><p><ins>iBMSC 3.0 には <code class="red">#EXRANK</code> のテキストボックスがありますが、これは実際は <code>#DEFEXRANK</code> です。</ins></p>
  <p><ins>私たちがこれを使う場合、出力された BMS ファイルをテキストエディタで開き、<code class="red">#EXRANK</code>
  を <code>#DEFEXRANK</code> に書き換えなければなりません。</ins></p></li>
</ul>

<section id="DEFEXRANK-0">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEFEXRANK-0">#DEFEXRANK&nbsp;0</a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td><del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>スクラッチ以外の演奏レーンの判定を、“All or Nothing” にします。</li>
 <li>[Perfect GREAT, GREAT, GOOD, BAD, POOR] の 5 種類の判定ランクが存在するシステムなら、[Perfect GREAT, BAD, POOR] しか出現しなくなります。</li>
 <li>さらに、鍵盤レーンの Perfect GREAT 判定は、<strong class="red">1 フレーム分の幅</strong>しか持ちません。</li>
 <li>これは beatmaniaIIDX の <cite>GAMBOL</cite> (Another) と同じ判定モードです。</li>
 <li><code>#EXRANK<var>[01-ZZ]</var>&nbsp;0</code> も同上。</li>
</ul>

</section>

</section>


<section id="EXRANKXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXRANKXX">#EXRANK<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxxA0</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, ruvit (2.0b3+), fgt++, Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>判定幅の動的な変更。</li>
 <li>コマンドが省略される場合、あるいは定義が空の場合、判定には影響しません。</li>
 <li><table>
   <thead><tr><th scope="col">for example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
<pre class="lh120"><code>#RANK&nbsp;2
#EXRANKaa&nbsp;48
#EXRANKcc&nbsp;100
#114a0:aa0000cc</code></pre>
     </td>
     <td><p><code>#114</code> では、判定は nanasi 基準での “VERY HARD” と同じ幅に変化します。</p>
      <p><code>#114</code> の 4 拍目で、判定は “NORMAL” と同じ幅に変化します。</p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>nanasi では、<code>#EXRANK</code> が記述された譜面に対し、判定難易度のラベルとして “RANDOM” が与えられます。</p>
  <p>また、選曲リストに専用のアイコンが表示されます。</p></li>
</ul>
</section>



<section id="TOTAL" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TOTAL">#TOTAL&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>オブジェクトすべてが最良の判定で演奏された場合、ゲージ総量は <code><var>n</var></code>% まで増加します。</li>
 <li>ゲージの増加率は、この値から計算されます。</li>
 <li>ほとんどの実装は小数の値をサポートしているはずですが、私は詳細を確認していません。</li>
 <li><p>このコマンドは英語版 BMS 仕様書には書かれていませんが、BM98 のヘルプファイルには書かれています。</p>
  <ul>
   <li>これは暗黙の要求仕様でしょうか？ そうではないのでしょうか？</li>
   <li>私はそれを判断できませんが、日本の BMS プレイアブルソフトウェアは、<ins datetime="2014-06-25T07:30:00+09:00">ほぼ</ins>すべて
    <code>#TOTAL</code> を実装しています。<ins datetime="2014-06-25T07:30:00+09:00">(HDX を除く)</ins></li>
  </ul></li>
 <li><p>たとえば <code>#TOTAL&nbsp;200</code> が指定された場合、ゲージは最大で 200% まで増加します。</p>
  <p><img src="content/bmse_header_total4.png" alt="image of gauge rate by #TOTAL" width="455" height="67"></p>
  <ul>
   <li>もしゲージ初期値が 20% なら、ゲージは 220% まで増加するでしょう。</li>
   <li>演奏オブジェクト総数が 400 なら、最良判定 1 個につきゲージは 0.5% 増加するでしょう。(200 / 400 は 0.5)</li>
  </ul></li>
 <li>あくまでこれはゲージの上昇率なので、もちろん実際のゲージは 100% を超過しません。</li>
 <li><p><code>#TOTAL</code> を省略した場合、それがどのように作用しなければならないのか、仕様は規定していません。</p>
  <ul>
   <li>BM98 では、可視オブジェクト数に 200 を足した値が、デフォルト値として適用されます。</li>
   <li><p>この振る舞いが 「BMS フォーマットの仕様」 なのか 「BM98 の独自解釈」 なのか、定かではありません。</p>
    <p>大部分の実装は BM98 の解釈に基づきますが、すべての実装がそうであるわけではありません。 例えば:</p>
    <table>
     <thead><tr><th scope="col">body</th><th scope="col">default</th></tr></thead>
     <tbody>
      <tr><th scope="row">bm98</th><td><code>200+<var>NOTES</var></code></td></tr>
      <tr><th scope="row">bemaniaDX</th><td><code>200</code></td></tr>
      <tr><th scope="row">LR2</th><td><code>160</code>? (註: NORMAL Gauge)</td></tr>
      <tr><th scope="row">ruvit</th><td><code>160</code>? (註: NORMAL Gauge)</td></tr>
      <tr><th scope="row">nanasi</th><td><code>350</code></td></tr>
      <tr><th scope="row">fgt++</th><td><code>100+<var>NOTES</var>/8</code> (min: <code>#TOTAL&nbsp;125</code>)</td></tr>
      <tr><th scope="row">nazo</th><td><code>100+<var>NOTES</var></code>? (min: <code>#TOTAL&nbsp;130</code>?)</td></tr>
      <tr><th scope="row">TechnicalGroove</th><td><code><strong class="red">0</strong></code></td></tr>
     </tbody>
    </table></li>
   <li>当てはまるデフォルト値はソフトウェアによって異なるため、<strong class="red"><code>#TOTAL</code> の省略は推奨されません。</strong></li>
  </ul></li>
 <li><p>適切な算出式についての議論もあります。</p>
  <ul>
   <li><cite>beatmaniaIIDX</cite> のゲージ増加率は 「<code>7.605*<var>NOTES</var>/(0.01*<var>NOTES</var>+6.5)</code>」 であるといわれています。</li>
   <li>(ただし IIDX は、<code>#TOTAL</code> が <code>260</code> 未満になる場合、<code>260</code> が適用されるようです。 )</li>
   <li>しかしながら、別の意見もありますし、DJMAX や O2Jam はまた別の議論になるでしょう。</li>
  </ul></li>
 <li><p>一部の実装において、<code>#TOTAL</code> の値として負数が指定される時、ノートが正確に打たれれば、グルーヴゲージは減少するでしょう。</p>
  <ul>
   <li>nazo, nazoZZ, PMSee-V, ... (これら以外にも同種の実装は存在するかもしれませんが、私はそれについて調査していません。)</li>
  </ul></li>
 <li><p>このセクションでは 「beatmania / beatmaniaIIDX でいう NORMAL ゲージ」 について記述してきました。 しかし、</p>
  <table id="IIDXGAUGE">
   <thead><tr><th scope="col">name</th><th scope="col">the first appearance</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <th scope="row">NORMAL gauge</th>
     <td><time itemprop="update" datetime="1997-12-10">1997-12-10</time>: beatmania</td>
     <td>1 ステージ (楽曲) 終了時、このゲージが一定量に達していれば、ステージクリア。</td>
    </tr>
    <tr>
     <th scope="row">EXPERT gauge</th>
     <td><time itemprop="update" datetime="1998-09-28">1998-09-28</time>: beatmania 3rdMIX</td>
     <td>ゲージ 100% から開始し、ステージ終了時に目盛が残っていればステージクリア。 いわゆる <a href="https://en.wikipedia.org/wiki/Health_%28gaming%29" title="Health (gaming) - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">ライフバー</a>。 (EXPERT モードは初代から存在したが、EXPERT ゲージ導入は 3rdMIX から)</td>
    </tr>
    <tr>
     <th scope="row">HARD gauge</th>
     <td><time itemprop="update" datetime="2001-09-28">2001-09-28</time>: beatmaniaIIDX 6th style</td>
     <td>プレイヤーが任意に適用するオプションのひとつ。 減少率が大きいライフバー。 EXPERT モードでは、通常よりゲージが減りやすく増えづらい。</td>
    </tr>
    <tr>
     <th scope="row">EX-HARD gauge</th>
     <td><time itemprop="update" datetime="2011-09-15">2011-09-15</time>: beatmaniallDX 19 Lincle</td>
     <td>同上、しかしもっと減る。 生き残るプレイヤーには勲章が与えられる。</td>
    </tr>
    <tr>
     <th scope="row">HAZARD gauge</th>
     <td><time itemprop="update" datetime="2008-11-19">2008-12-19</time>: beatmaniaIIDX 16 EMPRESS</td>
     <td>コンボが切れたら即 STAGE FAILED。</td>
    </tr>
    <tr>
     <th scope="row">Grade gauge</th>
     <td><time itemprop="update" datetime="2002-03-27">2002-03-27</time>: beatmaniaIIDX 7th style</td>
     <td>段位認定用に特別に調整されたライフバー。</td>
    </tr>
    <tr>
     <th scope="row">EX-Grade gauge</th>
     <td><time itemprop="update" datetime="2011-09-15">2011-09-15</time>: beatmaniallDX 19 Lincle</td>
     <td>同上、 しかしもっと減る。 このオプションは特定のコマンドの入力により適用される。</td>
    </tr>
   </tbody>
  </table>
  <p>これらはそれぞれ異なる文脈です。</p></li>
 <li><code>#TOTAL</code> は <time itemprop="update" datetime="1998-08-10">1998-08-10</time> に実装されたコマンドです。
  ライフバー型のゲージはまだこの時期に存在しません。</li>
</ul>
</section>



<section id="VOLWAV">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VOLWAV">#VOLWAV&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th>
   <td>BM98k, DDR, WAview, bemaniaDX, Mac, Aqua, KbMedia, PMSee-V, BMSC, BMSE, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>譜面が使用する音はすべて、オリジナルの <code>n</code>% の音量で鳴らされます。</li>
 <li>オリジナルの音量は <code>#VOLWAV&nbsp;100</code> と等価です。</li>
 <li>省略時は <code>100</code> がデフォルト値として適用されます。</li>
 <li><code>#VOLWAV</code> は各実装やハードウェアに非常に依存するので、私たちはこれを信頼するべきではありません。</li>
 <li>いまのところ、このコマンドは非推奨とされています。</li>
 <li><dl>
   <dt><code>#VOLWAV&nbsp;200</code></dt>
   <dd>譜面が使用する音は、オリジナルの 200% の音量で鳴らされます。</dd>
  </dl></li>
</ul>

<section id="CHANGING-BGM-VOLUME">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGING-BGM-VOLUME">BGM&nbsp;volume&nbsp;変更</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx97</code></td></tr>
  <tr><th scope="row">range:</th><td><code><var>[01-FF]</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>fgt</td></tr>
  <tr><th scope="row">support:</th><td>fgt (fgt++/fgt# 削除済み。<span class="red">Obsolete?</span> )</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>BGM の音量を、255 のレベルで動的に変更します。</li>
 <li><p>[1-255] の整数値を 16 進数で指定することができます。<code>00</code> は<a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">休符</a>です。</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#00197:003C
#00497:FF</code></pre></td>
     <td><p>BGM の音量は <code>#001</code> の半ばで 60 に変更されます。 (3C = 60)</p>
      <p>BGM の音量は <code>#004</code> の先頭で原音に戻ります。 (FF = 255)</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>

<section id="CHANGING-KEY-VOLUME">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGING-KEY-VOLUME">KEY&nbsp;volume&nbsp;変更</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx98</code></td></tr>
  <tr><th scope="row">range:</th><td><code><var>[01-FF]</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>fgt</td></tr>
  <tr><th scope="row">support:</th><td>fgt (fgt++/fgt# 削除済み。<span class="red">Obsolete?</span> )</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>プレイヤーが演奏する KEY SOUND の音量を、255 段階で動的に変更します。</li>
 <li><p>[1-255] の整数値を 16 進数で指定することができます。<code>00</code> は<a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">休符</a>です。</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#00198:003C
#00498:FF</code></pre></td>
     <td><p>KEY の音量は <code>#001</code> の半ばで 60 に変更されます。 (3C = 60)</p>
      <p>KEY の音量は <code>#004</code> の先頭で原音に戻ります。 (FF = 255)</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>

<!-- /#VOLWAV -->
</section>



<section id="STAGEFILE" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#STAGEFILE">#STAGEFILE&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98k</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>ロード中に表示される、640x480 の画像ファイルを定義します。 要はスプラッシュスクリーンです。</li>
 <li>省略できます。</li>
 <li><p>省略時は、各実装が備えるデフォルトのロード画面が表示されることが期待されます。</p>
  <table>
   <caption>in nazobmplay:</caption>
   <tbody>
    <tr>
     <th scope="row"><code>#STAGEFILE</code> 指定時:</th>
     <td><a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_stagefile1.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_stagefile1.gif</span></a></td>
    </tr>
    <tr>
     <th scope="row"><code>#STAGEFILE</code> 未指定:</th>
     <td><a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_stagefile2.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_stagefile2.gif</span></a></td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="BANNER">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BANNER">#BANNER&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, pomu2, LR2, fgt++, iBMSC (3.0+), PMSee-V (2.0.0+),
   Sonorous, TechnicalGroove(parsing-only),</td></tr>
 </tbody>
</table>

<div id="BANNERSAMP"><p>300x80</p></div>

<ul class="noMarginTop">
 <li>選曲画面やリザルト画面などに表示する、300x80 の画像ファイルを指定します。</li>
 <li>「BMS ファイルが存在するディレクトリ」からの相対パス (下位パスのみ) も指定できます。</li>
 <li><del>MATERIALS (&lt;path&gt;filename) も指定可能。</del> <ins>nanasi は MATERIALS のサポートを打ち切りました。</ins></li>
 <li>パス全長は 260 byte までとします。</li>
 <li><p><del>コマンド省略時、nanasi は
  「BMS の同位または下位のディレクトリ」から「banner.bmp」を検索し、もし存在すればこれを適用します。</del><!--
    (※ そんなことはなかったぜ！ 既に削除されたっぽい？) --></p>
  <p><ins datetime="2012-01-13T00:00:00+09:00">(そんなことはありませんでした。 それは既に削除されたように見えます。)</ins></p></li>
</ul>
</section>



<section id="BACKBMP" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BACKBMP">#BACKBMP&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR, nanasi, LR2 (条件つきで), pomu2 (条件つきで), iBMSC (3.0+),
   Sonorous(parsing-only), TechnicalGroove(parsing-only),</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>本来の仕様では、プレイ画面の背景として表示する 640x480 の画像を指定します。</p>
  <ul>
   <li>DDR および nanasi は、本来の仕様に準拠しています。</li>
  </ul></li>
 <li><p>もし本体側のスキンの中で定義が与えられたなら、LR2 および pomu2 はこのコマンドを使用できます。</p>
  <ul>
   <li>LR2 用スキン “OVER ACTiVE DX+” では、多くの場合、タイトル画像として使用されます。</li>
   <li>e.g. <a title="[LR2] OVER ACTiVE DX+ 2.50 DEMO / the fifth act / Hate+ - YouTube" class="external" rel="external" href="https://www.youtube.com/watch?v=5Q8pAA9O8Aw"><span itemprop="url">https://www.youtube.com/watch?v=5Q8pAA9O8Aw</span></a></li>
   <li><code>#STAGEFILE</code> に加えて、プレイ前に画面中央に表示される曲情報が、<code>#BACKBMP</code> です。</li>
   <li>このコマンドによって、曲情報は、任意のフォントおよび任意のレイアウトで譜面を装飾することを可能にします。</li>
   <li>しかし、これは仕様にない振る舞いであり、画像ファイルのサイズは各スキンに依存します。</li>
   <li><ins datetime="2014-06-06T04:30:00+09:00"><a class="external" rel="external" hreflang="ja" title=".REDのskin置き場 BACKBMPについて" data-old-href="http://www.geocities.jp/red_without_right_stick/backbmp/index.html" href="http://right-stick.sub.jp/backbmp/index.html">“OVER ACTiVE DX+” の <code>#BACKBMP</code> 仕様</a></ins></li>
  </ul></li>
</ul>
</section>



<section id="CHARFILE" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHARFILE">#CHARFILE&nbsp;<var>characterfilename.chp</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, PMChr-V, Sonorous(parsing-only), TechnicalGroove(parsing-only),</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><cite>pop'n music</cite> を真似たキャラクターファイル。</li>
 <li>すみません、私はこの仕様について詳しくありません。</li>
 <li>いまのところ、<code>#CHARFILE</code> は pomu2 の独自拡張です。
  しかし、LunaticRave の次世代版は、<code>#CHARFILE</code> をサポートするかもしれません。</li>
</ul>

<table>
 <tbody>
  <tr>
   <th scope="row">For example:</th>
   <td>
    <a title="Feeling PoMu - YouTube" class="external" rel="external" href="https://www.youtube.com/watch?v=14skmXXCjOQ"><span itemprop="url">https://www.youtube.com/watch?v=14skmXXCjOQ</span></a>
   </td>
  </tr>
  <tr>
   <th scope="row">sample download:</th>
   <td>
    <a title="Colorful Channel official website ++ download" class="external" rel="external" hreflang="ja" href="https://pmcc.nekokan.dyndns.info/pmcc2/download.html"><span itemprop="url">https://pmcc.nekokan.dyndns.info/pmcc2/download.html</span></a>
   </td>
  </tr>
  <tr>
   <th scope="row">official guidance:</th>
   <td>
    <a title="続！てきとうなキャラ作成講座" class="external" rel="external nofollow" hreflang="ja" href="https://web.archive.org/web/*/http://m-nekomi.cool.ne.jp/newpage/mu2/Make2.htm"><span itemprop="url">https://web.archive.org/web/*/http://m-nekomi.cool.ne.jp/newpage/mu2/Make2.htm</span></a>
   </td>
  </tr>
  <tr>
   <th scope="row">unofficial guidance:</th>
   <td>
    <a title="シュークリーム分が" class="external" rel="external" hreflang="ja" href="https://web.archive.org/web/20140103231405/http://storyof.namidaame.com/yy_pce.htm"><span itemprop="url">https://web.archive.org/web/20140103231405/http://storyof.namidaame.com/yy_pce.htm</span></a><!--
    (a title="&#x30B7;&#x30E5;&#x30FC;&#x30AF;&#x30EA;&#x30FC;&#x30E0;&#x5206;&#x304C;" class="external" rel="external" hreflang="ja"
     href="http://storyof.namidaame.com/yy_pce.htm")(span itemprop="url")http://storyof.namidaame.com/yy_pce.htm (/span)(/a) -->
   </td>
  </tr>
  <tr>
   <th scope="row">charfile viewer:</th>
   <td>PMChr-V.zip:
    <a title="ポニラボ" class="external" rel="external" hreflang="ja" href="https://sakukoba.ninja-x.jp/ponila/"><span itemprop="url">https://sakukoba.ninja-x.jp/ponila/</span></a><!-- 
    (a title="&#x307D;&#x307F;&#x3085;&#x30C4;&#x30FC;&#x30EB;" class="external" rel="external" hreflang="ja"
     href="http://sakukoba.ninja-x.jp/pomu_pms/tool.html")(span itemprop="url")http://sakukoba.ninja-x.jp/pomu_pms/tool.html (/span)(/a) --></td>
  </tr>
 </tbody>
</table>
</section>



<section id="PLAYLEVEL">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYLEVEL">#PLAYLEVEL&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>選曲リストに表示されるべき難易度の定義。</li>
 <li><p>難易度がどのように表示されるかは実装依存です。以下は例です。</p>
  <ul>
   <li><cite>beatmania</cite> ベースのいくつかの実装では、難易度はいくつかの星マークで表現されます。
    (<span class="DBCS">★★★★☆☆☆</span>)</li>
   <li>最近の <cite>beatmaniaIIDX</cite> に基づいたいくつかの実装では、難易度は 12 段階の棒グラフとして表現されます。</li>
   <li><p><cite>DrumMania</cite> に基づいたいくつかの実装では、難易度は 99 段階の整数で表現されます。</p>
    <p>(註: 現在は <code>xx.yy</code> 型の 1000 段階)</p></li>
  </ul></li>
 <li>通常は整数を指定します。</li>
 <li><p>BM98 では、省略時は <code>3</code> がデフォルト値として適用されます。</p>
  <p>これは仕様で指定された振る舞いではありませんが、実装の大部分はこれを踏襲しました。</p></li>
 <li>各レベルが示すべき難易度の基準は、仕様で示されません。それは文脈に依存するようです。</li>
</ul>

<section id="PLAYLEVEL-0">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYLEVEL-0">#PLAYLEVEL&nbsp;0</a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>そこそこ</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>いくつかのアプリケーションで、値 <code>0</code> は特別な難易度として表示されます。</li>
 <li>たとえば BM98 は、星マークのかわりにクエスチョンマークを表示します。</li>
 <li><code>#RANDOM</code> や <code>#SWITCH</code> が仕組まれた BMS で、難易度が急激に変化するため、
  値 <code>0</code> が指定された、という例も存在します。</li>
 <li>値 <code>0</code> は、ある種のシンボルとして指定されるかもしれません。</li>
</ul>
</section>

<section id="PLAYLEVEL-STRING">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PLAYLEVEL-STRING">#PLAYLEVEL&nbsp;<var>string</var></a></code></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, iBMSC (3.0+), TechnicalGroove, (調査中)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#PLAYLEVEL</code> の値に文字列を指定できます。
  e.g. <code>#PLAYLEVEL&nbsp;<mark class="DBCS" lang="ja" xml:lang="ja">安心</mark></code></li>
 <li><code>#PLAYLEVEL&nbsp;<mark>12.4</mark></code> のように、難易度の分類を詳述することもできます。</li>
</ul>
</section>

<!-- /#PLAYLEVEL -->
</section>



<section id="DIFFICULTY" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY">#DIFFICULTY&nbsp;<var>[1-5]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, LR2, iBMSC (3.0+), Sonorous, TechnicalGroove,</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>私たちはこのメタ情報を使用して、譜面をソートしフィルタリングすることができます。</li>
 <li>このコマンドをサポートする実装では、「譜面の難易度種別による、選曲リストのフィルタリング」が可能になることが期待されます。</li>
 <li>省略可。</li>
 <li>このコマンドが省略される場合、譜面の難易度種別によるフィルタリングは望めない場合があります。</li>
 <li>フィルタリングが機能しなくても、プレイレベル順あるいは ABC 順による単純なソートは可能かもしれません。</li>
 <li><p>For example:</p>
  <table>
   <thead><tr><th scope="col">filename</th><th scope="col">add description</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>himiko_1p_beginner.bms</td>
     <td><code>#DIFFICULTY&nbsp;1</code></td>
     <td>低難度の譜面 (EASY/BEGINNER/LIGHT/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_normal.bms</td>
     <td><code>#DIFFICULTY&nbsp;2</code></td>
     <td>標準難易度の譜面 (NORMAL/STANDARD/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_hyper.bms</td>
     <td><code>#DIFFICULTY&nbsp;3</code></td>
     <td>高難度の譜面 (HARD/HYPER/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_another.bms</td>
     <td><code>#DIFFICULTY&nbsp;4</code></td>
     <td>さらに高難度の譜面 (EX/ANOTHER/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_blackanother.bms</td>
     <td><code>#DIFFICULTY&nbsp;5</code></td>
     <td>いわゆる
      <span class="DBCS" lang="ja" xml:lang="ja">糞譜面</span>や、
      <span class="DBCS" lang="ja" xml:lang="ja">発狂</span>など</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>Another example:</p>
  <table>
   <thead><tr><th scope="col">filename</th><th scope="col">add description</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td>astro_EZ.bms</td><td><code>#DIFFICULTY&nbsp;1</code></td><td>EASY</td></tr>
    <tr><td>astro_NM.bms</td><td><code>#DIFFICULTY&nbsp;2</code></td><td>NORMAL</td></tr>
    <tr><td>astro_HD.bms</td><td><code>#DIFFICULTY&nbsp;3</code></td><td>HARD</td></tr>
    <tr><td>astro_MX.bms</td><td><code>#DIFFICULTY&nbsp;4</code></td><td>MAXIMUM</td></tr>
    <tr><td>astro_SC.bms</td><td><code>#DIFFICULTY&nbsp;5</code></td><td>SUPER-CRAZY</td></tr>
   </tbody>
  </table></li>
 <li><p>日本では、<strong class="red">kusofumen</strong> は特別のジャンルを形成しています。</p>
  <ul>
   <li><p>演奏ノートの密度を上げる方向性。 <strong>INSANE</strong> (<span class="DBCS" lang="ja" xml:lang="ja">発狂</span>) と呼ばれます。</p>
    <p><a href="https://nekokan.dyndns.info/~lobsak/genocide/" title="bms難易度表" class="external" rel="external" hreflang="ja">bms<span class="DBCS" lang="ja" xml:lang="ja">難易度表</span></a>
     (BMS difficulties review) はこの種の典型例であり、とてもポピュラーです。</p>
    <p>これは、多くのユーザの活発な議論によって分類された、譜面たちの巨大なデータベースです。</p>
    <p>様々な譜面が提案され、議論され、分類されます。</p>
    <p>噂では、この表に載った譜面の <abbr title="Internet Ranking">IR</abbr> プレイ回数は、通常の 100 倍になるといわれています。</p></li>
   <li>難易度表を由来とするサイトも多くあります。
    <a href="http://ukita2.web.fc2.com/record.html" title="LN難易度表" class="external" rel="external" hreflang="ja">LN 難易度表</a>、
    ターンテーブル難易度表、
    <a href="http://dpbms.at-ninja.jp/" title="あ！" class="external" rel="external" hreflang="ja">DP 難易度表</a>、
    <a href="http://achusi.main.jp/overjoy/" title="One more lovely" class="external" rel="external" hreflang="ja">Overjoy</a> など。</li>
   <li>ストップシーケンス、BPM 変更、ポップン風味の強制オプション、などのトリックを好むプレイヤーもいます。</li>
   <li><p>BMS フォーマットの仕様の穴を突くタイプもあります。</p>
    <p>ある種類のユーモアや冗談といった方向性も含まれます。
     <a class="external" rel="external nofollow" hreflang="ja" href="https://web.archive.org/web/*/http://soflan.hp.infoseek.co.jp/">kusofumen lovers</a> はその典型例のひとつです。</p></li>
  </ul></li>
 <li><p><code>#DIFFICULTY</code> は、主にパッケージなどに収録された BMS の形式を統一するために、頻繁に使用されます:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">BMS Starter Pack 2009</th>
     <td><a title="BMS Starter Pack 2009" class="external" rel="external" hreflang="ja" href="http://www.yamajet.com/bmssp/"><span itemprop="url">http://www.yamajet.com/bmssp/</span></a><!--
      (a title="BMS Starter Pack 2009" class="external" rel="external" hreflang="ja" href="http://starterpack.bms.ms/guide.html"
      )(span itemprop="url")http://starterpack.bms.ms/guide.html (/span)(/a)
      (span itemprop="url" class="external u")http://starterpack.bms.ms/guide.html (/span)
      (ダウンロード不可なう) https://www50.atwiki.jp/bmswiki/pages/18.html ??? --></td>
    </tr>
    <tr>
     <th scope="row">Toy Musical シリーズ</th>
     <td><a title="Toy Musical Series Gateway" class="external" rel="external" hreflang="ja" href="http://toymusical.net/"><span itemprop="url">http://toymusical.net/</span></a></td>
    </tr>
    <tr>
     <th scope="row">Colorful Canvas &amp; Colorful Channel</th>
     <td><a title="Colorful Channel official website ++ download" class="external" rel="external" hreflang="ja" href="https://pmcc.nekokan.dyndns.info/pmcc2/download.html"><span itemprop="url">https://pmcc.nekokan.dyndns.info/pmcc2/download.html</span></a></td>
    </tr>
   </tbody>
  </table></li>
 <li><ins datetime="2014-06-25T07:30:00+09:00"><a href="https://hitkey.nekokan.dyndns.info/diary1405.php#D140529">私の調査</a>によれば、
  BMS イベント 『<a href="http://scytheleg.sakura.ne.jp/tempyou/event/sen-goku3/" class="external" rel="external" hreflang="ja">戦[sen-goku]國 〜甲午の乱〜</a>』
  において、登録作品の過半数がこのコマンドを使用しました。</ins></li>
</ul>

<section id="DIFFICULTY-GROUPING-BY-FILENAME">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY-GROUPING-BY-FILENAME">ファイル名によるグループ化</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu2</td></tr>
  <tr><th scope="row">support:</th><td>pomu2</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>定められた規則に従ってファイル名を指定することによって、実行ファイルは、難易度のグループを認識します。</p>
  <table>
   <caption>[ハイフンマイナスと既定の<ins datetime="2014-06-25T07:30:00+09:00">小文字</ins>キーワードによる、基底名に対する接尾辞]</caption>
   <thead><tr><th scope="col">filename</th><th scope="col">以下の難易度と一致:</th><th scope="col">group</th></tr></thead>
   <tbody>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-n</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;2</code></td><td><b>N</b>ORMAL</td></tr>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-h</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;3</code></td><td><b>H</b>YPER</td></tr>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-ex</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;4</code></td><td><b>EX</b>TRA</td></tr>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-p</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;5</code></td><td><b>P</b>LUS</td></tr>
   </tbody>
  </table></li>
 <li><p>私の記憶が確かなら、これに似た機能を持つアプリケーションは pomu2 以外にも存在します。
   <del datetime="2014-02-04T07:00:00+09:00">しかし、私は今それを思い出すことができません。</del></p>
  <p><ins datetime="2014-02-04T07:00:00+09:00">それはもしかすると、Lunatic Rave の <code>*.lr</code> ファイルかもしれません。
   私はそれについて詳しく知りませんが、<a href="https://web.archive.org/web/20140819141616/http://forums.outphase.com/showthread.php?t=514&amp;page=12" data-old-href="http://forums.outphase.com/showthread.php?t=514&amp;page=12" class="external" rel="external" hreflang="en" title="a new bms player &quot;LunaticRave&quot; - Page 12 - outphase.com">詳細を転載しているページ</a>は発見できました。</ins></p>
 </li>
</ul>
<!-- /#DIFFICULTY-GROUPING-BY-FILENAME -->
</section>

<section id="DIFFICULTY-GROUPING-BY-SUBTITLE">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIFFICULTY-GROUPING-BY-SUBTITLE">副題によるグループ化</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td><del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove</del></td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>以下の条件がすべて満たされる場合、仮想的な <code>#DIFFICULTY</code> 値が自動的にセットされます。</p>
  <ul>
   <li>有効な <code>#DIFFICULTY</code> コマンドが存在しない。</li>
   <li><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBTITLE">#SUBTITLE</a></code> もしくは <a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE-IMPLICIT-SUBTITLE">暗黙の副題</a> が存在する。</li>
   <li>副題が、以下のいずれかのキーワードを含む (大文字小文字は問わない)。</li>
  </ul>
  <table>
   <thead><tr><th scope="col">Grouping</th><th scope="col">Keywords</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#DIFFICULTY&nbsp;1</code></td>
     <td>“Easy”, “Beginner”, “Light”, “Simple”, “5Button”,
      “[B]”, “(B)”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;2</code></td>
     <td>“Normal”, “Standard”, “[N]”, “(N)”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;3</code></td>
     <td>“Hyper”, “Hard”, “Extend”, “[H]”, “(H)”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;4</code></td>
     <td>“Maniac”, “Extra”, “EX”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;5</code></td>
     <td>“Insane”, “Another”, “Plus”, “[A]”, “(A)”</td>
    </tr>
   </tbody>
  </table></li>
 <li>TechnicalGroove は <code>#DIFFICULTY&nbsp;6</code> またはそれ以上の正の整数値もサポートしています (ただし非推奨)。</li>
 <li>TechnicalGroove は <code>#DIFFICULTY&nbsp;0</code> もサポートしていますが、<code>0</code> が何を意味するのかは明らかにされていません。</li>
</ul>
<!-- /#DIFFICULTY-GROUPING-BY-SUBTITLE -->
</section>

<!-- /#DIFFICULTY -->
</section>



<section id="TITLE" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE">#TITLE&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>曲のタイトルの定義。</li>
 <li><p>このコマンドが省略される場合、実装がどのように振る舞うべきか、仕様は規定していません。</p>
  <ul>
   <li>例えば、このコマンドが省略された BMS が実行ファイルにドロップされれば、nanasi は強制終了を行うでしょう。</li>
  </ul></li>
 <li><p>仕様は、文字列長の上限を定めていません。</p>
  <ul>
   <li>長すぎるタイトルの例:
    <a class="external" rel="external" hreflang="ja" href="http://dee.manbow.org/event/event.cgi?action=More_def&amp;num=127&amp;event=60" title="【詳細情報】 No.127 zhyming-zhyming - [left field/breakbeats] SUPER ULTRA HYPER SPECIAL GOLDEN GORGEOUS MARVELOUS STRONG ECCENTRIC / Coco"><span itemprop="url">http://dee.manbow.org/event/event.cgi?action=More_def&amp;num=127&amp;event=60</span></a></li>
   <li><p>BMSEでは、少なくとも 10000 文字以上入力することができます。しかし、他のアプリケーションは必ずしもこれを表示することができません。</p>
    <p><a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/textlength43679.txt" type="text/plain" hreflang="ja"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/textlength43679.txt</span></a></p></li>
   <li>DDR は、500 バイトを超過すれば強制終了を行うでしょう。(ドキュメントに示されています。)</li>
  </ul></li>
 <li><p>いくつかの実装は、テキストをトリムします。 (nanasi, LR2, etc..)</p>
  <ul>
   <li>たとえば “<code>#TITLE&nbsp;&nbsp;&nbsp;&nbsp;ABC&nbsp;&nbsp;&nbsp;</code>” は “ABC” として表示されるでしょう。</li>
   <li>BMSE はテキストをトリムしません。 ノーターが意図しない変更を行なわないエディタは望ましいものです。</li>
  </ul></li>
 <li><p>テキストが多バイト文字を含んでいる場合、文字符号化の問題が生じるかもしれません。</p>
  <ul>
   <li>ruvit, iBMSC, <ins datetime="2013-07-30T22:00:00+09:00">IIDXv, HDX, Sonorous, BGAEncAdv, TechnicalGroove</ins>
    は、<abbr title="American Standard Code for Information Interchange">ASCII</abbr> 以外のいくつかの文字セットをサポートしています。</li>
   <li>さらに LR2 の次世代バージョンは、デフォルトの文字セットとして
    <abbr title="American Standard Code for Information Interchange">ASCII</abbr> ではなく
    <abbr title="Byte Order Mark">BOM</abbr> つき <abbr title="UCS/Unicode Transformation Format">UTF</abbr>-16<abbr title="Little-Endian">LE</abbr>
    を採用しました。</li>
   <li>そのようなアプリケーションは、たとえば
    <code>#TITLE&nbsp;LOVE<span class="DBCS loveshine">♡</span>SHINE</code> のような値を指定できます。</li>
   <li>私は他のアプリケーションの多言語サポート状況に関して知識が豊富ではありません。</li>
   <li><p><abbr title="HyperText Markup Language">HTML</abbr>5 仕様草案では、UTF-7 および UTF-32 の文字セットのサポートは削除されました。
    (<a class="external" rel="external" title="HTML 5" hreflang="en" href="https://www.w3.org/TR/2008/WD-html5-20080122/"><span itemprop="url">https://www.w3.org/TR/2008/WD-html5-20080122/</span></a>)</p>
    <blockquote class="ind1" lang="en" xml:lang="en">
     <p>Authors should not use JIS_X0212-1990, x-JIS0208, and encodings based on EBCDIC.</p>
     <p>Authors should not use UTF-32. Authors must not use the CESU-8, UTF-7, BOCU-1 and SCSU encodings. [CESU8] [UTF7] [BOCU1] [SCSU]</p></blockquote>
    <p>BMS ファイルが Web アプリケーション中で使用される場合を想定したとき、UTF-7 および UTF-32 は障害になるかもしれません。</p></li>
  </ul></li>
</ul>

<section id="TITLE-IMPLICIT-SUBSTRING">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE-IMPLICIT-SUBSTRING">暗黙の部分文字列&nbsp;(<code>#TITLE</code>)</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p><code>#TITLE</code> の値、あるいは <code>#GENRE</code> の値に特有の文字列が見つかる場合、</p>
  <p>それぞれに対応するラベルが、選曲リストおよびプレイ画面に表示されます。</p></li>
 <li>プレイ画面へのラベル表示は、Arrow-mode でのみ行われます。</li>
 <li><p>値は大文字小文字を問いません。</p>
  <table>
   <thead><tr><th scope="col">探される文字列:</th><th scope="col">label:</th></tr></thead>
   <tbody>
    <tr><td>Basic, Light</td><td>Basic</td></tr>
    <tr><td>Another, Trick, Standard</td><td>Another</td></tr>
    <tr><td>Maniac, SSR, Heavy</td><td>SSR</td></tr>
   </tbody>
  </table></li>
 <li><span class="red">曲名がこれらの単語を含む場合、この機能がうまくいかないことは明らかです。</span></li>
 <li><ins datetime="2013-05-07T12:00:00+09:00">キーワード重複時は、ラベル “Basic” が適用されます。</ins></li>
</ul>
</section>

<section id="TITLE-IMPLICIT-SUBTITLE">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TITLE-IMPLICIT-SUBTITLE">暗黙の副題:</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, nazo, nazoZZ, LR2, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#TITLE</code> の値として指定されたテキストが、デリミタ文字を含んでいる場合、その部分は副題として解釈されます。</li>
 <li><p>選曲リスト、ロード画面などの中で、副題はメインタイトルと異なる形式で表示されるであろうことが期待されます。</p>
  <table>
   <thead><tr><th scope="col">example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#TITLE&nbsp;main<mark>-</mark>sub<mark>-</mark></code></td>
     <td>ハイフンマイナス (<a class="external" rel="external" hreflang="en" title="Unicode Character &#39;HYPHEN-MINUS&#39; (U+002D)" href="https://www.fileformat.info/info/unicode/char/002d/index.htm"><span itemprop="url">https://www.fileformat.info/info/unicode/char/002d/index.htm</span></a>)</td>
    </tr>
    <tr>
     <td><code>#TITLE&nbsp;main<mark class="DBCS">～</mark>sub<mark class="DBCS">～</mark></code></td>
     <td><del>波ダッシュ (<a class="external" rel="external" hreflang="en" title="Wave dash - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Wave_dash"><span itemprop="url">https://en.wikipedia.org/wiki/Wave_dash</span></a>)</del>
      <ins>全角チルダ (<a class="external" rel="external" hreflang="en" title="Tilde - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Tilde#Japanese"><span itemprop="url">https://en.wikipedia.org/wiki/Tilde#Japanese</span></a>)?</ins></td>
    </tr>
    <tr><td><code>#TITLE&nbsp;main<mark>(</mark>sub<mark>)</mark></code></td><td>括弧 (bemaniaDX は全角括弧もサポート ??)</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>[</mark>sub<mark>]</mark></code></td><td>ブラケット</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>&lt;</mark>sub<mark>&gt;</mark></code></td><td>不等号</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>␣␣</mark>sub</code></td><td>半角スペース 2 個以上 (bemaniaDX のみ ?)</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>"</mark>sub<mark>"</mark></code></td><td>ダブルクオート
     (LR2 <ins datetime="2013-07-30T22:00:00+09:00">と TechnicalGroove</ins> のみ)</td></tr>
   </tbody>
  </table></li>
 <li>問題は、この仕様がデリミタの優先順位を規定していないということです。</li>
 <li><p>複数種類のデリミタが混合される場合、解釈は実装依存です。</p>
  <table>
   <caption>For example: <code>#TITLE&nbsp;while<mark>(</mark>1<mark>)</mark>&nbsp;{&nbsp;LOVE&nbsp;<mark>--</mark>&nbsp;}</code></caption>
   <thead><tr><th scope="col">implementation</th><th scope="col">maintitle</th><th scope="col">subtitle</th></tr></thead>
   <tbody>
    <tr><td>bemaniaDX</td><td><code>while</code></td><td><code>(1)&nbsp;{&nbsp;LOVE&nbsp;--&nbsp;}</code></td></tr>
    <tr><td>nazo / nazoZZ</td><td><code>while(1)&nbsp;{&nbsp;LOVE&nbsp;</code></td><td><code>--&nbsp;}</code></td></tr>
    <tr><td>LR2</td><td><code>while(1)&nbsp;{&nbsp;LOVE&nbsp;--&nbsp;}</code></td><td>(empty)</td></tr>
   </tbody>
  </table></li>
 <li>解釈が難しいテキストの問題に、仕様はヒントを与えません。</li>
 <li>さらに、この面倒な振る舞いを防止する方法は存在しません。</li>
 <li><code>#SUBTITLE</code> コマンドは、おそらくこれらの問題を解決するために提案されました。</li>
</ul>
</section>

<!-- /#TITLE -->
</section>



<section id="SUBTITLE">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBTITLE">#SUBTITLE&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, LR2, iBMSC (3.0+), Sonorous, TechnicalGroove, diff</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#TITLE</code> の暗黙の副題は、多くの場合、うまく働きませんでした。</li>
 <li>そのような場合、明示的に <code>#SUBTITLE</code> を定義すれば、それはうまくいくでしょう。</li>
 <li><code>#SUBTITLE</code> を使わないなら、省略して構いません。</li>
 <li>LR2 <ins datetime="2013-07-30T22:00:00+09:00">と TechnicalGroove</ins>
  では、<code>#SUBTITLE</code> が省略される場合、<code>#TITLE</code> の暗黙の副題が採用されます。</li>
 <li><ins datetime="2013-07-30T22:00:00+09:00">LR2 で <code>#SUBTITLE</code>
  と暗黙の副題が競合する場合、暗黙の副題文字列は表示されません。</ins></li>
</ul>

<section id="SUBTITLES">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBTITLES"><code>#SUBTITLE</code>&nbsp;の多重定義</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>Sonorous</td></tr>
  <tr><th scope="row">support:</th><td>Sonorous</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>複数の副題を定義できます。構文解析結果の比較例を以下に示します:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">Sonorous</th><th scope="col">LR2, nanasi, iBMSC</th></tr></thead>
   <tbody class="lh100">
    <tr>
     <td><pre><code>#TITLE&nbsp;title
#SUBTITLE&nbsp;(5keys)
#SUBTITLE&nbsp;[Beginner]
#ARTIST&nbsp;artist</code></pre></td>
     <td><pre><code>title
(5keys)
[Beginner]
artist</code></pre></td>
     <td><pre><code>title

[Beginner]
artist</code></pre></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#SUBTITLES -->
</section>

<!-- /#SUBTITLE -->
</section>



<section id="ARTIST">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ARTIST">#ARTIST&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>アーティストの定義。</li>
 <li>「アーティスト」とは何か？ 仕様はそれを示しません。</li>
</ul>
</section>



<section id="SUBARTIST">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBARTIST">#SUBARTIST&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>LR2</td></tr>
  <tr><th scope="row">support:</th><td>LR2, nanasi, iBMSC (3.0+), Sonorous, TechnicalGroove, diff</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>私たちは BGA クリエイター、ノーター、およびその他の協力者を表示するために、このコマンドを使用しても構いません。</li>
 <li>このコマンドをサポートする実装では、
  <code>#SUBARTIST</code> は <code>#ARTIST</code> とは異なる形で表示されることが期待されます。</li>
 <li>このコマンドが省略される場合、単に <code>#ARTIST</code> が採用されます。</li>
</ul>

<section id="SUBARTISTS">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SUBARTISTS"><code>#SUBARTIST</code>&nbsp;の多重定義</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td>TechnicalGroove, Sonorous</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>複数の助力者名を定義できます。構文解析結果の比較例を以下に示します:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">TechnicalGroove</th><th scope="col">LR2, nanasi, iBMSC</th></tr></thead>
   <tbody class="lh100">
    <tr>
     <td><pre><code>#TITLE&nbsp;title
#ARTIST&nbsp;artist
#SUBARTIST&nbsp;MOVIE:&nbsp;m
#SUBARTIST&nbsp;NOTER:&nbsp;n
#SUBARTIST&nbsp;TESTR:&nbsp;t</code></pre></td>
     <td><pre><code>title
artist
MOVIE:&nbsp;m
NOTER:&nbsp;n
TESTR:&nbsp;t</code></pre></td>
     <td><pre><code>title
artist


TESTR:&nbsp;t</code></pre></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#SUBARTISTS -->
</section>

<!-- /#SUBARTIST -->
</section>



<section id="MAKER">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MAKER">#MAKER&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, Sonorous(parsing-only), TechnicalGroove(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>音楽作曲家が BMS 製作者と異なる場合、私たちは BMS 製作者名を定義しても構いません。この値はメタ情報です。</li>
 <li>この値は、ゲームの最初から最後まで表示されません。</li>
</ul>
</section>



<section id="GENRE">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#GENRE">#GENRE&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>音楽のジャンルを定義します。</li>
 <li>省略時は空の値がセットされます。</li>
</ul>

<section id="GENLE">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#GENLE">#GENLE&nbsp;<var>string</var></a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>uBMplay</td></tr>
  <tr><th scope="row">support:</th><td>uBMplay, Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>誤字に対処するために。</li>
</ul>
</section>

<section id="GENRE-IMPLICIT-SUBSTRING">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#GENRE-IMPLICIT-SUBSTRING">暗黙の部分文字列&nbsp;(<code>#GENRE</code>)</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p><code>#TITLE</code> の値、あるいは <code>#GENRE</code> の値に特有の文字列が見つかる場合、</p>
  <p>それぞれに対応するラベルが、選曲リストおよびプレイ画面に表示されます。</p></li>
 <li>プレイ画面へのラベル表示は、Arrow-mode でのみ行われます。</li>
 <li><p>値は大文字小文字を問いません。</p>
  <table>
   <thead><tr><th scope="col">探される文字列:</th><th scope="col">label:</th></tr></thead>
   <tbody>
    <tr><td>Basic, Light</td><td>Basic</td></tr>
    <tr><td>Another, Trick, Standard</td><td>Another</td></tr>
    <tr><td>Maniac, SSR, Heavy</td><td>SSR</td></tr>
   </tbody>
  </table></li>
 <li><ins datetime="2013-05-07T12:00:00+09:00">キーワード重複時は、ラベル “Basic” が適用されます。</ins></li>
</ul>
</section>

<!-- /#GENRE -->
</section>



<section id="COMMENT" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENT">#COMMENT&nbsp;"<var>string</var>"</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, nanasi, PMSee-V, BM-A4, beat arranger, iBMSC (3.0+),
   Sonorous, TechnicalGroove(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>このテキストは選曲リストに表示されます。</li>
 <li>ダブルクオートは「空文字列」を表現するために必要です。</li>
 <li>しかし、ダブルクオートのない譜面が、古い BMS の一部に存在します。
  (e.g. <cite><span class="DBCS" lang="ja" xml:lang="ja">はーとのしっぽ</span></cite>:
   <!-- span itemprop="url" class="u external">http://nekomimi.name/bms/nm28_nm07.zip</span --><span itemprop="url" class="u external">http://necoco.2-d.jp/bms/nm28_nm07.zip</span>)</li>
 <li>したがって、開発者はダブルクオートを前提に解析を行うべきではありません。</li>
 <li>省略可。</li>
</ul>

<section id="COMMENTS">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENTS"><code>#COMMENT</code>&nbsp;の多重定義</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>Sonorous</td></tr>
  <tr><th scope="row">support:</th><td>Sonorous</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>複数のコメントを定義できます。構文解析結果の比較例を以下に示します:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">Sonorous</th><th scope="col">nanasi, iBMSC</th></tr></thead>
   <tbody class="lh100">
    <tr>
     <td><pre><code>#TITLE&nbsp;title
#COMMENT&nbsp;Legacy&nbsp;comment
#COMMENT&nbsp;"Current&nbsp;comment"</code></pre></td>
     <td><pre><code>title
Legacy&nbsp;comment
Current&nbsp;comment</code></pre></td>
     <td><pre><code>title

Current&nbsp;comment</code></pre></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#COMMENTS -->
</section>

<!-- /#COMMENT -->
</section>



<section id="TEXTXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TEXTXX">#TEXT<var>[00-ZZ]</var>&nbsp;"<var>string</var>"</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx99</code></td></tr>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, nanasi, Sonorous(parsing-only),
   <del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove(skin-dependent)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>任意のタイミングで表示される任意のテキストを定義します。</li>
 <li><p>nanasi では、ミスしたときに <code>#TEXT00</code> の内容が表示されます。 (pomu2 は <code>#TEXT00</code> をサポートしていません。)</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#TEXT00&nbsp;"MISS!!"
#TEXTaa&nbsp;"SIROMARU&nbsp;eats&nbsp;only&nbsp;the&nbsp;bread&nbsp;crust"
#TEXTbb&nbsp;""
#10099:aabbaabb</code></pre></td>
     <td class="vab"><code>#100</code> でテキストが点滅します。</td>
    </tr>
   </tbody>
  </table>
  <p><ins datetime="2012-01-16T02:15:00+09:00">実際は、<code>#TEXTbb&nbsp;""</code> の一行を削除しても、同じ結果がもたらされます。</ins></p></li>
</ul>
</section>



<section id="SONGXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SONGXX">#SONG<var>[01-ZZ]</var>&nbsp;"<var>string</var>"</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx99</code></td></tr>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, Sonorous(parsing-only),
   <del>TechnicalGroove(skin-dependent)</del></td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">このコマンドは旧式です。 私たちはこのコマンドをもはや使用するべきではありません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#TEXT<var>[01-ZZ]</var></code> と等価なコマンドですが、時代遅れです。</li>
 <li><b class="red"><code>#SONG<var>[01-ZZ]</var></code> は旧式です。</b> 現在は <code>#TEXT<var>[01-ZZ]</var></code> の使用が推奨されます。</li>
 <li><code>#TEXT<var>[01-ZZ]</var></code> と <code>#SONG<var>[01-ZZ]</var></code> が競合した場合、
  <code>#TEXT<var>[01-ZZ]</var></code> の内容が優先されます。</li>
 <li><ins datetime="2013-07-30T22:00:00+09:00">Sonorous <del datetime="2014-06-10T20:00:00+09:00" class="hide">と TechnicalGroove</del> は、<code>#TEXT</code> と <code>#SONG</code> を区別しません。
  インデックスが重複した場合は、EOF に近い行を優先します。</ins></li>
</ul>
</section>



<section id="LANDMINE" itemscope="itemscope">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LANDMINE">地雷</a></h3>

<table>
 <tbody>
  <tr><th scope="row">header:</th><td><code>#WAV00&nbsp;<var>soundfilename</var></code></td></tr>
  <tr><th scope="row">channel:</th><td><code>#xxx<var>D1-E9</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+),
   Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>触れるとゲージが減るオブジェクト。</p>
  <ul>
   <li>e.g. <cite><span class="DBCS" lang="ja" xml:lang="ja">ガバディ</span></cite> (GABBAR-D):
    <a class="external" rel="external" title="ToyMusical PlayMovie - ガバディ[H] - YouTube" href="https://www.youtube.com/watch?v=fnkWsyvvOrw"><span itemprop="url">https://www.youtube.com/watch?v=fnkWsyvvOrw</span></a></li>
   <li>聴き取りづらいですが、赤いとげとげのオブジェクトに触れたとき、「<i>dosukoi</i>」 が鳴らされます。</li>
   <li><i>Dosukoi</i> は相撲絶叫です。 <span class="DBCS">【doθkói】</span></li>
  </ul></li>
 <li><p>地雷が爆発するとき、<code>#WAV00</code> に定義されたファイルが鳴らされます。</p>
  <ul>
   <li>PMSee-V で地雷は爆発しません。</li>
  </ul></li>
 <li><p><code>#WAV00</code> へファイルを割り当てずに <code>#xxx<var>D1-E9</var></code> が使われた場合、:</p>
  <ul>
   <li>nanasi と LR2 と uBMplay では、各実装が持つデフォルトの爆発音が鳴らされます。</li>
   <li>fgt++ と Angolmois はデフォルトの爆発音を持ちません。 したがって、地雷が触れられれば、ゲージは爆発音なしで減少するでしょう。</li>
  </ul></li>
 <li><p>ゲージの減少量は <code>[01-ZZ]</code> で定義されます。</p>
  <ul>
   <li>値/2 のゲージが減少します。</li>
   <li><code>ZZ</code> は強制ゲームオーバーです。</li>
  </ul>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#WAV00&nbsp;explode.wav
#001D3:0000001E</code></pre></td>
     <td class="vab">ゲージを <ins>25</ins>% 奪う地雷が配置されます。 // 1E (36 進) = 50 (10 進)</td>
    </tr>
   </tbody>
  </table></li>
 <li>日本の BMS シーンのデファクト・スタンダードである LR2 が、地雷をサポートしたので、それは静かに流行しています。</li>
 <li>地雷の特徴は、プレイヤーに keyup を強要する能力です。 これは LN や特徴的なパターンと組み合わせることによって、凶悪な威力を発揮するでしょう。<!--
  (li)(p)(※ LR2 と fgt++ では、LN と地雷を絡めることによって、LN 終端で Keyup を強要することもできる)(/p)
   (p)(※ べつに LN に限定せずとも、「強制 Keyup」 こそ地雷のキモなので、そこは書いておくべきかな...)(/p)
   (p)(※ あと私見だけど地雷を LN 化できないのがムズムズする、地雷を 「点描」 してるときの切なさは異常)(/p)(/li) --></li>
 <li><p><strong class="red">通常は、地雷の爆発音は変更できません。</strong>ただし:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#wav00&nbsp;bomb.wav
#wav11&nbsp;visible.wav
#wav33&nbsp;invisible.wav

#00111:00000011
#00131:33
#001D1:1E</code></pre></td>
     <td><ul>
      <li>不可視オブジェクトを重ねると、擬似的に別の音を再生できるかもしれません。</li>
      <li>ただしこの挙動は実装依存であり、互換性も確実性もありません。</li>
      <li>Angolmois と LR2 では、タイミング次第ですが、可能です。</li>
      <li>nanasi は不可視オブジェクトと爆発音の両方を再生します。</li>
     </ul></td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="PATH-WAV">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#PATH-WAV">#PATH_WAV&nbsp;<var>path</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td><del datetime="2013-07-02T18:00:00+09:00">GDAC2</del> <ins datetime="2013-07-02T18:00:00+09:00">BMEV (?)</ins></td></tr>
  <tr><th scope="row">support:</th><td><del datetime="2013-07-02T18:00:00+09:00">GDAC2,</del> BMEV, WAview, in_bm2, uBMplay, IIDXv, Angolmois,
   Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><del datetime="2013-07-02T18:00:00+09:00">WAV</del> ファイルが存在するディレクトリのパスを定義することができます。</li>
 <li>(相対パスはおそらく指定することができません。)</li>
 <li><p>テストプレイで使用される用途を想定しています。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#PATH_WAV&nbsp;C:\WINDOWS\Media
#WAV01&nbsp;onestop.mid
#WAV02&nbsp;chimes.wav
#WAV03&nbsp;chord.wav
#BMP01&nbsp;..\..\img\koala.bmp</code></pre></td>
     <td><p>パスの接頭辞を指定。</p>
      <p><code>#WAV01</code> が参照するファイルは、“C:\WINDOWS\Media\onestop.mid”</p>
      <p><code>#WAV02</code> が参照するファイルは、“C:\WINDOWS\Media\chimes.wav”</p>
      <p><code>#WAV03</code> が参照するファイルは、“C:\WINDOWS\Media\chord.wav”</p>
      <p><code>#BMP01</code> が参照するファイルは、“C:\img\koala.bmp”</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>私たちは、BMS をリリースする際に、<code>#PATH_WAV</code> をコメントアウトするべきです。</li>
 <li><p>WAview, in_bm2, uBMplay <ins datetime="2013-07-03T12:00:00+09:00">(1.5.1 およびそれ以前)</ins>
   では、値の接尾辞としてデリミタが必要です。たとえば：</p>
  <p><code>#PATH_WAV&nbsp;C:\WINDOWS\Media<mark><strong class="red">\</strong></mark></code></p></li>
</ul>
</section>



<section id="BPM">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BPM">#BPM&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>曲の Beat<ins>s</ins>-Per-Minute の定義。 これは譜面のスクロール速度の初期値として使われます。</li>
 <li><p>コマンド省略時は <code>130</code> がデフォルト値として適用されます。
  しかし、まともな譜面なら <code>#BPM</code> は省略するべきではありません。</p>
  <ul>
   <li>BMS 仕様は <code>130</code> をデフォルト値として定めていますが、いくつかの実装はこの仕様を満たしていません。</li>
   <li>nanasi は <code>150</code> を適用します。</li>
   <li>fgt++ は <code>30</code> を適用します。</li>
   <li>nazo, nazoZZ, BMSC, BMSE, iBMSC, および BMSV は <code>120</code> を適用します。</li>
   <li>fgt#, pomu2, nBMplay, および o2play は <code>0</code> を適用します。 つまり、譜面はスクロールしません。</li>
   <li>LR2 の場合、BPM 表示欄はスロットが高速で回転し続けます。 つまり、譜面はスクロールしません。</li>
  </ul></li>
 <li><p>ほとんどのソフトでは、値 <code><var>n</var></code> に整数だけでなく小数も指定できます。</p>
  <ul>
   <li>ただし、以下のソフトは小数値を反映しません ： BMSV, BMS2WAV, otama, Galli, KbMediaPlayer (bmse.kpi), fgt</li>
  </ul></li>
</ul>

<section id="CHANGING-BPM-BASIC-FORMAT">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGING-BPM-BASIC-FORMAT">BPM&nbsp;変更&nbsp;(基本形式)</a></h4>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx03</code></td></tr>
  <tr><th scope="row">range:</th><td><code><var>[01-FF]</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>ほぼすべて</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>[1-255] の整数値を 16 進数で指定することができます。 <code>00</code> は <a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">休符</a> です。</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#00103:00FE</code></pre></td>
     <td>BPM は <code>#001</code> の半ばで 254 に変更されます。 (FE = 254)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>BMSE では、チャンネル <code>#xxx03</code> のオブジェが置かれた場所にチャンネル <code>#xxx08</code> のオブジェが積まれる場合、両方が保存されます。</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#BPM01&nbsp;256
#00103:00FF
#00108:0001</code></pre></td>
     <td class="vab">これがどのように解釈されるかは実装依存です。</td>
    </tr>
   </tbody>
  </table></li>
 <li>iBMSC では、両方が保存されますが、親切に警告してくれます:
  <img src="content/ibmsc-error-mark.png" alt="Error Check (notice invalid objects)" width="27" height="26" class="vam"></li>
</ul>
</section>

<!-- /#BPM -->
</section>



<section id="BPMXX" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BPMXX">#BPM<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx08</code></td></tr>
  <tr><th scope="row">origin:</th><td>bemaniaDX version 0.72.0768 (<time datetime="2000-07-15">2000-07-15</time>)</td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="2">index range:</th></tr>
  <tr><th scope="row"><code><var>[01-99]</var></code>:</th>
   <td>bemaniaDX (origin) // 10進数インデックスのみ、ただし <code>#xxx08:<em class="red">[01-2R]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-73]</var></code>:</th>
   <td>BGAEnc (origin) // 36進数インデックス 255 個、ただし <code>#xxx08:<em class="red">[01-FF]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-FF]</var></code>:</th>
   <td>MGQ (origin), BM98de (<code>#BPM<em class="red">01</em></code> はバグる), DDR, RDM, MW (<code>#BPM<em class="red">FF</em></code> はバグる),
    nazo, Mac?, <del>Aqua?</del>, GALLI, WAview, <del>BGAenc</del>, KbMedia, nazoZZ, O2mania</td></tr>
  <tr><th scope="row"><code><var>[01-FZ]</var></code>:</th><td>BMEV (origin)</td></tr>
  <tr><th scope="row"><code><var>[01-ZZ]</var></code>:</th>
   <td>nanasi (origin), LR2, fgt++, fgt#, ruvit, pomu2, uBMplay, PMSee-V, BMSE, iBMSC, DTXC, bme2wav, bmx2wav,
    Aqua (?), IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove, diff, in_bm2, O2play, </td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BPM は任意の位置で変更されます。 (今後、私はこの文書中で、この「拡張された BPM 変更コマンド」 を 「exBPM」 と略します。)</li>
 <li><p>このコマンドは、主に小数の値、あるいは over255BPM の値を定義します。 つまり、<b>実数 BPM</b> が定義されます。</p>
  <table>
   <thead><tr><th scope="col">For example</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BPMII&nbsp;256
#BPMzz&nbsp;155.5
#00108:IIzzIIzz</code></pre>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>BMSE は、定義を与えられたスクロール・オブジェクトを再利用できません。もし BMSE で保存すれば、前の例は以下のように書き直されるでしょう。</p>
  <table>
   <thead><tr><th scope="col">For example</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BPM01&nbsp;256
#BPM02&nbsp;155.5
#BPM03&nbsp;256
#BPM04&nbsp;155.5
#00108:01020304</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>したがって、BMSE では、exBPM オブジェクトは最高でも 1295 個しか読み書きすることができません。</li>
   <li>1295 種類の値を無限にセットする場合、私たちは BMSE でない手段を使用しなければなりません。</li>
   <li>(値は 255 種類に制限されますが、チャンネル <code>#xxx03</code> のオブジェクトは無限に読み書きすることができます。)</li>
  </ul></li>
 <li><p>BMSE は、<code><var>[01-FF]</var></code>, <code><var>[01-FZ]</var></code>,
   <code><var>[01-ZZ]</var></code> のいずれの実装も、可能な限りサポートすることを試みます。</p>
  <ul>
   <li>使用された実数 BPM オブジェクトが 255 個未満である場合、BMSE は <code>#BPMxx</code> のインデックスを <code><var>[01-FF]</var></code> で定義します。</li>
   <li>使用された実数 BPM オブジェクトが 256 個以上である場合、BMSE は <code>#BPMxx</code> のインデックスを <code><var>[01-ZZ]</var></code> で定義します。</li>
  </ul></li>
 <li><p>iBMSC の定義スロットは <del>255 個に制限されます</del> <ins>設定から 1295 個に変更可能</ins>。</p>
  <p>また、iBMSC は、定義を与えられたスクロール・オブジェクトを再利用することができます。</p></li>
 <li>負数が値として定義される場合、いくつかの実装は、スクロール方向を逆転します。
  (<a title="DPU9 - YouTube" class="external" rel="external" href="https://www.youtube.com/watch?v=R4S7BKEB0vs"><span itemprop="url">https://www.youtube.com/watch?v=R4S7BKEB0vs</span></a>)</li>
 <li><p>値の範囲は仕様で定義されないので、負の BPM の解釈は実装依存です。</p>
  <table>
   <tbody>
    <tr><th scope="row">逆流:</th>
     <td>bemaniaDX, BM98de, RDM, nazo, nazoZZ, O2mania, LR2, ruvit, fgt++, fgt#, uBMplay, PMSee-V, <del>IIDXv</del>, Angolmois, Sonorous</td></tr>
    <tr><th scope="row">独自解釈:</th><td>bme2wav, bmx2wav</td></tr>
    <tr><th scope="row">無視:</th><td>KbMedia, GALLI (負符号のみ無視), <del>LR2 (partial)</del>, nanasi, pomu2</td></tr>
    <tr><th scope="row"><code>130</code> を適用:</th><td>DDR, WAview, in_bm2</td></tr>
    <tr><th scope="row"><code>0</code> を適用:</th><td>iBMSC, DTXC</td></tr>
    <tr><th scope="row">編集可能:</th><td>BMSE</td></tr>
    <tr><th scope="row">その場で終了:</th><td>BGAEncAdv<del datetime="2014-02-27T18:00:00+09:00">, TechnicalGroove</del>
     <del datetime="2013-08-04T07:20:00+09:00">(負数 BPM オブジェクトの後方に存在する音声オブジェクトは、すべて同時に再生されます)</del></td></tr>
   </tbody>
  </table>
  <ul>
   <li>負数 BPM は、<del datetime="2014-02-27T18:00:00+09:00">nazo</del>
    bemaniaDX のバグを起源とする演出に過ぎず、要求仕様ではありません。</li>
   <li>ruvit, fgt++, Angolmois, Sonorous では、スクロールが逆流しても、通常通りリザルト画面に移ることができます。</li>
   <li>それ以外の「負数 BPM をサポートする実装」では、<kbd>ESC</kbd> キーを押す必要があるかもしれません。 (譜面から抜けられないため)</li>
   <li><p><del datetime="2013-01-16T19:00:00+09:00">LR2 は、負数 BPM を基本的にサポートしませんが、有名な kusofumen は例外的にハードコーディングされているようです。</del></p>
    <p>(e.g. <cite>Sofa $15 -&gt; $1</cite>, <cite>U9</cite>, etc. )</p></li>
   <li>逆スクロールを実装する義務はありませんが、負数の値が指定される可能性は考慮されるべきです。</li>
  </ul></li>
 <li>関連文書: <a href="https://hitkey.nekokan.dyndns.info/exbpm-object.htm" hreflang="en">Extended BPM - BMS Command</a></li>
</ul>
</section>



<section id="EXBPMXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXBPMXX">#EXBPM<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx08</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, pomu2, PMSee-V, Sonorous, BGAEncAdv, TechnicalGroove,
   <ins datetime="2014-05-12T12:00:00+09:00">HDX</ins></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#BPMxx&nbsp;<var>n</var></code> と等価。</li>
 <li>これは、BMSC のバグを回避するためのエイリアスです。</li>
 <li>BMSC は <code>#BPMxx&nbsp;<var>n</var></code> と <code>#BPM&nbsp;<var>n</var></code> を混同し、解析を誤るでしょう。</li>
</ul>
</section>



<section id="BASEBPM">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BASEBPM">#BASEBPM&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>LR</td></tr>
  <tr><th scope="row">support:</th><td>LR (LR2 は <code>#BASEBPM</code> のサポートが打ち切られた ?)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>スクロール速度の標準値として使われる BPM を定義します。</li>
 <li><p>スクロール速度は、「BPM 変更オブジェクト中の最大値」 もしくは <code>#BASEBPM</code> の値から決定されます。</p>
  <ul>
   <li>LR2 は適切な HI-SPEED オプションを自動的に設定する機能を持っています。</li>
   <li>この機能を使用する場合、通常、HI-SPEED オプションは「BPM 変更オブジェクト中の最大値」に基づいて決定されます。</li>
   <li>しかしながら、例えば「非常に短い区間だけ急加速する譜面」では、この機能はがっかりさせる結果を引き起こすでしょう。</li>
   <li>その場合、<code>#BASEBPM</code> は「便宜的な代替標準値」を定義することができます。</li>
  </ul></li>
</ul>
</section>



<section id="STOPXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#STOPXX">#STOP<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx09</code></td></tr>
  <tr><th scope="row">origin:</th><td>DDR Ver.0.50 beta2 <time datetime="2001-12-24">2001-12-24</time></td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="2">index range:</th></tr>
  <tr><th scope="row"><code><var>[01-99]</var></code>:</th>
   <td>pomu2 (origin) // 10進数インデックスのみ、ただし <code>#xxx09:<em class="red">[01-2R]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-73]</var></code>:</th>
   <td>RDM (origin) // 36進数インデックス 255 個、ただし <code>#xxx09:<em class="red">[01-FF]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-73]</var></code>:</th>
   <td>fgt (origin) // 36進数インデックス 255 個、ただし <code><em class="red">[41, 45-4F, 4H]</em></code> はバグあり</td></tr>
  <tr><th scope="row"><code><var>[01-FF]</var></code>:</th>
   <td>DDR (origin), nazo, nazoZZ, GALLI, WAview, PMSee-V, <del datetime="2014-02-27T20:00:00+09:00">pomu2?, O2mania</del></td></tr>
  <tr>
   <th scope="row"><code><var>[01-ZZ]</var></code>:</th>
   <td>nanasi (origin), LR2, ruvit, fgt++, fgt#, BMSE, uBMplay, in_bm2, bme2wav, BGAenc, bmx2wav, iBMSC, IIDXv, HDX, Angolmois,
    Sonorous, BGAEncAdv, TechnicalGroove, diff</td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>DDR タイプのストップシーケンスが定義されます。</li>
 <li>ストップシーケンスは、一定時間、譜面のスクロールを停止するオブジェクトです。</li>
 <li>定義された時間が経過すれば、譜面のスクロールは再開されるでしょう。</li>
 <li><del>一般的な実装の分解能を、単位 1 としてください。</del></li>
 <li><del>つまり、</del> 4/4 拍子における 「全音符の 1/192 の音符」 を、単位 1 としてください。</li>
 <li>つまり、<code>192nd&nbsp;note&nbsp;*&nbsp;1&nbsp;===&nbsp;#STOP<var>xx</var>&nbsp;1</code></li>
 <li><p>この値は、チャンネル <code>#xxx02</code> (小節長変更) の値に左右されてはなりません。</p>
  <p>なぜなら、「音符」は小節の長さとは無関係な単位だからです。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
<pre><code>#STOP11&nbsp;96
#STOP22&nbsp;96
#00109:0011
#00202:0.5
#00209:0022</code></pre>
     </td>
     <td>
      <p>値 <code>96</code> は <code>192nd&nbsp;note&nbsp;*&nbsp;96</code> です。</p>
      <p><code>#001</code> と <code>#002</code> では、停止すべき時間は同じです。</p>
      <p>古い WAview と古い pomu には、停止時間がチャンネル <code>#xxx02</code> に依存するバグがありました。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>音符を基準とするので、停止時間は「停止時の BPM の値」に依存します。</p>
  <table>
   <thead>
    <tr>
     <th scope="col">1 秒間停止:</th>
     <th scope="col">0.5 秒間停止:</th>
     <th scope="col">0.25 秒間停止:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#BPM&nbsp;60
#STOP33&nbsp;48
#00109:33</code></pre></td>
     <td><pre><code>#BPM&nbsp;120
#STOP44&nbsp;48
#00109:44</code></pre></td>
     <td><pre><code>#BPM&nbsp;240
#STOP55&nbsp;48
#00109:55</code></pre></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>複数のオブジェクトが同じタイムライン上に位置する場合、STOP オブジェクトを最も遅く評価する必要があります。</p>
  <ul>
   <li>STOP オブジェクトと音声オブジェクトが同一タイミングにある場合、最初に音が鳴らされ、次にスクロールが止められます。</li>
   <li>STOPオブジェクトと BPM オブジェクトが同一タイミングにある場合、最初に BPM が変更され、次にスクロールが止められます。</li>
  </ul></li>
 <li>ほとんどすべての実装はこの振る舞いに従いますが、<del datetime="2014-02-27T20:00:00+09:00">pomu2 だけ</del>
  <ins datetime="2014-02-27T20:00:00+09:00">いくつかの実装</ins>は他と異なる結果をもたらすかもしれません。</li>
 <li><p>理論上、小さな BPM と大きな STOP が組み合わせられる場合、停止時間は無限に拡張可能です。</p>
  <p><img src="content/bmse_main_bpmcosmo.png" alt="BPM1.250001 + STOP2.147484E+9" width="223" height="37">
   BPM <code>1.250001</code> + STOP <code>2147483647</code></p>
  <p><img src="content/68years.png" alt="68 years or more of stop" width="231" height="60">
  停止時間: 約 <time datetime="P68Y35DT2H50M">68 年 35 日 2 時間 50 分</time> // (しかし、uBMplay 以外のアプリケーションは強制終了するでしょう。)</p></li>
 <li><p>負数の値が定義される場合、いくつかの実装は、譜面のスクロールをスキップします。</p>
  <table>
   <tbody>
    <tr><th scope="row">スキップ:</th>
     <td><del datetime="2014-02-27T20:00:00+09:00">RDM</del>, nazo, nazoZZ, fgt, fgt++, fgt#, pomu2, uBMplay, IIDXv, HDX, Angolmois (Rust), BGAEnc</td></tr>
    <tr><th scope="row">警告:</th><td>PMSee-V</td></tr>
    <tr><th scope="row">スライド:</th><td>bme2wav, bmx2wav</td></tr>
    <tr><th scope="row"><code>-1</code> を適用:</th><td>LR2 (わずかなスキップ), RDM</td></tr>
    <tr><th scope="row"><code>0</code> を適用:</th><td>DDR, iBMSC</td></tr>
    <tr><th scope="row"><code>0.1</code> を適用:</th><td>nanasi</td></tr>
    <tr><th scope="row">無視:</th><td><del datetime="2014-02-27T20:00:00+09:00">LR2, nanasi,</del> WAview, in_bm2, ruvit, Angolmois (C), Sonorous</td></tr>
    <tr><th scope="row">強制終了:</th><td><del datetime="2014-02-27T20:00:00+09:00">ruvit</del></td></tr>
    <tr><th scope="row">絶対値を適用:</th><td>BGAEncAdv, TechnicalGroove</td></tr>
   </tbody>
  </table></li>
 <li id="FRACTIONAL-STOP"><p>いくつかの実装は、小数の値を解釈します。</p>
  <table>
   <tbody>
    <tr><th scope="row">小数値を適用:</th><td><del datetime="2014-02-27T20:00:00+09:00">RDM,</del>
     ruvit, nanasi, fgt#, iBMSC, IIDXv, HDX, BGAEncAdv, TechnicalGroove</td></tr>
    <tr><th scope="row">整数化 (小数を切り捨て):</th><td>DDR, WAview, in_bm2, bme2wav, LR2, fgt++, Angolmois, Sonorous,
     <ins datetime="2014-02-27T20:00:00+09:00">RDM, BGAEnc, GALLI, pomu2, PMSee-V</ins></td></tr>
    <tr><th scope="row">整数化 (小数を四捨五入):</th><td>nazo, nazoZZ, uBMplay, BMSE</td></tr>
    <tr><th scope="row">大幅に狂う:</th><td><del datetime="2014-02-27T20:00:00+09:00">GALLI, pomu2, PMSee-V</del></td></tr>
    <tr><th scope="row">変換中止:</th><td>bmx2wav</td></tr>
   </tbody>
  </table>
  <ul>
   <li>本質的に、<code>#STOP</code> は負数も小数も受け付けるべきではありません。
    <ins datetime="2013-07-30T22:00:00+09:00">[註: 私見]</ins></li>
   <li>不正な値の入力を禁止する BMSE &amp; iBMSC はスマートです。</li>
  </ul></li>
 <li><p>BMSE は、定義を与えられたスクロール・オブジェクトを再利用できません。iBMSC はできます。</p>
  <ul>
   <li>したがって、BMSE では、STOP オブジェクトは最高でもわずか 1295 個しか読み書きすることができません。</li>
   <li>1295 種類の値を無限にセットする場合、私たちは BMSE でない手段を使用しなければなりません。</li>
  </ul></li>
 <li>使用された STOP オブジェクトが 255 個未満である場合、BMSE は <code><var>[01-FF]</var></code> によって <code>#STOPxx</code> のインデックスを定義します。</li>
 <li>使用された STOP オブジェクトが 256 個以上である場合、BMSE は <code><var>[01-ZZ]</var></code> によって <code>#STOPxx</code> のインデックスを定義します。</li>
 <li>関連文書: <a href="https://hitkey.nekokan.dyndns.info/exstop.htm" hreflang="en">STOP Sequence - BMS Command</a></li>
</ul>
</section>



<section id="STP">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#STP">#STP&nbsp;<var>xxx</var>.<var>yyy</var>&nbsp;<var>zzzz</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, Angolmois, Sonorous</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>bemaniaDX タイプの STP シーケンスを定義します。</p>
  <table>
   <tbody>
    <tr><th scope="row"><code><var>xxx</var></code></th><td><code><var>[000-399]</var></code></td>
     <td>小節 (Angolmois &amp; Sonorous: <code><var>[000-999]</var></code>)</td></tr>
    <tr><th scope="row"><code><var>yyy</var></code></th><td><code><var>[000-999]</var></code></td><td>小節内の位置 (yyy/1000)</td></tr>
    <tr><th scope="row"><code><var>zzzz</var></code></th><td></td><td>停止時間 (ms)</td></tr>
   </tbody>
  </table></li>
 <li><p>次の例は、合計で 4500ms の間、スクロールを停止します。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#STP&nbsp;001.500&nbsp;&nbsp;500
#STP&nbsp;001.500&nbsp;4000</code></pre></td>
     <td>
      <p><code>#001</code> の中央位置で、500ms 停止。</p>
      <p>定義を同じ場所に重複できます。停止時間を 4000ms 加えます。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>bemaniaDX タイプの STP シーケンスを使わないなら、これを記述する必要はありません。</li>
 <li><p>仕様に書かれていませんが、詳細は以下のとおりです。</p>
  <ul>
   <li><code>xxx</code> と <code>yyy</code> は、3 桁の数で記述する必要があります。 <code>0</code> の省略は許されません。</li>
   <li><code>xxx</code> と <code>yyy</code> のデリミタとして、ピリオドを記述する必要があります。</li>
   <li><p><code>yyy</code> と <code>zzzz</code> のデリミタとして、全角/半角空白、またはタブ文字を記述する必要があります。</p>
    <p>このデリミタは、1 文字以上 7 文字未満でなければなりません。</p></li>
   <li>ピリオドと <code>yyy</code> が省略される場合、<code>#STP&nbsp;xxx.000&nbsp;zzzz</code> として解釈されます。</li>
   <li><p>私たちは <code>zzzz</code> の後に数字以外を記述しても構いません。 解析時にコメントアウトされます。</p>
    <p>しかしながら、内部処理が明らかではないので、コメントとして捨てられることを期待はできないでしょう。</p></li>
   <li><p>「位置」 <code>yyy</code> は <code>1000</code> 等分されるように見えますが、
    <code>960</code> 以上の値は事実上無視されます。</p>
    <p>このバグはフリーズする可能性すらあります。</p></li>
   <li><p>bemaniaDX は <code>#400</code> 以上の小節をサポートしていません。</p>
    <p>他の実装と同様の方法で譜面を書こうとすると、バグが増えるでしょう。</p></li>
   <li><p><code>#STP</code> 文が大量に重複した場合、それらは無視されるでしょう。</p>
    <p>しかし、どこまで重複できるのかは仕様に書かれていません。</p></li>
  </ul></li>
 <li>Angolmois &amp; Sonorous の STP シーケンスは、bemaniaDX のそれよりも期待通りに動作します。</li>
</ul>
</section>



<section id="LNTYPE-1">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNTYPE-1">#LNTYPE&nbsp;1</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx51-69</code></td></tr>
  <tr><th scope="row">origin:</th><td>RDM</td></tr>
  <tr><th scope="row">support:</th><td>RDM (1.3+), WAview, in_BM2, ruvit, Angolmois, Sonorous, o2mania</td></tr>
  <tr>
   <th scope="row">omissible:</th>
   <td>
    <p>RDM (1.7+), DDR (Arrow mode only), nazo, nazoZZ, WAview, in_BM2, bme2wav, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins></p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, iBMSC, uBMplay, PMSee-V (1.1.6+), IIDXv, bmx2wav, o2play, HDX, Angolmois,
     Sonorous, TechnicalGroove, diff</p>
   </td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#LNTYPE</code> は、譜面が準拠する <abbr title="Long Note">LN</abbr> の記法を宣言します。</li>
 <li><code>#LNTYPE</code> の値が <code>1</code> である場合、LN チャンネル <code>#xxx51-69</code> は、RDM タイプと MGQ タイプのうち RDM タイプが選ばれます。</li>
 <li><p>このコマンドが省略される場合、RDM タイプが暗黙的に適用されます。</p>
  <ul>
   <li>MGQ.exe は除きます。MGQ.exe は RDM の仕様と無関係だからです。</li>
  </ul></li>
 <li>RDM タイプおよび MGQ タイプの両方を実装したアプリケーションでは、この宣言は明瞭な意味を持っています。</li>
 <li>MGQ タイプを実装してしないアプリケーションでは、この宣言は無意味です。</li>
</ul>
<ul class="noMarginTop">
 <li>MGQ タイプは既に衰退しました。</li>
 <li>LN をサポートするアプリケーションはすべて RDM タイプを実装しています。</li>
 <li>したがって、<code>#LNTYPE&nbsp;1</code> を明示的に記述する必要性はもはや存在しません。</li>
 <li>この宣言は後方互換性のためにのみ残されています。</li>
</ul>
<ul class="noMarginTop">
 <li><p>RDM タイプの <code>#xxx51-69</code> と <code>#LNOBJ</code> が競合した場合の優先順位は、仕様で定められていません。</p>
  <ul>
   <li>pomu2 では、<code>#xxx51-69</code> と <code>#LNOBJ</code> が競合した場合、
    <code>#xxx51-69</code> のオブジェがすべて <code>#xxx11-29</code> に化けるバグがあります。</li>
   <li>LR2 で <code>#xxx51-69</code> と <code>#LNOBJ</code> が競合する場合、
    <code>#LNTYPE</code> の有無によって、解析結果が微妙に異なるかもしれません。</li>
  </ul></li>
 <li>DDRでは、終点シンボルが見つからない間に譜面が終了に達する場合、コンパイルエラーが返されます。</li>
 <li>BMSE では、チャンネル <code>#xxx51-69</code> のオブジェクトを BGM に移動すると、BMSE が強制終了します。</li>
 <li>iBMSC は、<del><code>#LNTYPE&nbsp;1</code> ではなく <code>#LNTYPE&nbsp;01</code> を自動的に記述します。</del>
  <ins datetime="2012-01-13T00:00:00+09:00">Fixed in Version 3.0 Delta</ins></li>
 <li><strong class="red">o2mania は、<code>#LNTYPE&nbsp;1</code> を省略できません。</strong>
  <code>1</code> および <code>01</code> は有効値として受け取られます。 <code>001</code> は無効値です。</li>
</ul>

<dl>
 <dt>details:</dt>
 <dd>
  <p>RDM 記法は、MGQ 記法のシンタックスシュガーと見なすことができます。 <code>#LNTYPE&nbsp;1</code> は <b class="u">RDM-type #1 LN</b> です。</p>
  <p>LN は <code>00</code> 以外のノートが現れる位置から開始されます。 (LN 始点シンボル)</p>
  <p>LN は <code>00</code> 以外のノートが次に現れる位置で閉じられます。 (LN 終点シンボル)</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNTYPE&nbsp;1
#00151:00<mark>220000</mark>
#06451:<mark>0000000000</mark>33</code></pre></td>
     <td><p>O2mania 以外の実装は、この宣言を省略できます。</p>
      <p>LN 区間は <code>#001</code> の中で開始されます。</p>
      <p>終点以外のオブジェクトが、LN 区間の間に現れなかったなら、この LN は <code>#064</code> で閉じられます。</p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>この例は、<code>#001-064</code> の長さの、1 つの LN セクションを形成します。</p>
  <p>1 つの LN セクションは、「1 つのオブジェクト」として数えられるかもしれないし、「2 つのオブジェクト」として数えられるかもしれません。
   それは実装依存です。ほとんどの実装は、1 つのオブジェクトとしてそれを数えます。</p>
  <p>ファイルが <code>#WAV22</code> に定義されれば、音は開始位置で鳴らされるでしょう。</p>
  <p>ファイルが <code>#WAV33</code> に定義される場合でも、終点の音は鳴らされません。
   <code>#LNTYPE&nbsp;1</code> では、終了位置の音は常に無視されます。</p>
  <p>開始位置および終了位置の <code>#WAV</code> インデックスは、必ずしも同じとは限りません。
   しかし BMS エディタを使うなら、ほぼすべての場合に同じになるでしょう。</p>
 </dd>
</dl>

<section id="KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1" itemscope="itemscope">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">LN 終端で別の音を鳴らす</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx51-69</code></td></tr>
  <tr><th scope="row">origin:</th><td>HDX</td></tr>
  <tr><th scope="row">support:</th><td>HDX, IIDXv, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul>
 <li><p>ロングノートの始端と終端に異なるインデックスを配置すると、それぞれ別の音を鳴らすことができます。 例 ：</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#WAVaa&nbsp;onkeydown.wav
#WAVbb&nbsp;onkeyup.wav
#00151:00<mark>aa00</mark>bb</code></pre></td>
     <td><p>LN 始端用の音</p><p>LN 終端用の音</p><p>LN 始端では onkeydown.wav が再生され、LN 終端では onkeyup.wav が再生されます。</p></td>
    </tr>
   </tbody>
  </table></li>
 <li>LN 終端を判定するゲームシステムと組み合わせれば、<cite>beatmania IIDX</cite> の「<a class="external" rel="external" title="BEATMANIA IIDX 17 SIRIUS - Almagest (A CLEAR w. HANDS) - YouTube" href="https://www.youtube.com/watch?v=NlXhaZUrB6M">バックスピンスクラッチ</a>」も擬似的に再現できるでしょう。</li>
</ul>
</section>

</section>



<section id="LNTYPE-2" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNTYPE-2">#LNTYPE&nbsp;2</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx51-<del>8C</del><ins>69</ins></code></td></tr>
  <tr><th scope="row">origin:</th><td>RDM</td></tr>
  <tr><th scope="row">support:</th><td>RDM (1.3+), WAview, in_BM2, ruvit, Angolmois, Sonorous</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">このコマンドは旧式です。私たちはこのコマンドをもはや使用するべきではありません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#LNTYPE</code> は、譜面が準拠する <abbr title="Long Note">LN</abbr> の記法を宣言します。</li>
 <li><code>#LNTYPE</code> の値が <code>2</code> である場合、LN チャンネル <code>#xxx51-69</code> は、RDM タイプと MGQ タイプのうち MGQ タイプが選ばれます。</li>
 <li><p>このコマンドが省略される場合、RDM タイプが暗黙的に適用されます。</p>
  <ul>
   <li>MGQ.exe は除きます。MGQ.exe は RDM の仕様と無関係だからです。</li>
   <li>したがって、MGQ.exe は <code>#LNTYPE</code> を無視します。 MGQ.exe は常に、<code>#xxx51-8C</code> を MGQ 記法の LN として解釈します。</li>
  </ul></li>
 <li><p>MGQ フォーマットは BMS の亜種 (部分集合) であり、<cite>KEYBOARDMANIA</cite> の譜面をエミュレートできます。 24KEYS *2 が準備されています。</p>
  <ul>
   <li><del datetime="2011-10-24T00:00:00+09:00">1P-side LN: channel <code>#xxx51-5C</code> and <code>#xxx61-6C</code></del></li>
   <li><del datetime="2011-10-24T00:00:00+09:00">2P-side LN: channel <code>#xxx71-7C</code> and <code>#xxx81-8C</code></del></li>
  </ul></li>
 <li><p>MGQ フォーマットは旧式です。私たちはもはや MGQ-LN を使用するべきではありません。</p>
  <ul>
   <li><cite>KEYBOARDMANIA</cite> のようなゲームのために、MGQ よりも適切なフォーマットがいくつか考案されています。</li>
   <li>たとえば <cite>Synthesia</cite> は、「MIDI からの直接の譜面化」 と、87KEYS をサポートしています。
    <a class="external" rel="external" title="John Stump vs. UN Owen Was Her? (Synthesia) - YouTube" href="https://www.youtube.com/watch?v=euadl2uWy_g"><span itemprop="url">https://www.youtube.com/watch?v=euadl2uWy_g</span></a></li>
  </ul></li>
 <li>WAview と in_bm2 は、MGQ-LN を正しく解析しません。すくなくとも RDM の仕様の通りには解釈しません。</li>
 <li>RDM と ruvit では、最後のノートが MGQ-LN である場合、それは正しく解析されません。(たぶんバグ)</li>
</ul>

<dl>
 <dt>details:</dt>
 <dd>
  <p><code>#LNTYPE&nbsp;2</code> は <b class="u">MGQ 記法 LN</b> です。</p>
  <p>LN は、<code>00</code> 以外のノートが現われる位置から開かれます。</p>
  <p>LN は、<code>00</code> 以外のノートが連続する間、繋がります。</p>
  <p>LN は、<code>00</code> が現れたとき閉じられます。</p>
  <p>「前の小節の最後のノート」が <code>00</code> でなく、「現在の小節の最初のノート」も <code>00</code> でない場合、MGQ-LN は小節線を超えて繋がります。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNTYPE&nbsp;2
#00151:00<mark>22zzzz</mark>
#00251:<mark>zz</mark>
#00351:<mark>zz</mark>
<mark>...</mark>
#06351:<mark>zz</mark>
#06451:<mark>zzzzzzzz33</mark>00
#06551:<mark>00</mark>
#06511:0011</code></pre></td>
     <td>
      <p><strong class="red">宣言は省略できません。</strong></p>
      <p>LN の開始 &amp; LN の持続。</p>
      <p>LN の継続シンボルは省略できません。</p>
      <p>LN の継続シンボルは省略できません。</p>
      <p>LN の継続シンボルは省略できません...</p>
      <p>LN の継続シンボルは省略できません...</p>
      <p>最後のノートが <code>33</code> である必要はありません。 <code>33</code> は他のインデックスでも構いません。</p>
      <p>明示的な終点シンボル <code>00</code> (省略可能)</p>
      <p>« RDM/ruvit のバグ回避用 ... 各レーンの最後のオブジェを MGQ-LN にしない</p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>この例は、<code>#LNTYPE&nbsp;1</code> の例と同じ譜面を表現します。 (<code>#06511:0011</code> は除く。)</p>
  <p>RDM と ruvit では、開始位置および終了位置における音の鳴り方は、<code>#LNTYPE&nbsp;1</code> の場合と同じです。</p>
  <p>(WAview と in_bm2 の MGQ-LN はバグってるので、私には判断できません。)</p>
  <p>MGQ-LN を使用する場合、私たちは非常に忍耐強いに違いありません。</p>
 </dd>
 <dt><ins datetime="2013-03-12T18:00:00+09:00" class="red">バージョン 798422870970 (<time datetime="2013-03-10T01:54:46+09:00">2013年3月10日</time>) 以前の Angolmois に関する</ins>注記:</dt>
 <dd>
  <p><a href="https://nvyu.net/rdm/rby_ex.php" class="external" rel="external" hreflang="ko" title="ruv-it! | support page">ruvit の実装</a> は上記の通りですが、<cite><a href="https://cosmic.mearie.org/2005/03/bmsguide/" class="external" rel="external" hreflang="ko" title="TokigunStudio: Guide to understand BMS format">Guide to understand BMS format</a></cite> が解説する MGQ 仕様はもっと複雑です。</p>
  <p>MGQ.exe を持たない私は、これらの解説の妥当性を検証できません。</p>
  <p>すくなくとも、ruvit と <ins datetime="2013-03-12T18:00:00+09:00" class="red"><time datetime="2013-03-10T01:54:46+09:00">2013年3月10日</time>版以前の</ins> Angolmois の両方で同一の解析結果を得るために、私たちは次のように記述しなければなりません。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNTYPE&nbsp;2
#00151:00<mark>222222</mark>
#00251:<mark>22</mark>
#00351:<mark>22</mark>
<mark>...</mark>
#06351:<mark>22</mark>
#06451:<mark>2222222222</mark>00
#06551:<mark>00</mark>
#06511:0011</code></pre></td>
     <td>
      <p><strong class="red">宣言は省略できません。</strong></p>
      <p>LN の開始 &amp; LN の持続。 <strong class="red">すべて同じインデックスでなければなりません。</strong></p>
      <p>LN の継続シンボルは省略できません。</p>
      <p>LN の継続シンボルは省略できません。</p>
      <p>LN の継続シンボルは省略できません...</p>
      <p>LN の継続シンボルは省略できません...</p>
      <p>最後のインデックスも最初のインデックスと同一でなければなりません。</p>
      <p>明示的な終点シンボル <code>00</code> (省略可能)</p>
      <p>« RDM/ruvit のバグ回避用 ... 各レーンの最後のオブジェを MGQ-LN にしない</p>
     </td>
    </tr>
   </tbody>
  </table></dd>
 <dd><ins datetime="2013-03-12T18:00:00+09:00"><time datetime="2013-03-10T01:54:46+09:00">2013年3月10日</time>版以降の Angolmois は、異なるインデックスの連続であっても ruvit と同一の解析結果が得られるように変更されています。</ins></dd>
</dl>
</section>



<section id="LNOBJ">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#LNOBJ">#LNOBJ&nbsp;<var>xx</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-29</code></td></tr>
  <tr><th scope="row">origin:</th><td>RDM</td></tr>
  <tr>
   <th scope="row">support:</th>
   <td><p>RDM (1.61+), nazo, nazoZZ, <del>WAview</del> <ins>(buggy)</ins>, <del>in_bm2</del> <ins>(buggy)</ins>, bme2wav,</p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, uBMplay, PMSee-V, bmx2wav, iBMSC (3.0+), Angolmois, Sonorous, TechnicalGroove</p></td>
  </tr>
  <tr><th scope="row">sound or not:</th><td>bmx2wav (設定から挙動を変更可能)</td></tr>
  <tr><th scope="row">sound as BGM:</th><td>RDM (1.61+), ruvit, <del datetime="2013-08-01T06:00:00+09:00">Angolmois (オートプレイ時のみ) ?,</del> </td></tr>
  <tr><th scope="row">sound as KEY:</th><td>TechnicalGroove (Keyup sounding)</td></tr>
  <tr><th scope="row">multiple <code>#LNOBJ</code>:</th><td>TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>このコマンドが記述される場合、RDM-type #2 の LN が適用されます。</li>
 <li><code>#WAV</code> のインデックスのうちの1つを XX に指定します。 任意の <code>#WAV</code> インデックスは LN 終了マークとして使われます。</li>
 <li><code>#WAV</code> インデックスの 1 つを消費することで、通常の <code>#xxx11-29</code> と区別することなく LN を編集できます。</li>
 <li>したがって、BMSC 以外のエディタが存在しなかった時代に、<code>#LNOBJ</code> は頻繁に使用されました。</li>
 <li>BMSE のバグを回避するために、このコマンドは今もまだ頻繁に使用されています。
  (<code>#xxx51-69</code> の LN を BGM に移動すると BMSE が落ちるバグ)</li>
 <li><p><code>#LNOBJ</code> をサポートしない実装では、LN は通常の <code>#xxx11-29</code> のオブジェになります。</p>
  <ul>
   <li>ノーターの意図に反する譜面にならないようにするために、拡張子を BML に変更することが推奨されます。</li>
   <li><p><code>#LNOBJ</code> をサポートしない実装が拡張子 BML をサポートすることは、厳密にいえば間違いです。</p>
    <ul>
     <li><code>#xxx51-69</code> はサポートするが、<code>#LNOBJ</code> をサポートしないので、拡張子 BML をサポートしない実装: DDR</li>
     <li><code>#LNOBJ</code> をサポートしないが、拡張子 BML はサポートする、緩いグループ: WAview, in_bm2, IIDXv, HDX, <del>iBMSC,</del> O2play</li>
    </ul></li>
   <li>BMSE は <code>#LNOBJ</code> を明示的にはサポートしませんが、<code>#LNOBJ</code> は「拡張命令」タブ内で編集することができます。</li>
  </ul></li>
 <li><code>#LNOBJ</code> において、nanasi と fgt++ は小文字の <code>#WAV</code> インデックスを認識しないバグを持つため、大文字で指定するほうがよいでしょう。</li>
</ul>

<dl>
 <dt>details:</dt>
 <dd>
  <p><code>#LNOBJ</code> は、RDM-type #1 のシンタックスシュガーであり、<b class="u">RDM-type #2 LN</b> です。</p>
  <p><code>#LNOBJ</code> に定義された <code>#WAV</code> インデックスのノートは、LN の終了マーク (閉鎖シンボル) として使用されます。</p>
  <p>終了マークが見つかる場合、その前の可視オブジェクトは LN 始点として解釈されます。</p>
  <p><code>#LNOBJ</code> を使用する譜面は、<code>#LNTYPE</code> 宣言を必要としません。</p>
  <p>終了マークが判定ラインを通過するとき、
   <b class="red"><code>#LNOBJ</code> として定義された <code>#WAV</code> インデックスのファイルは、BGM として鳴らされます。</b></p>
  <ul>
   <li>これは RDM 仕様に準拠する振る舞いですが、終了マークを鳴らさない実装 <del>も存在します</del> が殆どです。</li>
   <li>「空の <code>#WAV</code>」のインデックスを <code>#LNOBJ</code> に定義すれば、互換性は保たれるでしょう。</li>
  </ul>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNOBJ&nbsp;ZZ
#00111:00<mark>220000</mark>
#06411:<mark>0000000000</mark>zz</code></pre></td>
     <td>
      <p>nanasi と fgt++ のバグを回避するため、<code>#WAV</code> インデックスを大文字で指定しています。</p>
      <p>この例は、<code>#LNTYPE&nbsp;1</code> の例と同じ譜面を表現しています。</p>
      <p>しかしながら、<code>#WAVzz</code> にファイルが定義されている場合、終了マークは鳴らされるかもしれません。 (実装依存)</p>
     </td>
    </tr>
   </tbody>
  </table>
 </dd>
</dl>

<section id="KEYUP-SOUNDING-AT-LNOBJ" itemscope="itemscope">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-LNOBJ">LN 終端で別の音を鳴らす (<code>#LNOBJ</code>)</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-29</code></td></tr>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td>TechnicalGroove</td></tr>
 </tbody>
</table>
<ul>
 <li><p><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">HDX 拡張</a> の <code>#LNOBJ</code> 実装です。 例:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#WAVaa&nbsp;onkeydown1.wav
#WAVbb&nbsp;onkeyup1.wav
#WAVcc&nbsp;onkeydown2.wav
#WAVdd&nbsp;onkeyup2.wav
#LNOBJ&nbsp;BB
#LNOBJ&nbsp;DD
#00111:00<mark>aa00</mark>bb
#00213:00<mark>cc00</mark>dd</code></pre></td>
     <td><p>LN 始端用の音 (1)</p>
      <p>LN 終端用の音 (1)</p>
      <p>LN 始端用の音 (2)</p>
      <p>LN 終端用の音 (2)</p>
      <p>LN 終端の定義 (1)</p>
      <p>LN 終端の定義 (2) (<strong class="red">multiple LNOBJ</strong>)</p>
      <p>LN 始端では onkeydown1.wav が再生され、LN 終端では onkeyup1.wav が再生されます。</p>
      <p>LN 始端では onkeydown2.wav が再生され、LN 終端では onkeyup2.wav が再生されます。</p></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#KEYUP-SOUNDING-AT-LNOBJ -->
</section>

<!-- /#LNOBJ -->
</section>



<section id="OCT-FP" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OCT-FP">#OCT/FP</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (, BMSE, Angolmois, Sonorous), uBMplay (1.5.0+), TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>このコマンドが書かれた BMS は、OCTAVE MODE として解釈されます。</li>
 <li>このコマンドは値を持ちません。</li>
</ul>

<dl>
 <dt>OCT/FP とは: <a title="idee&#39;s page" class="external" rel="external nofollow" hreflang="ja" href="https://web.archive.org/web/*/http://www.diana.dti.ne.jp/~idee/octave.html"><span itemprop="url">https://web.archive.org/web/*/http://www.diana.dti.ne.jp/~idee/octave.html</span></a></dt>
 <dd>
  <p>OCT/FP は、オクターブモード / フットペダルモードです。 このフォーマットは 2002年 (2003年?) に <span itemprop="name">idee</span> によって提案されました。</p>
  <p>オクターブモードは、13 のキーと 2 つのターンテーブルを使用します。 オプションとして、1 つのフットペダルを使用できます。</p>
  <p>これは、14KEYS (「7KEYS と 1 つのターンテーブル」のダブルプレイ) の外観を変更したモードです。</p>
  <p>このモードが使用するチャンネルは、完全に 14KEYS と同じです。</p>
  <p>このフォーマットは、外観を柔軟に変更できる nazo を使用して、14KEYS を擬似 OCT/FP として表現します。</p>
  <p>このフォーマットの考え方は、<cite>Project2DX</cite> に似ています。</p>
  <p>BMSEは、テーマ・ファイルという方法によって、OCT/FP の譜面の編集をサポートしています。</p>
 </dd>
</dl>

<ul class="noMarginTop">
 <li>nanasi は 14KEYS と OCT/FP を区別できません。 なぜなら nanasi は使用されたチャンネルからモードを推測するからです。</li>
 <li>したがって、nanasi は識別子としてこの <code>#OCT/FP</code> コマンドを必要とします。</li>
 <li>このコマンドが見つかる場合、nanasi は常に OCT/FP として BMS をレンダリングします。</li>
 <li><p>nanasi <ins datetime="2013-07-03T12:00:00+09:00">と uBMplay 1.5.0+</ins> <ins datetime="2013-07-30T22:00:00+09:00">と TechnicalGroove</ins>
  以外のアプリケーションは、このコマンドを無視します。</p>
  <ul>
   <li>BMSE は <code>#OCT/FP</code> コマンドを「拡張命令」タブに分離します。</li>
   <li><p>BMSE のテーマファイルは手動で変更する必要があります。 その手順は:</p>
    <ol>
     <li>BMSE ウィンドウの右上の 「基本」タブを選択します。</li>
     <li>プルダウンメニュー <code class="DBCS">プレイモード</code> を選択します。</li>
     <li>メニュー項目「13 keys (oct/fp)」を選択します。</li>
     <li><ins datetime="2013-08-01T18:00:00+09:00">メニューバー項目「設定(<u>O</u>)」を選択します。</ins></li>
     <li><ins datetime="2013-08-01T18:00:00+09:00">子メニュー項目「Select <u>T</u>heme」を選択します。</ins></li>
     <li><ins datetime="2013-08-01T18:00:00+09:00">孫メニュー項目「<u>D</u>efault (for oct/fp)」を選択します。</ins></li>
    </ol></li>
   <li><p>Angolmois はコマンドライン引数によって OCT/FP のレンダリングを適用できます。
     (<code>--key-spec '<var>Leftside string</var>' '<var>Rightside string</var>'</code>)</p>
    <p>例: <code>$ angolmois.exe --key-spec '21p 16s 11a 12b 13a 14b 15a 18b 19a 22b 23a 24b 25a 28b 29a 26s' ''</code></p></li>
   <li><ins datetime="2013-08-01T18:00:00+09:00">Sonorous は <code>#LANES</code> 独自拡張命令によって OCT/FP のレンダリングを適用できるかもしれません。</ins></li>
   <li><del datetime="2014-06-10T20:00:00+09:00"><ins datetime="2013-08-01T18:00:00+09:00">TechnicalGroove は独自モード「9KEYS/FP」を適用します (もしレーン 6・7 が未使用なら)。</ins></del></li>
  </ul></li>
 <li>OCT/FP の譜面は、近年ほとんど見られません。
  <ins datetime="2013-07-01T18:00:00+09:00">( e.g. <cite><a title="bms同窓会 No.29 - Microcosm" class="external" rel="external" hreflang="ja" href="http://bit192.ddns.net/temp/newevent/detail.php?num=29">Microcosm</a></cite>
   from <a href="http://bit192.ddns.net/temp/newevent/" class="external" rel="external" hreflang="ja" lang="ja" xml:lang="ja" title="bms同窓会(仮)">bms同窓会(仮)</a><!--
   (cite)(a title="bms&#x540C;&#x7A93;&#x4F1A; No.29 - Microcosm" class="external" rel="external"
    hreflang="ja" href="http://bmsd_bmsec.bit192.ath.cx/detail.php?num=29")Microcosm(/a)(/cite)
   from (a href="http://bmsd_bmsec.bit192.ath.cx/" class="external" rel="external" hreflang="ja" lang="ja" xml:lang="ja"
    title="bms&#x540C;&#x7A93;&#x4F1A;(&#x4EEE;)")bms&#x540C;&#x7A93;&#x4F1A;(&#x4EEE;)(/a) --> )</ins></li>
</ul>
</section>



<section id="OPTION">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#OPTION">#OPTION&nbsp;<var>optionID</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, HDX (v0.99+), IIDXv (v2.14+), Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BMS 側で定義したプレイオプションが、プレイヤー側に強制的に適用されます。</li>
 <li>通常のコマンドが重複する場合は、「行番号が最も大きい行」が採用されますが、<code>#OPTION</code> は重複可能です (部分的に)。</li>
 <li><p>他のアプリケーションがこのコマンドをサポートする可能性に備えて、ベンダー接頭辞を付けることが推奨されます。</p>
  <!-- nanasi は (code)774:(/code) です。-->
  <table>
   <thead><tr><th scope="col">機種</th><th scope="col">接頭辞</th></tr></thead>
   <tbody>
    <tr><td>nanasi</td><td><code>774:</code></td></tr>
    <tr><td>HDX, IIDXv</td><td><code>charatbeatHDX:</code></td></tr>
    <tr><td><del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove</del></td><td><del datetime="2014-06-10T20:00:00+09:00">none</del></td></tr>
   </tbody>
  </table>
  <p><del datetime="2014-06-10T20:00:00+09:00">註:
   TechnicalGroove はベンダー接頭辞を無視し、使用できるオプションのみを適用します。</del></p></li>
 <li>もし BMS フォーマットの仕様が標準化されれば、ベンダー接頭辞のない <code><var>optionID</var></code> もサポートされるかもしれません。</li>
 <li><p>複数の <code>#OPTION</code> を記述できるので、次の例のような指定を行なうことができます:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#OPTION&nbsp;774:HI-SPEED_x99.75
#OPTION&nbsp;774:HI-SPEED_x0.77
#OPTION&nbsp;774:CHANGE-HS_RANDOM
#OPTION&nbsp;774:CHANGE-HS_COMBO-UP
#OPTION&nbsp;774:HIDDEN_DEEPMIST
#OPTION&nbsp;774:HIDDEN_OFF
#OPTION&nbsp;774:RANDOM_ALL+
#OPTION&nbsp;774:RANDOM_MIRROR
#OPTION&nbsp;774:NOTES_DOUBLE
#OPTION&nbsp;774:NOTES_DBLCOPY
#OPTION&nbsp;774:CRAZY_STAR
#OPTION&nbsp;774:CRAZY_SPIN
#OPTION&nbsp;774:CRAZY_CLONE
#OPTION&nbsp;774:CRAZY_GREAT2BAD
#OPTION&nbsp;774:CRAZY_XYWAVE2
#OPTION&nbsp;774:CRAZY_3DWAVE
#OPTION&nbsp;774:CRAZY_DARK2
#OPTION&nbsp;774:CRAZY_FADEOUT
#OPTION&nbsp;774:CRAZY_RD-SIZE
#OPTION&nbsp;774:CRAZY_ADDMINE
#OPTION&nbsp;774:AUTOPLAY_LINE</code></pre></td>
     <td id="REMARKS-OF-OPTION">
      <pre><span class="DBCS">同系列のオプションが重複する場合、<abbr title="End Of File">EOF</abbr> に最も近い行が優先されます。</span>
<code>x99.75</code> <span class="DBCS">ではなく</span> <code>x0.77</code> <span class="DBCS">が適用されます。</span> <code>x0.77</code> <span class="DBCS">は BMS 側からのみ適用可能な値です。</span>

<code>RANDOM</code> <span class="DBCS">ではなく</span> <code>COMBO-UP</code> <span class="DBCS">が適用されます。 (これらは同系列なので)</span>

<code>DEEPMIST</code> <span class="DBCS">ではなく</span> <code>OFF</code> <span class="DBCS">が適用されます。</span> <code>OFF</code> <span class="DBCS">は、オプションの適用をキャンセルします。</span>

<code>ALL+</code> <span class="DBCS">ではなく</span> <code>MIRROR</code> <span class="DBCS">が適用されます。 (これらは同系列なので)</span>

<code>DOUBLE</code> <span class="DBCS">ではなく</span> <code>DBLCOPY</code> <span class="DBCS">が適用されます。</span> <code>NOTES</code> <span class="DBCS">系は</span> <code>#CHANGEOPTION</code> <span class="DBCS">では使えません。</span>
<code>CRAZY</code> <span class="DBCS">系列は、複数のオプションを適用することができます。</span>
<span class="DBCS">通常のプレイでは、1 つのオプションしか適用できません。</span>
<code>#OPTION</code> <span class="DBCS">を指定することによってのみ、</span> <code>CRAZY</code> <span class="DBCS">オプションを複数同時に適用できます。</span>





<code>CRAZY</code> <span class="DBCS">系列では、</span>
<span class="DBCS">「判定に作用するオプション」と </span> <code>ADDMINE</code> <span class="DBCS">は</span> <code>#CHANGEOPTION</code> <span class="DBCS">では使えません。</span>
<code>AUTOPLAY</code> <span class="DBCS">系列は、</span><code>#OPTION</code> <span class="DBCS">と</span> <code>#CHANGEOPTION</code> <span class="DBCS">では無効です。(つまりこの行は無効です)</span></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <p>この例において、合計で <b class="red">14 のオプション</b> が強制的に適用されます。</p></li>
 <li><p>nanasi と pomu2 では、実装されたオプションの探索が、メタゲームとして用意されています。</p>
  <ul>
   <li>隠しオプションは、トライアル・モードにおける成功報酬としてリリースされます。</li>
   <li>BMS 側からオプションを強要するゲーム性が受け入れられるなら、それはリズムゲームの難易度の単線的な方向性に一石を投じるかもしれません。</li>
  </ul></li>
</ul>
</section>



<section id="CHANGEOPTIONXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANGEOPTIONXX">#CHANGEOPTION<var>[01-ZZ]</var>&nbsp;<var>optionID</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxxA6</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi 1.550</td></tr>
  <tr><th scope="row">support:</th><td>nanasi 1.550+, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>プレイオプションを、BMS 側から動的に変更します。</li>
 <li><ins datetime="2013-05-07T12:00:00+09:00">動的オプション変更チャンネルは、複数のオプションを同時に変更可能にするために、BGM
  チャンネルと同じ性質を持ちます。(複数行)</ins></li>
 <li><p>いくつかのオプションは、動的な変更を適用することができません。</p>
  <ul>
   <li><code>HI-SPEED</code>, <code>CHANGE-HS</code>, <code>HIDDEN</code>, および <code>CRAZY</code> の各シリーズは、そのほとんどを使用することができます。</li>
   <li><code>GAMELEVEL</code>, <code>BASE-SPEED</code>, <code>RANDOM</code>, <code>NOTES</code>, <code>EXTRA</code>,
    および <code>AUTOPLAY</code> の各シリーズは、使用することができません。</li>
   <li><code>CRAZY</code> シリーズでは、<code>GOOD2BAD</code>, <code>GREAT2BAD</code>, <code>HELLJUDGE</code>,
    および <code>ADDMINE</code> は使用することができません。</li>
   <li><code>CRAZY</code> シリーズは、複数のオプションを適用することができます。</li>
  </ul>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#changeoption01&nbsp;774:HIDDEN_STEALTH
#changeoption02&nbsp;774:HIDDEN_OFF
#changeoption03&nbsp;774:HI-SPEED_x0.25
#032a6:00000001
#034a6:02
#034a6:03</code></pre>
     </td>
     <td>
      <p>この例において、<code>#032</code> の 4 拍目で、ノートは全く表示されない状態になるでしょう。</p>
      <p><code>#034</code> に達した瞬間、STEALTH 状態は解除され、ノートは再び表示されるでしょう
       (圧縮された形で)。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>nanasi の <code><var>optionID</var></code> について: [詳細は <a href="https://hitkey.nekokan.dyndns.info/option.htm">option.htm</a> を参照]</p>
  <table>
   <thead><tr><th scope="col">category</th><th scope="col">1.500 以前</th><th scope="col">1.500 以降</th></tr></thead>
   <tbody>
    <tr><td><code>GAMELEVEL</code></td><td><code>774:GTP-EASY</code></td><td><code>774:GAMELEVEL_BEGINNER</code></td></tr>
    <tr><td><code>HI-SPEED</code></td><td><code>774:HSP-1.0</code></td><td><code>774:HI-SPEED_x1.00</code></td></tr>
    <tr><td><code>CHANGE-HS</code></td><td><code>774:HSP-COMBO</code></td><td><code>774:CHANGE-HS_COMBO-UP</code></td></tr>
    <tr><td><code>HIDDEN</code></td><td><code>774:HID-STEALTH</code></td><td><code>774:HIDDEN_STEALTH</code></td></tr>
    <tr><td><code>RANDOM</code></td><td><code>774:RND-MIRROR</code></td><td><code>774:RANDOM_MIRROR</code></td></tr>
    <tr><td><code>NOTES</code></td><td><code>774:CRA-CPDOUBLE</code></td><td><code>774:NOTES_COPY</code></td></tr>
    <tr><td><code>CRAZY</code></td><td><code>774:CRA-NORMAL</code></td><td><code>774:CRAZY_OFF</code></td></tr>
    <tr><td><code>EXTRA</code></td><td><code>774:GLV-VERYHARD</code></td><td><code>774:EXTRA_VERYHARD</code></td></tr>
   </tbody>
  </table>
  <ul>
   <li>オプションを解除するコマンドは、<code>NORMAL</code> から <code>OFF</code> に変更されました。</li>
   <li>nanasi 1.552 は、旧 <code><var>optionID</var></code> と新 <code><var>optionID</var></code> の両方をサポートしています。</li>
   <li><ins datetime="2013-09-18T07:00:00+09:00">ただし、<strong class="red"><code>#CHANGEOPTION</code>
    は古い <code><var>optionID</var></code> を無視します。</strong></ins></li>
  </ul></li>
</ul>
</section>



<section id="WAVXX" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX">#WAV<var>[00-ZZ]</var>&nbsp;<var>soundfilename</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx01</code></td><td>BGM (複数行)</td><td>ほぼすべて</td></tr>
  <tr><td><code>#xxx11-19</code></td><td>1P Visible Note</td><td>ほとんど (<code>17</code> から <code>19</code> は部分的に)</td></tr>
  <tr><td><code>#xxx21-29</code></td><td>2P Visible Note</td><td>ほとんど (<code>27</code> から <code>29</code> は部分的に)</td></tr>
  <tr><td><code>#xxx31-39</code></td><td>1P Invisible Note</td><td>ほとんど (<code>37</code> から <code>39</code> は部分的に)</td></tr>
  <tr><td><code>#xxx41-49</code></td><td>2P Invisible Note</td><td>ほとんど (<code>47</code> から <code>49</code> は部分的に)</td></tr>
  <tr>
   <td><code>#xxx51-59</code></td>
   <td>1P Long Note</td>
   <td><p>RDM, DDR (Arrow mode only), nazo, nazoZZ, WAview, in_BM2, bme2wav, o2mania, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins></p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, iBMSC, uBMplay, PMSee-V, bmx2wav, o2play, IIDXv, HDX, Angolmois, Sonorous, TechnicalGroove, diff</p>
    <p>(<code>57</code> は部分的に)</p></td>
  </tr>
  <tr>
   <td><code>#xxx61-69</code></td>
   <td>2P Long Note</td>
   <td><p>RDM, DDR (Arrow mode only), nazo, nazoZZ, WAview, in_BM2, bme2wav, o2mania, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins></p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, iBMSC, uBMplay, PMSee-V, bmx2wav, o2play, IIDXv, HDX, Angolmois, Sonorous, TechnicalGroove, diff</p>
    <p>(<code>67</code> は部分的に)</p></td>
  </tr>
  <tr><td><code>#xxx97</code></td><td>BGM volume</td><td>forgetalia</td></tr>
  <tr><td><code>#xxx98</code></td><td>KEY volume</td><td>forgetalia</td></tr>
  <tr><td><code>#xxxD1-D9</code></td><td>1P 地雷</td>
   <td><p>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+), Sonorous, TechnicalGroove</p>
    <p>(<code>D7</code> は部分的に)</p></td></tr>
  <tr><td><code>#xxxE1-E9</code></td><td>2P 地雷</td>
   <td><p>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+), Sonorous, TechnicalGroove</p>
    <p>(<code>E7</code> は部分的に)</p></td></tr>
  <tr><td><code>#xxx10</code></td><td class="N">予約チャンネル</td><td>pomu2, Angolmois (<code>--key-spec</code> で指定されれば Visible Note, でなければ BGM),
   Sonorous(?), TechnicalGroove(?)</td></tr>
  <tr><td><code>#xxx1A-1Z</code></td><td class="N">1P Visible Ex</td><td><p>pomu2, BMS List Sorter, bme2wav, bmx2wav, Angolmois (<code>--key-spec</code>),
    Sonorous(?), TechnicalGroove</p>
   <p>BGM として: {BM98, BMSV, nBMplay, PMSee-V}(<code>1A-1F</code>), BM98de, DDR, MW, MW2, RDM, ruvit, nazoZZ</p></td></tr>
  <tr><td><code>#xxx20</code></td><td class="N">予約チャンネル</td><td>pomu2, Angolmois (<code>--key-spec</code> で指定されれば Visible Note, でなければ BGM),
   Sonorous(?), TechnicalGroove(?)</td></tr>
  <tr><td><code>#xxx2A-2Z</code></td><td class="N">2P Visible Ex</td><td>pomu2, BMS List Sorter, bme2wav, bmx2wav, Angolmois (<code>--key-spec</code>),
   Sonorous(?), TechnicalGroove</td></tr>
  <tr><td><code>#xxx30-6Z</code></td><td class="N">Inv / LN Ex</td><td>上記の拡張サポート状況に倣う</td></tr>
  <tr><td><code>#xxxD0-EZ</code></td><td class="N">Landmine Ex</td><td>Angolmois (<code>--key-spec</code>), Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>
<table>
 <thead><tr><th scope="col">index range:</th><th scope="col">origin</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>[01-FF]</code>&nbsp;(255)</td><td>BM98</td><td>BM98, otama, nBMplay, BMSC, BMSV, bmse.kpi</td></tr>
  <tr><td><code>[01-FZ]</code>&nbsp;(575)</td><td>BM98de</td><td>BM98de, DDR, RDM, MW, nazo, BMEV, bms2wav, BMSprinter</td></tr>
  <tr><td><code>[01-SF]</code>&nbsp;(1023)</td><td>PMSee-V</td><td><del datetime="2013-01-16T22:00:00+09:00">PMSee-V,</del> SMB</td></tr>
  <tr><td><code>[01-ZZ]</code>&nbsp;(1295)</td><td>bemaniaDX</td>
   <td><p>bemaniaDX, Mac, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins> GALLI, WAview, in_bm2, bme2wav, nazoZZ, DXEmu, o2play, O2mania,</p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, uBMplay, IIDXv, HDX, PMSee-V (v2.1.0+), Angolmois, Sonorous, TechnicalGroove,</p>
    <p>GDAC2, BMSE, iBMSC, bmx2wav, woslicerII, woslicerIII, diff</p></td>
  </tr>
  <tr><td><code>00</code>&nbsp;(地雷)</td><td>nanasi</td>
   <td>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+), Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul>
 <li>音声ファイルの定義。 <strong class="red">WAV</strong> ファイルはほぼ確実にサポートされています。</li>
 <li>どのファイルタイプがサポートされるかは実装依存です。</li>
 <li><code>#WAVxx</code> は省略可能ですが、省略時は音は鳴りません。</li>
 <li><p>単一のファイルを複数のスロットに定義できます。 <strong class="red">多重定義</strong> はとても重要なテクニックです。</p>
  <table>
   <tbody>
    <tr>
     <td><pre><code>#WAV<mark>01</mark>&nbsp;aaa.wav
#WAV<mark>02</mark>&nbsp;aaa.wav
#WAV<mark>03</mark>&nbsp;aaa.wav
#WAV<mark>04</mark>&nbsp;aaa.wav</code></pre></td>
     <td>4 つのスロットに aaa.wav を定義した例。</td>
    </tr>
   </tbody>
  </table></li>
</ul>

<section id="WAVXX-MULTIPLEX-DEFINITION">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-MULTIPLEX-DEFINITION">多重定義</a></h4>

<ul>
 <li><p><strong>通常、<code>#WAV</code> の同時発音数は 1 です。</strong>
  しかし、<strong class="red">複数の <code>#WAV</code> インデックスをネストすれば、同時発音数は増加します。</strong></p>
  <table>
   <thead><tr><th scope="col">image</th><th scope="col">code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><img src="content/bmse_material_multidef4.png" alt="not_multidef_1" width="133" height="206"></td>
     <td><pre><code>#00101:<mark>01</mark>
#00101:<mark>01</mark>
#00101:<mark>01</mark>
#00101:<mark>01</mark></code></pre></td>
     <td>この例で実際に鳴らされる aaa.wav は 1 個です。</td>
    </tr>
    <tr>
     <td><img src="content/bmse_material_multidef1.png" alt="not_multidef_2" width="133" height="206"></td>
     <td><pre><code>#00111:<mark>01</mark>00000000000000
#00112:00<mark>01</mark>000000000000
#00113:0000<mark>01</mark>0000000000
#00114:000000<mark>01</mark>00000000</code></pre></td>
     <td><p>この例では、次の aaa.wav が鳴らされるとき、前の aaa.wav の発音は常に中断されます。</p>
      <p>音が中断されるとき、余計なノイズが発生するかもしれません。</p></td>
    </tr>
    <tr>
     <td>
      <img src="content/bmse_material_multidef5.png" alt="multidef_1" width="133" height="206"></td>
     <td><pre><code>#00101:<mark>01</mark>
#00101:<mark>02</mark>
#00101:<mark>03</mark>
#00101:<mark>04</mark></code></pre></td>
     <td><p>この例で実際に鳴らされる aaa.wav は 4 個です。</p>
      <p>つまり、aaa.wav のボリュームは 4 倍になります。</p></td>
    </tr>
    <tr>
     <td><img src="content/bmse_material_multidef2.png" alt="multidef_2" width="133" height="206"></td>
     <td><pre><code>#00111:<mark>01</mark>00000000000000
#00112:00<mark>02</mark>000000000000
#00113:0000<mark>03</mark>0000000000
#00114:000000<mark>04</mark>00000000</code></pre></td>
     <td>aaa.wav の音は中断されません。</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>実用的な例:</p>
  <table>
   <thead><tr><th scope="col">1</th><th scope="col">2</th><th scope="col">3</th><th scope="col">4</th><th scope="col">5</th></tr></thead>
   <tbody>
    <tr>
     <td><img src="content/bmse_material_multidef8.png" alt="multidef_for_tremolo" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidef9.png" alt="multidef_for_preventNoise" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidefa.png" alt="multidef_for_prolong" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidefb.png" alt="multidef_for_turnUpVol" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidef7.png" alt="not_multidef" width="43" height="206"></td>
    </tr>
   </tbody>
  </table>
  <ol>
   <li>トレモロ中などの「故意でないノイズ」の生成を防ぐために。静かな音楽では、これは不可欠の技術です。</li>
   <li>タイミングを誤ったプレイによるノイズを生成しないために。深いリバーブが適用されたバスドラムなどで有効です。</li>
   <li><p>短い音を擬似長音として鳴らすために。アーカイブのサイズを縮小できるかもしれません。</p>
    <p>ただし、可視オブジェクトに対しては本物の長音を使うべきです。擬似長音が途中で鳴り止むと、プレイヤーはがっかりするからです。</p></li>
   <li>ボリューム増大のために。 ただし、この方法を用いる場合、私たちは音割れに注意しなければなりません。</li>
   <li>あえて <b>非多重定義</b> を用いる方法。 For example:
    <q><a class="external" rel="external" title="Kamen Rider Decade Rider Kick - YouTube" href="https://www.youtube.com/watch?v=9xEdEV5_QhE">FINAL ATTACK RIDE <mark>D-D-D-</mark>DECADE</a></q> // wow, scratchy.</li>
  </ol></li>
</ul>
</section>

<section id="WAVXX-ABOUT-WAV">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ABOUT-WAV">WAV&nbsp;について:</a></h4>
<ul>
 <li>WAV ファイルの量子化ビットレートは、PCM 8/16/24bit および IEEE Float 16/32bit が、BMS 中で使用された例があります。大部分は PCM 16 ビットです。</li>
 <li><p>WAV ファイルのサンプリング周波数は、8000 から 48000 Hz が、BMS 中で使用された例があります。大部分は 11025/22050/44100Hz です。</p>
  <ul>
   <li><cite lang="ja" xml:lang="ja" class="DBCS">オートメーション工場</cite>
   (automation factory, <span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)
     は、8000 / 11025 / 12000 / 13275 / 16000 / 22050 / 24000 / 44100 Hz の WAV をすべて使用します。</li>
   <li>Angolmois は、11025/22050/44100Hz でないサンプリング周波数を正確に再生することができません。 これは SDL_mixer の制限です。</li>
  </ul></li>
 <li><p>使用できる wav の長さを制限した実装があります。</p>
  <ul>
   <li>LR2 は、「60 秒より長い音声ファイルが定義された譜面」がインターネット・ランキングへ登録されることを禁止します。</li>
   <li>更に LR2 には、BMS を MP3 に変換する機能があります。 しかし BMS が 60 秒より長い wav を含んでいる場合、LR2 はこの機能を禁止します。</li>
   <li>これらは著作権に違反する BMS への対抗策です。(商用タイトルのデータのクラッキングなど)</li>
   <li>したがって、LR2 ユーザの暗黙的な習慣として、<strong class="red">60 秒より長い音声ファイルはもはやめったに使用されません。</strong></li>
  </ul></li>
 <li><p>uBMplay は、約 65500KB よりファイル・サイズが大きい wav を鳴らさないようです。</p>
  <ul>
   <li>(それが 44100Hz 16bit stereo である場合、65500KB は約 10 分間の長さに相当します。)</li>
   <li>これはたぶん、プログラミング言語の制限です。</li>
  </ul></li>
 <li><p>BMS が常に正常な WAV を使用するとは限りません。</p>
  <ul>
   <li><code>&lt;fmt &gt;</code> チャンク以外のメタ情報 (たとえば Loop タグ) が、ヘッダやフッタに過剰に付加されている WAV</li>
   <li>古いバージョンの woslicerII など、特定の波形スライサーソフトウェアが出力することがある、<strong class="red"><code>&lt;data&gt;</code> チャンクが 0 Byte</strong> の WAV</li>
   <li>リニア PCM でない RIFF WAV (前述の <i>IEEE Float</i> 型や、後述の <i>mu-law</i> など)</li>
  </ul>
  <p>寛容なソフトウェアは、これらを鳴らすことができるかもしれません。 しかしエラーを返すソフトウェアも存在します。</p></li>
</ul>
</section>

<section id="WAVXX-ABOUT-OGG">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ABOUT-OGG">OGG&nbsp;について:</a></h4>
<ul>
 <li><p>モダンな実装は <strong class="red">OGG</strong> をサポートしています。
  (<a class="external" rel="external" hreflang="en" title="Ogg - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Ogg"><span itemprop="url">https://en.wikipedia.org/wiki/Ogg</span></a>)</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR?</td></tr>
    <tr><th scope="row">support:</th><td>DDR, LR2, nanasi, ruvit, fgt++, fgt#, pomu2, nazoZZ, iBMSC, uBMplay, PMSee-V, o2play, bmx2wav,
     IIDXv(註), HDX<del datetime="2013-08-01T18:00:00+09:00">(註)</del>, Angolmois, Sonorous, TechnicalGroove, woslicerII, woslicerIII</td></tr>
   </tbody>
  </table>
  <ul>
   <li>註: (IIDXv はデフォルトで<del datetime="2013-08-01T18:00:00+09:00">、HDX は設定を変更することで、</del>)
    デコード後の WAV をキャッシュします。ディスクの空き容量に注意してください。</li>
   <li><ins datetime="2013-08-01T18:00:00+09:00">[HDX v1.00 以降] デコード済み WAV をキャッシュする設定は削除されました。</ins></li>
  </ul></li>
 <li><p>DirectShow フィルタを適用すれば、BMSE は OGG を鳴らすことができます。 (これは非公式の振る舞いです。公式上のサポートはなされません。)</p>
  <p>e.g. 次のうちのいずれかひとつ: [<a class="external" rel="external" hreflang="en" title="Codecs.com | Downloads for RadLight Ogg Media DirectShow filter 1.0.0.2" href="http://www.free-codecs.com/radlight_ogg_media_directshow_filter_download.htm">RadLight Ogg Media DirectShow filters</a>] or
   <!-- Free-Codecs.com :: Download RadLight Ogg Media DirectShow filter 1.0.0.2
    : RadLight Ogg Media DirectShow filter suite enables playback of Ogg and OGM files
     http://www.free-codecs.com/RadLight_Ogg_Media_DirectShow_filter_download.htm -->
   [<a class="external" rel="external" hreflang="en" title="Directshow Filters for Ogg Vorbis, Speex, Theora and FLAC: Home" href="http://www.xiph.org/dshow/">Open Codecs</a>]<!-- or
   [(a class="external" rel="external" hreflang="en" title="Index of /authors/VA022257/ogm"
    href="http://hp.vector.co.jp/authors/VA022257/ogm/")OggDS(/a)] --></p></li>
 <li>OGG は、高品質の音声を手頃なサイズでやりとりできる、非常に便利なフォーマットです。</li>
 <li>しかしながら、プレイ時に OGG をデコードする必要があるので、WAV と比較すると非常に多くのメモリが必要になるのが難点です。</li>
 <li>この理由から、自分の手で OGG をすべて WAV に変換するユーザが、少なからず存在します。</li>
 <li>いくつかの実装は、非常に長い OGG を鳴らすことができないようです。(<del datetime="2013-01-18T19:00:00+09:00">PMSee-V など</del>)
  (<ins datetime="2013-01-18T19:00:00+09:00">PMSee-V 2.1.2+ 再生可能になりました</ins>)</li>
 <li>私の誤解かもしれませんが、64-bit OS 上でエンコードされた OGG は、32-bit OS 上で鳴らないかもしれません。</li>
</ul>
</section>

<section id="WAVXX-ABOUT-MINOR-FORMATS">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ABOUT-MINOR-FORMATS">マイナーなフォーマットについて:</a></h4>
<ul>
 <li><p>いくつかの実装は <strong class="red">MP3</strong> をサポートしています。 (明示的か暗黙的かはさておき)</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR?</td></tr>
    <tr><th scope="row">support:</th>
     <td><p>DDR, RDM, MW, bemaniaDX, nazo, nazoZZ, Mac, Aqua, otama, WAview, in_bm2,</p>
      <p>LR2, ruvit, pomu2, BMSE, iBMSC, uBMplay, MyO2, IIDXv(註 1), HDX<del datetime="2013-08-01T18:00:00+09:00">(註 1)</del>,
       Angolmois(註 2), Sonorous(註 2), TechnicalGroove</p></td></tr>
   </tbody>
  </table>
  <ul>
   <li>註 1: (IIDXv はデフォルトで<del datetime="2013-08-01T18:00:00+09:00">、HDX は設定を変更することで、</del>)
    デコード後の WAV をキャッシュします。ディスクの空き容量に注意してください。</li>
   <li>註 2: 環境にもよりますが、再生できる形式のレギュレーションが厳しめです。</li>
  </ul></li>
 <li>しかしながら、プレイ時に発音が少し遅れるので、MP3 の使用は避けられる傾向があります。</li>
 <li><p>いくつかの実装では、<strong class="red">MIDI</strong> ファイルを <code>#WAVxx</code> に定義することができ、鳴らすことができます。</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR?</td></tr>
    <tr><th scope="row">support:</th><td>DDR?, LR2, IIDXv, HDX, TechnicalGroove</td></tr>
    <tr><th scope="row">conditional:</th>
     <td><p>BMSE, iBMSC (もし、以下のレジストリキーに “Mid” があるなら、それは鳴るでしょう)</p>
      <p><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows&nbsp;NT\CurrentVersion\MCI&nbsp;Extensions</code></p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>しかしながら、それがハードウェアにあまりに依存し、発音が遅れるので、MIDI はほとんど使用されません。</p>
  <ul>
   <li>IIDXv は、これらの問題を回避するために、ソフトウェア側で MIDI 演奏をエミュレートします。</li>
   <li>もちろん、IIDXv はハードウェア音源もサポートしています。</li>
   <li><p>IIDXv は、ビープ音源による MIDI 演奏もサポートしていますが、<del datetime="2013-05-07T12:00:00+09:00">この機能は
    <ins>64bit</ins> Windows7 で使用することはできません。</del></p>
    <p><ins datetime="2013-05-07T12:00:00+09:00">HDX 0.99 以降、“inpout32.sys” &amp; “inpoutx64.sys”
     ドライバを同梱することによって、ビープ音源による MIDI 再生が可能になりました (管理者権限のみ)。</ins></p></li>
  </ul></li>
 <li><p>IIDXv と HDX では、MIDI が <code>#WAV</code> として定義される場合、MIDI は BGM チャンネル <code>#xxx01</code> でのみ鳴らすことができます。</p>
  <ul>
   <li>複数の MIDI-BGM オブジェクトがある場合、最初のそれが鳴らされ、他のそれは無視されます。</li>
  </ul></li>
 <li><p>これらに加えて、<strong>ADPCM, AAC, MP2, mu-Law,
  XA <small>(“<a href="http://dtxmania.net/wiki.cgi?page=qa_xa" class="external" rel="external" hreflang="ja">WAV to XA</a>”,
  <a href="http://dtxmania.net/wiki.cgi?page=qa_xa_e" class="external" rel="external" hreflang="en">解説</a>)</small>,
  FLAC, MOD (file format)</strong> などをサポートする実装が存在します。</p>
  <ul>
   <li>しかしながら、ポータビリティの問題があるので、WAV および OGG だけが実際に使用されます。</li>
  </ul></li>
</ul>
</section>

<section id="WAVXX-ALTERNATIVE-SEARCH">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-ALTERNATIVE-SEARCH">代替検索:</a></h4>

<ul>
 <li><p>モダンなアプリケーションは <strong class="red">拡張子の代替検索</strong> を実装しています。</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR</td></tr>
    <tr><th scope="row">support:</th>
     <td>bemaniaDX, DDR, in_bm2, LR2, nanasi, ruvit, fgt++, fgt#, nazoZZ, pomu2, uBMplay, PMSee-V, bmx2wav,
      IIDXv, HDX, Angolmois, Sonorous, TechnicalGroove</td></tr>
   </tbody>
  </table>
  <ol>
   <li>BMS に定義されたファイルは、まずそのままのファイル名で検索されます。</li>
   <li><p>見つからなかった場合、「定義と同じ基底名を備えた、ファイル・タイプが異なるファイル」が検索されます。</p>
    <p>この時、検索されるファイル・タイプの優先順位は実装依存です。</p></li>
   <li>もし見つかれば、そのファイルが適用されます。</li>
  </ol></li>
 <li><p>For example: <code>#WAV01&nbsp;sample.wav</code></p>
  <ul>
   <li>bemaniaDX では、ファイルは以下の順で検索されます: <code>sample.wav</code> » <code>sample.mp3</code></li>
   <li>DDR では、ファイルは以下の順で検索されます: <code>sample.wav</code> » <code>sample.mp3</code> » <code>sample.ogg</code></li>
   <li><p><del datetime="2013-08-01T18:00:00+09:00">uBMplay
     では、同じ基底名を備えたファイルが複数存在する場合、一番最初に見つかったファイルだけが適用されます。</del></p>
    <p><ins datetime="2013-08-01T18:00:00+09:00">[uBMplay 1.4.6 以前]
     <code>sample.bmp</code> が存在するなら、<code>sample.ogg</code> よりも先に <code>sample.bmp</code> がマッチしてしまいます。</ins></p>
    <p><ins datetime="2013-08-01T18:00:00+09:00">[uBMplay 1.5.0 以降] この不具合は修正されました。</ins></p></li>
   <li>LR2 では、「相対パスが定義され、指定されたディレクトリにファイルが存在しない」場合、他のディレクトリが検索されます。</li>
   <li>bmx2wav では、「<code>sample.wav</code> として定義された <code>sample.ogg</code>」は検索されますが、
    「<code>sample.ogg</code> として定義された <code>sample.wav</code>」は検索されません。</li>
   <li>[Angolmois-Rust, Sonorous]
     <code>sample.rar</code> が存在するなら、<code>sample.wav</code> よりも先に <code>sample.rar</code> がマッチしてしまいます。</li>
  </ul></li>
 <li><p>この機能は非常に便利です。</p>
  <p>なぜなら、WAV の編集し易さと OGG の配布し易さを、BMS の MD5 に影響を与えずに両立させることができるからです。</p>
  <ul>
   <li>これはインターネット・ランキングにおいて有利です。</li>
   <li>LR2IR と nazoIR は、MD5 によって BMS の同一性をチェックしています。</li>
   <li><p>BMS がここにあると仮定しましょう。譜面ファイルの音声定義は以下のとおりです。</p>
    <table><tbody><tr><td><pre><code>#WAV01&nbsp;foo.wav
#WAV02&nbsp;bar.wav</code></pre></td></tr></tbody></table></li>
   <li><p>WAV 版はサイズが巨大なので、配布しやすいよう OGG に変換するとしましょう。</p>
    <p>ここに、「最高音質の WAV 版 BMS」および「最適音質の OGG 版 BMS」があります。</p></li>
   <li><p>OGG 版の譜面ファイルの音声定義は、以下のように置換します。</p>
    <table><tbody><tr><td><pre><code>#WAV01&nbsp;foo.ogg
#WAV02&nbsp;bar.ogg</code></pre></td></tr></tbody></table></li>
   <li>「品質を求めるプレイヤー」および「最適を探求するプレイヤー」の両者を満足させるために、WAV 版と OGG 版の両方が配布されます。</li>
   <li>しかしながら、定義の部分が変更されたので、譜面ファイルの MD5 は同一ではなくなっています。</li>
   <li><p>WAV 版の譜面ファイルが OGG 版の譜面ファイルと異なる場合、面倒な問題が IR で生じます。</p>
    <ul>
     <li>IR の登録先は、WAV 版および OGG 版で別々に分かれます。</li>
     <li>その結果、IR ページはその BMS を遊んだ人が少ないかのように見えてしまうでしょう。</li>
    </ul></li>
   <li><p>しかし、代替ファイル検索が使用される場合:</p>
    <ul>
     <li>クリエイター側は、同一の譜面ファイルを、WAV 版と OGG 版の両方に使用することができます。</li>
     <li>プレイヤー側は、WAV 版 と OGG 版を自由に選ぶことができます。さらに、自由に OGG を WAV に変更することができます。</li>
    </ul></li>
  </ul></li>
 <li>しかしながら、稀にですが、この機能は誤ったファイルを読んでしまうという危険性があります。</li>
</ul>
</section>

<section id="WAVXX-EMPHASIZING">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVXX-EMPHASIZING">強調:</a></h4>

<ul>
 <li><p>一部のアプリケーションは BGM と KEY の音量を差別化できます。</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>LunaticRave (?)</td></tr>
    <tr><th scope="row">support:</th><td>LR2, fgt, fgt++, Angolmois, Sonorous, TechnicalGroove, ... (調査中)</td></tr>
   </tbody>
  </table></li>
 <li>BGM の再生時音量を弱めることによって、KEY ノートは相対的に強調されます。</li>
 <li>TechnicalGroove は、KEY ノートの波形の先頭部分を強調します。</li>
 <li>音量はそれぞれ制御可能かもしれません。</li>
</ul>
</section>

<!-- /#WAV -->
</section>



<section id="WAVCMD" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#WAVCMD">#WAVCMD&nbsp;<var>commandID</var>&nbsp;<var>#WAV-index</var>&nbsp;<var>value</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-49</code></td></tr>
  <tr><th scope="row">origin:</th><td>MacBeat</td></tr>
  <tr><th scope="row">support:</th><td>MacBeat, Sonorous(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#WAV</code> で読まれたファイルを鳴らすとき、オプションとして、ピッチ、ボリューム、オーディオ再生時間を定義することができます。</li>
 <li>これは、MOD もどきです。 (<a class="external" rel="external" hreflang="en" title="MOD (file format) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/MOD_%28file_format%29"><span itemprop="url">https://en.wikipedia.org/wiki/MOD_%28file_format%29</span></a>)</li>
 <li><code>#WAVCMD</code> をサポートしないソフトウェアへの影響を避けるため、
  このコマンドを含む BMS は、拡張子を <b class="red">MBM</b> (MacBeatMod) に変更する必要があります。</li>
</ul>

<dl>
 <dt><code><var><strong>commandID</strong></var></code>:</dt>
 <dd>
  <p>変更するべきパラメータを指定します。</p>
  <table>
   <tbody>
    <tr><th scope="row"><code>00</code></th><td>ピッチを設定する</td></tr>
    <tr><th scope="row"><code>01</code></th><td>ボリュームを設定する</td></tr>
    <tr><th scope="row"><code>02</code></th><td>オーディオ再生時間を設定する</td></tr>
   </tbody>
  </table>
 </dd>
 <dt><code><var><strong>#WAV-index</strong></var></code>:</dt>
 <dd>
  <p>操作するべき音声を指定します。事前に定義済みの <code>#WAV</code> のインデックスを指定します。</p>
  <p><code>[01-FF]</code> (255)</p>
  <p>MacBeat は、16 進数の <code>#WAV</code> インデックスだけをサポートしています。</p>
 </dd>
 <dt><code><var><strong>value</strong></var></code>:</dt>
 <dd>
  <p>操作するべき「価」を 10 進数整数で指定します。</p>
  <p>値が意味するものは、<code><var>commandID</var></code> 次第で変化します。</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">pitch:</th>
     <td>
      <p><code>[0-127]</code></p>
      <p>10 進数整数で値を設定します。 これは相対音階です。 デフォルトは <code>60</code> です。</p>
      <table id="WAVCMD-PITCH-TABLE">
       <thead>
        <tr>
         <td></td>
         <th scope="col">A</th>
         <th scope="col">A#</th>
         <th scope="col">B</th>
         <th scope="col">C</th>
         <th scope="col">C#</th>
         <th scope="col">D</th>
         <th scope="col">D#</th>
         <th scope="col">E</th>
         <th scope="col">F</th>
         <th scope="col">F#</th>
         <th scope="col">G</th>
         <th scope="col">G#</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <th scope="row">Octave1</th>
         <td></td><td></td><td></td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
        </tr>
        <tr>
         <th scope="row">Octave2</th>
         <td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td>
        </tr>
        <tr>
         <th scope="row">Octave3</th>
         <td>21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td><td>31</td><td>32</td>
        </tr>
        <tr>
         <th scope="row">Octave4</th>
         <td>33</td><td>34</td><td>35</td><td>36</td><td>37</td><td>38</td><td>39</td><td>40</td><td>41</td><td>42</td><td>43</td><td>44</td>
        </tr>
        <tr>
         <th scope="row">Octave5</th>
         <td>45</td><td>46</td><td>47</td><td>48</td><td>49</td><td>50</td><td>51</td><td>52</td><td>53</td><td>54</td><td>55</td><td>56</td>
        </tr>
        <tr>
         <th scope="row">Octave6</th>
         <td>57</td><td>58</td><td>59</td><td><mark>60</mark></td><td>61</td><td>62</td><td>63</td><td>64</td><td>65</td><td>66</td><td>67</td><td>68</td>
        </tr>
        <tr>
         <th scope="row">Octave7</th>
         <td>69</td><td>70</td><td>71</td><td>72</td><td>73</td><td>74</td><td>75</td><td>76</td><td>77</td><td>78</td><td>79</td><td>80</td>
        </tr>
        <tr>
         <th scope="row">Octave8</th>
         <td>81</td><td>82</td><td>83</td><td>84</td><td>85</td><td>86</td><td>87</td><td>88</td><td>89</td><td>90</td><td>91</td><td>92</td>
        </tr>
        <tr>
         <th scope="row">Octave9</th>
         <td>93</td><td>94</td><td>95</td><td>96</td><td>97</td><td>98</td><td>99</td><td>100</td><td>101</td><td>102</td><td>103</td><td>104</td>
        </tr>
        <tr>
         <th scope="row">Octave10</th>
         <td>105</td><td>106</td><td>107</td><td>108</td><td>109</td><td>110</td><td>111</td><td>112</td><td>113</td><td>114</td><td>115</td><td>116</td>
        </tr>
        <tr>
         <th scope="row">Octave11</th>
         <td>117</td><td>118</td><td>119</td><td>120</td><td>121</td><td>122</td><td>123</td><td>124</td><td>125</td><td>126</td><td>127</td><td></td>
        </tr>
       </tbody>
      </table>
     </td>
    </tr>
    <tr>
     <th scope="row">volume:</th>
     <td>
      <p>10 進数整数 (パーセンテージ) で値を設定します。</p>
      <p><code>100</code> より大きい値を指定すると、音割れするでしょう。</p>
     </td>
    </tr>
    <tr>
     <th scope="row">time:</th>
     <td>
      <p>「ミリ秒 × 0.5」に基づいて、オーディオ再生時間を指定します。</p>
      <p>10 進数整数で値を指定します。</p>
      <p><code>50</code>ms 未満の値は、ほとんど信頼できないでしょう。</p>
      <p><code>0</code> は、原音そのままの長さを意味します。</p>
     </td>
    </tr>
   </tbody>
  </table>
 </dd>
 <dt><code>#WAVCMD</code> を使用しない場合のデフォルト値:</dt>
 <dd>
  <table>
   <thead><tr><th scope="col">parameter</th><th scope="col">default</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><th scope="row">pitch:</th><td><code>60</code></td><td>相対音階は C6 です。</td></tr>
    <tr><th scope="row">volume:</th><td><code>100</code></td><td>相対音量は 100% です。</td></tr>
    <tr><th scope="row">audio playback time:</th><td><code>0</code></td><td>オーディオ再生時間は変更されません。</td></tr>
   </tbody>
  </table>
  <p>変更する必要のあるパラメータだけを変更してください。</p>
 </dd>
</dl>

<ul>
 <li><p>典型的な例は次の通りです:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#wav0E&nbsp;aaa.wav
#wavcmd&nbsp;00&nbsp;0E&nbsp;61
#WAVCMD&nbsp;01&nbsp;0E&nbsp;50</code></pre></td>
     <td>
      <p><code>#WAVCMD</code> の参照用に、オーディオファイルを定義しなければなりません。</p>
      <p><code>#wav0E</code> は、原音のピッチが 半音分 上昇します。</p>
      <p><code>#wav0E</code> は、原音の音量が 50% になります。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>ある <code>#WAV</code> インデックスに対して、複数のエフェクトを同時に適用することはできるのでしょうか？</li>
 <li><code>#WAVCMD</code> の重複について、MacBeatMod の仕様書には何も書かれていません。
  (<a class="external" rel="external" hreflang="ja" type="text/plain" title="MODもどき企画書 - XREA.COM" href="http://harinezumi.s14.xrea.com/download/mbm.txt"><span itemprop="url">http://harinezumi.s14.xrea.com/download/mbm.txt</span></a>)</li>
 <li>私は MacBeat を持っていないので、詳細をテストすることができません。</li>
</ul>
</section>



<section id="EXWAVXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXWAVXX">#EXWAV<var>[00-ZZ]</var>&nbsp;<var>[pvf]</var>&nbsp;<var>[pan]</var>&nbsp;<var>[volume]</var>&nbsp;<var>[frequency]</var>&nbsp;<var>soundfilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-69</code>, <code>#xxxD1-E9</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BMS の中で鳴らすべきファイルを、単純なエフェクトを適用して定義します。</li>
 <li><code>#EXWAVxx</code> のインデックスは、<code>#WAVxx</code> と共用です。</li>
 <li><dl>
   <dt><code><var><strong>[pvf]</strong></var></code>:</dt>
   <dd>
    <p>どのパラメータを操作するべきかのフラグ。パラメータの記述子。</p>
    <p>記述された文字に対応するパラメータが操作されます。</p>
    <p>フラグを記述する順序は、後続する値が相当するに違いないパラメータを示します。</p>
    <p>フラグは大文字小文字を問わず解釈されます。</p>
    <table>
     <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <td><pre><code>#EXWAV01&nbsp;vfp&nbsp;-50&nbsp;100&nbsp;-10000&nbsp;aaa.wav
#EXWAV02&nbsp;&nbsp;&nbsp;P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500&nbsp;aaa.wav</code></pre></td>
       <td>
        <p><mark>v</mark>olume=<code>-50</code>, <mark>f</mark>requency=<code>100</code>, <mark>p</mark>an=<code>-10000</code></p>
        <p><mark>P</mark>an=<code>500</code></p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>(nanasi は、デリミタとして複数の半角空白あるいはタブを使用することができます。)</p>
    <p>このフラグが定義した順に、後続の値を記述してください。</p>
   </dd>
   <dt>注意:</dt>
    <dd>フラグが全く指定されない場合の振る舞いは保証されません。</dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>[pan]</strong></var></code>:</dt>
   <dd>
    <p><code><var>[-10000&nbsp;-&nbsp;10000]</var></code> :: <code>-10000</code> から <code>10000</code> までの範囲を、値として指定することができます。</p>
    <p>左右の <del>スピーカー装置</del> <ins>波形</ins> の音量バランスが定義されます。</p>
    <p>左端は <code>-10000</code> です。右端は <code>10000</code> です。</p>
    <p>音源ファイルの L-R バランスが何であれ、この定義中のデフォルト値は <code>0</code> にセットされます。</p>
    <p>このエフェクトは、ステレオの波形に適用可能です。</p>
    <p>このエフェクトは、モノラルの波形にも適用可能です。</p>
   </dd>
   <dt>注意:</dt>
   <dd>
    <p><code>#EXWAVxx</code> は、音量の増加をサポートしていません。</p>
    <p>したがって、バランスの変更は、L か R の音量を減少させることによって行なわれます。</p>
    <p>「L-R バランスが 100%-0% である波形」に対して、値 <code>10000</code> が適用されたなら、完全な無音になるでしょう。</p>
   </dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>[volume]</strong></var></code>:</dt>
   <dd>
    <p><code><var>[-10000&nbsp;-&nbsp;0]</var></code> :: <code>-10000</code> から <code>0</code> までの範囲を、値として指定することができます。</p>
    <p>音量が定義されます。 <code>0</code> は原音の音量です。 <code>-10000</code> は実質的に無音になります。</p>
    <p>音源ファイルの音量が何であれ、この定義中のデフォルト値は <code>0</code> にセットされます。</p>
    <p>これは、音量というよりは、減衰率です。</p>
   </dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>[frequency]</strong></var></code>:</dt>
   <dd>
    <p><code><var>[100&nbsp;-&nbsp;100000]</var></code> :: <code>100</code> から <code>100000</code> までの範囲を、値として指定することができます。</p>
    <p>周波数が定義されます。 値の単位は Hz です。</p>
    <p>要するに、このパラメータはピッチを操作します。</p>
   </dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>soundfilename</strong></var></code>:</dt>
   <dd>
    <p>エフェクトを適用するべき音声ファイル名が定義されます。</p>
    <p><code>#WAVxx</code> と同様に、相対パスを定義できます。</p>
    <p>(「MATERIALS」は使用することができません。nanasi では、「MATERIALS」のサポートは ver.1.00 で削除されました。)</p>
    <p>パスの長さは 260 バイト未満に制限されます。</p>
   </dd>
  </dl></li>
</ul>
</section>



<section id="CDDA">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CDDA">#CDDA&nbsp;<var>track-number</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>CD-DA を BGM として使用することができます。</li>
 <li><p>DDRでは、「SYSTEM OPTION」の「CD-Syncro」の設定も適用されます。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody><tr><td><code>#CDDA&nbsp;5</code></td><td>この例は、CD ドライブに挿入された音楽 CD のトラック 5 を、BGM として鳴らします。</td></tr></tbody>
  </table></li>
</ul>
</section>



<section id="MIDIFILE">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MIDIFILE">#MIDIFILE&nbsp;<var>midifilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>BM98, BMSV, DDR, RDM, <ins datetime="2014-02-07T18:30:00+09:00">Mac (?)</ins>, Aqua (?),
   IIDXv, HDX, Sonorous (parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>MIDI ファイルを BGM として鳴らすことができます。</li>
 <li>ハードウェアに非常に依存します。あるいは、ソフトウェア・シンセサイザーでは発音が遅れます。</li>
 <li>これらの理由で、BMS で MIDI を使用することは推奨されません。</li>
 <li>しかしながら、MIDI を熱心にサポートしている IIDXv は例外です。</li>
</ul>
</section>



<section id="BMPXX" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX">#BMP<var>[00-ZZ]</var>&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td><abbr title="BackGround Animation">BGA</abbr> BASE</td><td>ほとんど</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td><td>ほとんど (註: IIDXv と HDX は除く)</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td><td>ほとんど (註: IIDXv 2.13+, HDX 0.98+) (origin: BM98k)</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2</td><td>nanasi, Angolmois (2.0a2+), Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, pomu2</td></tr>
  <tr><td><code>#xxx0B</code></td>
   <td>BGA BASE の不透明度</td><td>nanasi (透明 « <code><var>[01-FF]</var></code> » 不透明)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(予定?)</del></td></tr>
  <tr><td><code>#xxx0C</code></td>
   <td>BGA LAYER の不透明度</td><td>nanasi (透明 « <code><var>[01-FF]</var></code> » 不透明)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(予定?)</del></td></tr>
  <tr><td><code>#xxx0D</code></td>
   <td>BGA LAYER2 の不透明度</td><td>nanasi (透明 « <code><var>[01-FF]</var></code> » 不透明)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(予定?)</del></td></tr>
  <tr><td><code>#xxx0E</code></td>
   <td>BGA POOR の不透明度</td><td>nanasi (透明 « <code><var>[01-FF]</var></code> » 不透明)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(予定?)</del></td></tr>
 </tbody>
</table>
<table>
 <thead><tr><th scope="col">index range:</th><th scope="col">origin</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>[00-FF]</code>&nbsp;(256)</td><td>BM98</td><td>BM98, BM98de, MW, otama, nBMplay, BMSC, BMSV, BMS2AVI, pomu2</td></tr>
  <tr><td><code>[00-FZ]</code>&nbsp;(576)</td><td>bemaniaDX</td><td>bemaniaDX, DDR, RDM, nazo, BMEV</td></tr>
  <tr>
   <td><code>[00-ZZ]</code>&nbsp;(1296)</td>
   <td>nanasi</td>
   <td><p>GALLI, WAview, BGAenc, <ins datetime="2014-02-07T18:30:00+09:00">Mac (?), Aqua (?),</ins></p>
    <p>LR2, ruvit, nanasi, fgt++, nazoZZ, GDAC2, BMSE, uBMplay, bmx2wav, IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, diff</p></td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>イメージファイルの定義。</li>
 <li><p>通常のサイズは 256x256 ピクセル未満です。</p>
  <ul>
   <li>なぜなら、通常の実装のイメージ・キャンバスのサイズが <strong class="red">256x256 pixel</strong> だからです。</li>
   <li>仕様は、オーバーサイズのイメージを処理する方法を定義していません。</li>
   <li>したがって、その方法は実装依存です。例えば、nazo はオーバーサイズのイメージを表示しません。</li>
  </ul></li>
 <li>バックグラウンド・アニメーションを使用しない場合は、省略可能です。</li>
 <li><code>#BMP</code> として定義されたイメージは、
  <code>#BGA</code>, <code>#@BGA</code>, <code>#SWBGA</code> の定義中でも使用できます。 (もしそれらがサポートされていれば)</li>
 <li><code>#BMP</code> インデックス <code>00</code> は、ミスした時に表示されます。</li>
 <li><p><code>#BMP</code> インデックス <code>00</code> は、チャンネル <code>#xxx06</code> によってミス画像が変更されるまでの間、有効です。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#bmp00&nbsp;miss-default.bmp
#bmp11&nbsp;miss-change.bmp
#01606:0011</code></pre></td>
     <td>
      <p><code>#000</code> の頭から <code>#016</code> の中間までの区間内では、</p>
      <p>ミスした時に <code>#bmp00</code> が表示されます。</p>
      <p>そこから以降では、ミスした時に <code>#bmp11</code> が表示されます。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>

<section id="BMPXX-DARKENING-BY-EMPTY-BMP">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-DARKENING-BY-EMPTY-BMP">空の&nbsp;<code>#BMP</code>&nbsp;による暗転</a></h4>
<ul>
 <li>イメージファイルが定義されないインデックスが、チャンネル <code>#xxx04/06/07</code>
  で見つかったとき、BM98k は 256x256 の黒 (RGB:00:00:00) を表示します。</li>
 <li><p>これは BMS の仕様書に書かれていない振る舞いですが、ほとんどのアプリケーションはこの振る舞いを踏襲しました。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#BMP11&nbsp;1.bmp
#BMP22&nbsp;2.bmp
#BMP33&nbsp;3.bmp
#01604:112233<mark>FF</mark></code></pre></td>
     <td>
      <p><code>#bmp<mark>FF</mark></code> は未定義です。</p>
      <p>譜面が <mark>FF</mark> に達したとき、イメージディスプレイは黒く塗り潰されます。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>しかし RDM では、<code>#BMP</code> インデックスが <code>[G-Z]</code> を含んでいる場合、
  LAYER が空の <code>#BMP</code> インデックスによってリセットされれば、他の無関係なイメージがランダムに表示されるでしょう。</li>
 <li>互換性を維持したければ、私たちは暗黙の振る舞いを期待するべきではありません。定義を明示的に与えるべきです。</li>
 <li><p>要するに、私たちは空の <code>#BMP</code> インデックスを使用するのではなく、<code>black.bmp</code> の定義を使用するべきです。</p>
  <table>
   <thead><tr><th scope="col">より安全な例</th><th scope="col">black.bmp (256x256)</th><th scope="col">black.bmp (1x1)</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BMP11&nbsp;1.bmp
#BMP22&nbsp;2.bmp
#BMP33&nbsp;3.bmp
#BMP<mark>FF</mark>&nbsp;black.bmp
#01604:112233<mark>FF</mark></code></pre>
     </td>
     <td><div class="bmp-layer"><p class="hide">black.bmp (256x256)</p></div></td>
     <td><div class="black1x1"><div><p>black.bmp (1x1)</p></div></div>
      <p>私たちは要はイメージを変更したいだけなので、サイズは 1x1 で十分です。</p>
      <p>さらに black.bmp は、カラーパレットが 2 色 (1ビット) あれば十分です。</p>
      <p>減色によって、サイズは相当に減少します。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>

<section id="BMPXX-LAYER">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-LAYER">LAYER</a></h4>
<ul>
 <li><p>LAYER チャンネル <code>#xxx07</code> は、黒を透明にします。
  イメージ中の黒い部分だけが透明になり、BASE チャンネル <code>#xxx04</code> を表示します。</p>
  <table id="BMP-LAYER-SAMPLE">
   <thead><tr><th scope="col">Sample code</th><th scope="col">Image</th><th scope="col">実際の表示</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#BMP01&nbsp;1.bmp</code></td>
     <td><div class="bmp base1"><p>1.bmp</p></div></td>
     <td rowspan="10"><div class="bmp-layer"><p><img src="content/Eg_bga+layer.gif" alt="BASE+LAYER_SEQUENCE" width="40" height="40"></p></div></td>
    </tr>
    <tr>
     <td><code>#BMP02&nbsp;2.bmp</code></td>
     <td><div class="bmp base2"><p>2.bmp</p></div></td>
    </tr>
    <tr>
     <td><code>#BMP03&nbsp;3.bmp</code></td>
     <td><div class="bmp base3"><p>3.bmp</p></div></td>
    </tr>
    <tr>
     <td><code>#BMP04&nbsp;4.bmp</code></td>
     <td><div class="bmp base4"><p>4.bmp</p></div></td>
    </tr>
    <tr>
     <td><code>#00104:01020304</code></td>
     <td><img src="content/Eg_bga.gif" alt="BGA_BASE_SEQUENCE" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP05&nbsp;5.bmp</code></td>
     <td><img src="content/Eg_layer1.bmp" alt="5.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP06&nbsp;6.bmp</code></td>
     <td><img src="content/Eg_layer2.bmp" alt="6.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP07&nbsp;7.bmp</code></td>
     <td><img src="content/Eg_layer3.bmp" alt="7.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP08&nbsp;8.bmp</code></td>
     <td><img src="content/Eg_layer4.bmp" alt="8.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#00107:05060708</code></td>
     <td><img src="content/Eg_layer.gif" alt="BGA_LAYER_SEQUENCE" width="40" height="40"></td>
    </tr>
   </tbody>
  </table>
  <p>一般的な実装では、BASE+LAYER が上記のように表示されます。</p></li>
 <li><p>LAYER が透明にする黒の閾値は、デスクトップのプロパティ「画面のプロパティ » 画面の色」に依存します。</p>
  <ul>
   <li>色が 16bit である場合、<code>RGB:00:00:00</code> - <code>RGB:0F:0F:0F</code> (黒っぽい) が透明になります。</li>
   <li>色が 32bit である場合、<code>RGB:00:00:00</code> (完全な黒) だけが透明になります。</li>
   <li>つまり、「DirectX が値を丸めたときに <code>00</code> にセットされる色」が透明になります。</li>
   <li>(私は誤解しているかもしれません。これはアプリケーション側の設定に関する記述かもしれません。)</li>
  </ul></li>
 <li><p>いくつかの実装は、この閾値を操作することができます。</p>
  <ul>
   <li><p>uBMplay は <code>Transparent=0</code> (ubm.ini) を変更することができます。</p>
    <p>値は <code>0</code> から <code>255</code> を指定することができます。 <code>0</code> は完全な黒です。 <code>255</code> は完全な白です。</p></li>
   <li>nanasi には、透明度と<ins>透過</ins>色の両方を詳細に操作することができるコマンドがあります。 <code>#EXBMP</code> と <code>#ARGB</code> を参照してください。</li>
  </ul></li>
 <li><p>透明にできる色が黒に制限されているという事実は、ときどき不便です。</p>
  <ul>
   <li>例えば、モノクロのアニメーションで LAYER を使用する場合に、完全な黒ではなく「黒っぽい色」を使用しなければなりません。</li>
   <li><p>透明度には同じ問題があります。赤い BASE に青い LAYER を加えても、表示は紫になりません。</p>
    <p>(<ins datetime="2013-01-18T19:00:00+09:00">BMS
     アプリケーションがアルファチャンネルをサポートしており、かつ LAYER 画像にアルファ値が指定されている場合は、例外的にブレンド可能</ins>)</p></li>
   <li>これらを解決することができる拡張コマンドを、nanasi は豊富に持っています。 しかしながら、それらを使いこなすのは非常に困難です。</li>
   <li>BGA クリエイターたちは複雑なプログラミングを望みません。 彼らはマルチメディア・オーサリング・システムを好みます。</li>
  </ul></li>
</ul>
</section>

<section id="BMPXX-ADJUSTMENT">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-ADJUSTMENT">補正</a></h4>
<ul>
 <li><p>通常、イメージの X 軸の中心は、イメージキャンバスの X 軸の中心に表示されます。</p>
  <ul>
   <li>nanasi に関しては、BMP 以外のいかなるファイル形式も、X 軸センタリングを行ないません。</li>
  </ul></li>
 <li><p>通常、イメージの上端は、イメージキャンバスの上端に表示されます。</p>
  <p>この振る舞いに関しては、前述の例、および次の URL を参照してください:
   <a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_easypreview.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_easypreview.gif</span></a></p></li>
 <li><p>しかしながら、例外として、いくつかの実装はイメージに拡大縮小を適用します。</p>
  <table><tbody><tr><th scope="row">自動的な拡大縮小:</th>
   <td>MacBeat, LR2, ruvit, <del datetime="2013-07-11T23:10:00+09:00">IIDXv, HDX</del></td></tr></tbody></table>
  <ul>
   <li>MacBeat は「256x256 より小さなイメージ」を 256x256 に拡大して表示します。</li>
   <li>LR2 は「256x256 より大きなイメージ」を「縦横比 1:1、サイズ 256x256」に変更し、それらを表示します。</li>
   <li><del datetime="2013-07-11T23:10:00+09:00">IIDXv はすべてのイメージを「縦横比 1:1、サイズ 256x256」に変更し、それらを表示します。</del></li>
   <li><p>この表示方法を変更することができる実装もあります。</p>
    <p>ruvit は、初期設定では 256x256 をベースとして、イメージを拡大表示します。</p></li>
  </ul></li>
 <li><p>いくつかの実装は、256x256 より大きなサイズのイメージもサポートしています。</p>
  <table id="SPREAD-CANVAS">
   <tbody>
    <tr><th scope="row">広がるキャンバス:</th>
    <td><ins datetime="2013-07-03T12:00:00+09:00">BM98 (origin ?) (5KEYS | 5K-Couple only ?),</ins>
     DDR <del datetime="2013-07-03T12:00:00+09:00">(origin)</del>,
     nanasi, fgt++, uBMplay (1.5.0+), <ins datetime="2013-07-11T23:10:00+09:00">IIDXv, HDX,</ins> Sonorous(?), BGAEncAdv, ... (調査中)</td></tr>
   </tbody>
  </table>
  <ul>
   <li>256x256 より大きなイメージは、譜面表示用のスペースにさえ広がって表示されます。</li>
   <li><p>演出効果としてこの振る舞いを使用した BMS が、わずかに存在します。 例えば:</p>
    <dl>
     <dt><cite>relative</cite></dt>
     <dd><span itemprop="name">xra</span>, <time itemprop="update" datetime="2001-10-20">2001-10-20</time>
      (<a href="https://web.archive.org/web/*/http://xra000.hp.infoseek.co.jp/bms.htm" class="external" rel="external" hreflang="ja" title="ORIGINAL BMS DATA"><span itemprop="url">https://web.archive.org/web/*/http://xra000.hp.infoseek.co.jp/bms.htm</span></a>)</dd>
     <dt><cite>FIGHTING OF THE SPIRIT</cite></dt>
     <dd><span itemprop="name">shammy</span>, <time itemprop="update" datetime="2001-05-06">2001-05-06</time>
      (<a href="https://web.archive.org/web/20140819192029/http://shammy.kdn.jp/bm/details.html" class="external" rel="external" hreflang="ja" title="NEGI-Plantation"><span itemprop="url">https://web.archive.org/web/20140819192029/http://shammy.kdn.jp/bm/details.html</span></a>)</dd>
     <dt><cite>Chip Disco Paradise</cite></dt>
     <dd><span itemprop="name">RED L:TUS</span>, <time itemprop="update" datetime="2002-12-22">2002-12-22</time></dd>
     <dt><cite lang="ja" xml:lang="ja" class="DBCS">せがた三四郎伝説</cite></dt>
     <dd><span itemprop="name" lang="ja" xml:lang="ja" class="DBCS">デッシュ</span>,
      <time itemprop="update" datetime="2000-07-22">2000-07-22</time>
      (<a href="https://www.nicovideo.jp/watch/sm351014" class="external" rel="external" hreflang="ja" title="【bms】 せがた三四郎伝説 ‐ ニコニコ動画:Q"><span itemprop="url">https://www.nicovideo.jp/watch/sm351014</span></a>)</dd>
     <dt><cite>loves honey, crazy apple.</cite></dt>
     <dd><span itemprop="name">World's endo pisum sativum L.</span>, <time itemprop="update" datetime="2007-08-18">2007-08-18</time>
      (<a href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=28&amp;event=44" class="external" rel="external" hreflang="ja" title="[[詳細情報]] No.28 [Partita] loves honey, crazy apple. / World&#39;s endo pisum sativum L.  - 関東地区 -"><span itemprop="url">http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=28&amp;event=44</span></a>)</dd>
    </dl></li>
   <li>LR2, ruvit, <del datetime="2013-07-11T23:10:00+09:00">IIDXv, HDX</del>
    は「256x256 より大きなイメージ」を使用することができますが、イメージはキャンバスから溢れません。</li>
   <li>Sonorous では、独自拡張命令 <code>#CANVASSIZE</code> によって、キャンバスサイズを任意に変更できるかもしれません。</li>
  </ul></li>
</ul>
</section>

<section id="BMPXX-IMAGE-FILE-FORMATS">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-IMAGE-FILE-FORMATS">Image&nbsp;file&nbsp;formats</a></h4>
<ul>
 <li>どのファイル・タイプがサポートされるかは実装依存です。ビットマップ・イメージ・ファイルは、ほぼ確実にサポートされています。</li>
 <li id="RLE"><p><strong class="red">BMP</strong> は <strong>RLE</strong> (Run Length Encoding) で圧縮されるかもしれません。
   いくつかの実装は RLE を正しく表示できません。</p>
  <p><ins datetime="2014-02-04T07:00:00+09:00">BMSC
   <del datetime="2014-06-13T23:40:00+09:00" hidden="hidden" class="hide">と BGAEncAdv</del> は RLE をサポートしていません。
   <a href="https://hitkey.nekokan.dyndns.info/diary1402.php#D140202">いくつかの実装は、行儀が悪い BITMAPINFOHEADER によって、強制終了させられます。</a></ins></p>
  <p><ins datetime="2014-02-10T22:30:00+09:00"><del datetime="2014-02-12T18:00:00+09:00" hidden="hidden" class="hide">筆者は確認できていませんが、</del><strong>OS/2 Bitmap</strong> を使用する BMS もかつて存在したようです。
   <ins datetime="2014-02-12T18:00:00+09:00">(E.g. <cite><a href="https://web.archive.org/web/*/http://www.ag.wakwak.com/~taros/loverebirth.exe" class="external" rel="external">LOVE'S REBIRTH</a></cite>,
   <cite><a href="https://web.archive.org/web/*/http://pal.mydns.to/cranky/up/5key/5k-posi2.zip" class="external" rel="external">positive dance "2nd RAVE"</a></cite>)</ins>
   詳細は <a href="https://hitkey.nekokan.dyndns.info/bmpfmt.htm">bmpfmt.htm</a> を参照。</ins></p></li>
 <li>モダンな実装は <strong class="red">PNG</strong> をサポートしています。
  近年、PNG は非常に頻繁に使用されます。 可逆圧縮は利便性が高いです。</li>
 <li>JPEG と GIF は、BMP と PNG ほどポピュラーではありません。 <del>GIF にはライセンスの問題があります。</del></li>
 <li><p>BMP 以外のイメージ・ファイル・フォーマットのサポート状況:</p>
  <table>
   <thead><tr><th scope="col">suffix</th><th scope="col">support</th></tr></thead>
   <tbody>
    <tr><th scope="row">PNG:</th>
     <td>LR2, nanasi, ruvit, IIDXv, HDX, fgt++, pomu2, nazoZZ, uBMplay, bmx2wav, PMSee-V, <ins datetime="2014-02-05T20:00:00+09:00">PMChr-V, DTXV,</ins>
      Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
    <tr><th scope="row">JPG:</th>
     <td>otama, bemaniaDX, MacBeat, LR2, nanasi, ruvit, fgt++, pomu2, nazoZZ, BMSE, uBMplay, IIDXv, HDX, MyO2, PMSee-V,
      <ins datetime="2014-02-05T20:00:00+09:00">DTXV,</ins> Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
    <tr><th scope="row">GIF:</th>
     <td>bemaniaDX, BMSE, PMSee-V, <ins datetime="2014-02-05T20:00:00+09:00">pomu2 (Char),</ins>
      <ins datetime="2013-08-01T18:00:00+09:00">LR2, uBMplay (1.5.0+),</ins> Angolmois, Sonorous</td></tr>
    <tr>
     <th scope="row">PNG (要 <a class="external" rel="external" hreflang="ja" title="【渡辺 裕朗】ソフトウエア" href="https://www.asahi-net.or.jp/~DS8H-WTNB/software/index.html">ifpng.<abbr title="Susie PlugIn">spi</abbr></a>):</th>
     <td>BM98de, DDR, RDM, MW, WAview, bms2avi</td>
    </tr>
    <tr>
     <th scope="row">JPG (要 <a class="external" rel="external" hreflang="ja" title="Susieのだうんろーど" href="https://www.digitalpad.co.jp/~takechin/download.html">ifjpeg.spi</a>):</th>
     <td>BM98, BM98de, DDR, RDM, MW, WAview, bms2avi</td>
    </tr>
    <tr>
     <th scope="row">GIF (要 <a class="external" rel="external" hreflang="ja" title="Susieのだうんろーど" href="https://www.digitalpad.co.jp/~takechin/download.html">ifgif.spi</a>):</th>
     <td>BM98de, DDR, RDM, MW, WAview, bms2avi, IIDXv (同梱), HDX (同梱)</td>
    </tr>
    <tr><th scope="row">MAG:</th><td>otama</td></tr>
    <tr><th scope="row">WMF:</th><td>bemaniaDX, BMSE, PMSee-V</td></tr>
    <tr><th scope="row">EMF:</th><td>bemaniaDX, BMSE, PMSee-V</td></tr>
    <tr><th scope="row">CUR:</th><td>bemaniaDX</td></tr>
    <tr><th scope="row">ICO:</th><td>BMSE, PMSee-V, <ins datetime="2014-02-05T20:00:00+09:00">pomu2 (Char)</ins></td></tr>
    <tr><th scope="row">TGA:</th><td>LR2, nanasi, ruvit, IIDXv, HDX, PMSee-V</td></tr>
    <tr><th scope="row">DDS:</th><td>LR2, nanasi, ruvit, IIDXv, HDX</td></tr>
    <tr><th scope="row">DIB:</th><td>IIDXv, HDX</td></tr>
    <tr><th scope="row">TIFF:</th><td>Angolmois, uBMplay (1.5.0+), Sonorous(?)</td></tr>
    <tr><th scope="row">WebP:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">PNM (pbm, pgm, ppm):</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">XCF:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">PCX:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">IFF/ILBM:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">PXR:</th><td>uBMplay (1.5.0+ / 24-bit のみ / 無保証)</td></tr>
   </tbody>
  </table></li>
 <li><p>いくつかの実装は、アルファチャンネルを備えたイメージをサポートしています。</p>
  <table>
   <tbody>
    <tr>
     <th scope="row"><a class="external" rel="external" hreflang="en" title="Alpha compositing - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Alpha_compositing">Alpha-Channels</a>:</th>
     <td>LR2, nanasi, ruvit, IIDXv, HDX, Angolmois (028e49caa6bd 以降), Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, ... (未調査)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>モダンなアプリケーションは、イメージ・ファイルの代替探索も実装しています。</p>
  <table>
   <tbody>
    <tr><th scope="row">代替検索:</th>
     <td>LR2 (origin?), uBMplay, bmx2wav, IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, ... (調査中)</td></tr>
   </tbody>
  </table>
  <ul>
   <li>定義された BMP ファイルが見つからない場合、LR2 は、同じ基底名を備えた PNG および JPG を探索します。</li>
  </ul></li>
</ul>
</section>

<section id="BMPXX-VIDEO-FILE-DEFINING-TO-BMP">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BMPXX-VIDEO-FILE-DEFINING-TO-BMP"><code>#BMP</code>&nbsp;へのビデオファイル定義</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx04</code></td></tr>
  <tr><th scope="row">origin:</th><td>LR</td></tr>
  <tr><th scope="row">support:</th><td>LR2, ruvit, nazoZZ, IIDXv (1 スロットのみ), HDX (1 スロットのみ), Angolmois (限定的なサイズと形式),
   uBMplay (1.5.0+ / by DirectShow), Sonorous (限定的なサイズと形式?), BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
  <tr><th scope="row">loop:</th><td>LR2 (部分的 ?), ruvit, uBMplay (1.5.0+), Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
  <tr><th scope="row">rewind:</th><td>LR2, nazoZZ, IIDXv, HDX, uBMplay (1.5.0+), BGAEncAdv</td></tr>
 </tbody>
</table>

<table>
 <thead>
  <tr>
   <th scope="col"><span class="hide">body</span></th>
   <th scope="col">MPG</th><th scope="col">AVI</th><th scope="col">WMA</th><th scope="col">WMV</th><th scope="col">OGV</th><th scope="col">WebM</th>
   <th scope="col">OGM</th><th scope="col">MOV</th><th scope="col">M2P</th><th scope="col">MP4</th><th scope="col">MKV</th>
   <th scope="col">FLV</th><th scope="col">SWF</th><th scope="col">3GP</th><th scope="col">ASF</th><th scope="col">M4V</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="row">LR2</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td><td class="Y">Yes</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes?</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">ruvit</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">nazoZZ</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes?</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">Angolmois</th>
   <td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">Sonorous</th>
   <td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">IIDXv, HDX</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td><td class="N">No</td><td class="N">No</td>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td>
  </tr>
  <tr>
   <th scope="row">uBMplay</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td>
   <td class="N">No</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">BGAEncAdv</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Q">?</td><td class="Q">?</td><td class="Y">Yes</td><td class="Y">Yes</td>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Y">Yes</td><td class="Q">?</td>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
  </tr>
  <tr>
   <th scope="row">MyO2</th>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
  </tr>
 </tbody>
</table>

<ul>
 <li>最も互換性が高い形式は <strong>MPEG1 (256x256)</strong> です。</li>
 <li><p><code>#xxx04</code> 以外のチャンネルでのビデオ・ファイルの再生は保証されません。</p>
  <ul>
   <li><ins datetime="2013-08-01T18:00:00+09:00">BGAEncAdv は <code>#xxx[04|06|07|0A]</code> のすべてのチャンネルで多重にビデオを再生できます。
    しかし、これが普通だと思わないでください。</ins></li>
  </ul></li>
 <li>イメージの LAYER は、ビデオの上層に表示することができます。ビデオの LAYER は...??</li>
 <li>ビデオが音声を含んでいる場合、ビデオ中の音声は無音になるべきです。<b class="red">しかし、nazoZZ はビデオの音声を鳴らします。</b></li>
 <li><p>以下の条件が満たされる場合、いくつかの実装はループ再生を行ないます:</p>
  <ol>
   <li>他のイメージによって中断されずに、ビデオが最終フレームまで達した。</li>
   <li>BMS の演奏時間がまだ残っている。</li>
  </ol>
  <p>この振る舞いをサポートする実装は、「汎用動画」を使いやすいでしょう。</p>
  <p><ins datetime="2013-08-01T18:00:00+09:00">E.g. <cite><a title="【詳細情報】 No.3 今朝に戻り隊 - [to be] Our moments / 加賀崎聡(Kei + schneider murotani)" href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=3&amp;event=60" hreflang="ja" class="external" rel="external">Our moments</a></cite>
   (Kei + schneider murotani, <time datetime="2009-09-18T09:04:56+09:00">2009-09-18</time>)</ins></p></li>
 <li id="VIDEO-REWINDING"><p><ins datetime="2013-10-06T15:30:00+09:00">いくつかの実装はビデオの再生位置を巻き戻すことができます。</ins></p>
  <p><ins datetime="2013-10-06T15:30:00+09:00">たとえば “<code>#BMP01&nbsp;mpg.mpg</code>” は、“<code>#00104:01010101</code>”
   によって 4 回 「最初から再生」 されるでしょう。</ins></p></li>
 <li><p>通常、ビデオの縦横比は 1:1 です。しかしながら、いくつかの実装は、4:3 や 16:9 などをサポートしています。</p>
  <p>LR2 や IIDXv は、ビデオもサイズを補正できます。</p></li>
 <li>O2mania では、定義がなくても、BMS と同じ場所でビデオ・ファイルが見つかった場合、ビデオは <code>#000</code> から再生されます。</li>
</ul>

<ul>
 <li><strong class="red">I give up.</strong> What is Codec? Delicious?</li>
 <li>イメージとビデオの表示方法は私にとって難しすぎます。私はまだほとんどこれらの詳細を理解することができません。</li>
 <li><ins id="ADD-2014-02-10" datetime="2014-02-10T22:30:00+09:00">256x256 より大きなサイズを備えたビデオ・ファイルを使用する BMS のうちのいくつかは、
  <a href="http://megaphone.blog64.fc2.com/blog-entry-907.html" class="external" rel="external" hreflang="ja" title="megaphone diary - BGAの縦横サイズが大きめなBMSリスト"><span itemprop="url">http://megaphone.blog64.fc2.com/blog-entry-907.html</span></a> に列挙されています。</ins></li>
</ul>
</section>

<!-- /#BMP -->
</section>



<section id="EXBMPXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXBMPXX">#EXBMP<var>[00-ZZ]</var>&nbsp;<var>a,r,g,b</var>&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td>BGA BASE</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2 (nanasi)</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>透明色を調整したイメージ・ファイルを定義します。</li>
 <li><code>#BMPxx</code> と同様に、その色の近似色も透明にします。</li>
 <li>省略可。</li>
 <li><code>#EXBMP<mark>xx</mark></code> のインデックスは <code>#BMP<mark>xx</mark></code> と共用です。</li>
 <li><p>各パラメータは、<code>0</code> から <code>255</code> までの 10 進数整数で指定します。パラメータのデリミタとしてコンマを使用します。</p>
  <table>
   <thead><tr><th scope="col">param</th><th scope="col">range</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td><code><var>a</var></code></td><td><code>[0-255]</code></td><td>alpha</td></tr>
    <tr><td><code><var>r</var></code></td><td><code>[0-255]</code></td><td>red</td></tr>
    <tr><td><code><var>g</var></code></td><td><code>[0-255]</code></td><td>green</td></tr>
    <tr><td><code><var>b</var></code></td><td><code>[0-255]</code></td><td>blue</td></tr>
   </tbody>
  </table>
  <table>
   <thead><tr><th scope="col">for example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#exbmp01&nbsp;0,0,0,0&nbsp;overlay.png
#00407:00000001</code></pre></td>
     <td>値がすべて <code>0</code> なので、透明化は行われません。 // ...? 要テスト</td>
    </tr>
   </tbody>
  </table></li>
 <li><code>#EXBMP</code> として定義されたイメージは、<code>#BGA</code>, <code>#@BGA</code>, <code>#SWBGA</code> の定義中でも使用することができます。
  (それらがサポートされているなら)</li>
</ul>
</section>



<section id="BGAXX" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#BGAXX">#BGA<var>[00-ZZ]</var>&nbsp;<var>[#BMP-index]</var>&nbsp;<var>x1</var>&nbsp;<var>y1</var>&nbsp;<var>x2</var>&nbsp;<var>y2</var>&nbsp;<var>dx</var>&nbsp;<var>dy</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td>BGA BASE</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2 (nanasi, Angolmois(2.0a2+), Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, pomu2)</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98de</td></tr>
  <tr><th scope="row">support:</th>
   <td>BM98de, DDR, MW, bemaniaDX, RDM, BMEV, WAview, nanasi, ruvit, uBMplay, BMSE, Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, pomu2</td></tr>
 </tbody>
</table>
<ul>
 <li><p>イメージ・ファイルの一部をトリムして表示します。値はピクセル単位です。</p>
  <table>
   <thead><tr><th scope="col">parameter</th><th scope="col">summary</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <th scope="row"><code><var>x1&nbsp;y1</var></code></th>
     <td>トリム開始位置</td>
     <td>オリジナルのイメージから切り抜かれた範囲の、<strong>左上隅</strong> の座標</td>
    </tr>
    <tr>
     <th scope="row"><code><var>x2&nbsp;y2</var></code></th>
     <td>トリム終了位置</td>
     <td>オリジナルのイメージから切り抜かれた範囲の、<strong>右下隅</strong> の座標</td>
    </tr>
    <tr>
     <th scope="row"><code><var>dx&nbsp;dy</var></code></th>
     <td>描画開始位置</td>
     <td>描画する領域の、<strong>左上隅</strong> の座標</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>For example:</p>
  <table>
   <thead>
    <tr>
     <th scope="col">元の画像: <code>#BMP<mark>01</mark>&nbsp;320x64.bmp</code></th>
     <th scope="col">切り抜く部分:</th>
     <th scope="col">表示する部分:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><img src="content/bga_320-64.png" alt="320x320 / grid 64px interval" width="320" height="320"></td>
     <td>
      <div class="bmp-layer"><div class="clip"></div></div>
      <p>(64, 64) から (128, 128) までを切り抜く。</p>
      <pre><code>#BGA02&nbsp;<mark>01</mark>&nbsp;<mark>64 64</mark>&nbsp;<mark>128&nbsp;128</mark>&nbsp;0&nbsp;0</code></pre>
     </td>
     <td>
      <div class="bmp-layer"><div class="clip andmove"></div></div>
      <p>キャンバスの (96, 96) に表示する。</p>
      <pre><code>#BGA03&nbsp;<mark>01</mark>&nbsp;64&nbsp;64&nbsp;128&nbsp;128&nbsp;<mark>96&nbsp;96</mark></code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <p>以下の URL は、BMSE による手順の例です:</p>
  <ol>
   <li><b>部分的に切り抜く:</b> <a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_pre4.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_pre4.png</span></a></li>
   <li><b>部分的に表示する:</b> <a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_pre5.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_pre5.png</span></a></li>
   <li><b>BMSE による <code>#BGA</code> 定義:</b> <a href="https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_input_demo.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_input_demo.gif</span></a></li>
  </ol></li>
 <li>BMSE の <code>#BGA</code>-<abbr title="User Interface">UI</abbr> はいまいちですが、それは <code>#BGA</code> コマンドの仕様がいまいちだからです。<!--
   (※ ｷﾘｯ) --></li>
 <li>通常、座標は、原点から右下方向に進みます。</li>
 <li><p>しかしながら、負数座標が指定されれば、左上方向に進むでしょう。</p>
  <dl>
   <dt><strong>BM98de の描画方式:</strong></dt>
   <dd>
    <p><cite>DTX file format specifications</cite> から:
     <span itemprop="url" class="u external">http://dtxmania.net/attach/qa%255Fdtx%255Fspec%255Fe.bga%255Fdesc%255Fe.jpg</span></p>
    <p><code><var>x1</var></code> または <code><var>y1</var></code> が負数である場合、以下の処理が行われます。</p>
    <ol>
     <li>最初に、負の数の値は <code>0</code> にセットされます。(切り捨て)</li>
     <li>切り捨てた後の描画領域の左上角が、(<code><var>dx</var></code>, <code><var>dy</var></code>) に表示されます。</li>
    </ol>
   </dd>
  </dl>
  <p>BMSE は負数座標をサポートしていません。</p></li>
 <li>トリムされたイメージ断片は、通常の <code>#BMP</code> のように、チャンネル <code>#xxx04/06/07</code> および <code>0A</code> にセットすることができます。</li>
 <li><code>#BGA</code> として定義されたイメージは、<code>#SWBGA</code> の定義中でも使用することができます。(もしサポートされているなら)</li>
 <li><p>同じインデックスが <code>#BMP</code> と <code>#BGA</code> に定義されている場合、<code>#BGA</code> が優先されます。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BMP01&nbsp;640x480.bmp
#BGA<mark>01</mark>&nbsp;01&nbsp;178&nbsp;99&nbsp;434&nbsp;355&nbsp;0&nbsp;0
#BGA02&nbsp;01&nbsp;179&nbsp;98&nbsp;435&nbsp;354&nbsp;0&nbsp;0
#BGA03&nbsp;01&nbsp;179&nbsp;97&nbsp;435&nbsp;353&nbsp;0&nbsp;0
#BGA04&nbsp;01&nbsp;180&nbsp;96&nbsp;436&nbsp;352&nbsp;0&nbsp;0
#BGA05&nbsp;01&nbsp;181&nbsp;95&nbsp;437&nbsp;351&nbsp;0&nbsp;0
#00104:0102030405</code></pre>
     </td>
     <td>
      <p><code>#BGA01-05</code> は、<code>#BGA</code> をサポートする実装で表示されます。</p>
      <p><code>#BMP01</code> は表示されず、単に <code>#BGA</code> から参照されます。</p>
      <p>(あるいは「<abbr title="End Of File">EOF</abbr> の近くのライン」が採用される？
       仕様に書かれていないので、私は詳細をテストする必要があります。)</p>
      <p><code>#BGA</code> をサポートしない実装で、<code>#BMP02-05</code> が定義されなければ、<code>#BMP01</code> はしばらく表示され、直ちに消えます。</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p><del datetime="2013-08-20T22:00:00+09:00">Angolmois
   は、<code>#BGA</code> が同じインデックスの <code>#BMP</code> を参照することを許容しません。(例: 上記の <code>#BGA01</code>)</del></p>
  <p><ins datetime="2013-08-20T22:00:00+09:00">[Angolmois e5cea53a2cbd またはそれ以降] この非互換性は修正されました。</ins></p></li>
</ul>

<section id="ABOUT-THE-COMPATIBILITY-OF-BGAXX" itemscope="itemscope">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;の互換性について</a></h4>
<p>あるいは <code>#BGA</code> の非互換性について。</p>
<table>
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col"><code>#BGA</code></th>
   <th scope="col"><code>#BMP</code></th>
   <th scope="col"><code>0&nbsp;0&nbsp;1&nbsp;1</code></th>
   <th scope="col">Align</th>
   <th scope="col">1digit</th>
   <th scope="col">Overlap</th>
   <th scope="col">Nega</th>
   <th scope="col">max-X</th>
   <th scope="col">max-Y</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="row">BM98de</th>
   <td class="Y">00-ZZ</td>
   <td class="N">0-255 <sup>[1]</sup></td>
   <td class="N">2x2 <sup>[2]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">4095</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">DDR</th>
   <td class="N">01-ZZ</td>
   <td class="N">0-255 <sup>[1]</sup></td>
   <td class="N">2x2 <sup>[2]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">4095</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">pomu2</th>
   <td class="N">01-ZZ</td>
   <td class="N">1-255 <sup>[1]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Q">?</td>
   <td class="Q">?</td>
  </tr>
  <tr>
   <th scope="row">MixWaver</th>
   <td class="N">01-ZZ</td>
   <td class="N">00-03 <sup>[3]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="N">638</td>
   <td class="N">478</td>
  </tr>
  <tr>
   <th scope="row">bemaniaDX</th>
   <td class="Y">00-ZZ <sup>[4]</sup></td>
   <td class="N">01-FZ <sup>[5]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">8128</td>
   <td class="bY">8191</td>
  </tr>
  <tr>
   <th scope="row">Rhythm-it</th>
   <td class="Y">00-ZZ</td>
   <td class="bY">00-FZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">8127</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">BMEV</th>
   <td class="N">01-ZZ</td>
   <td class="bY">00-FZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">70000+</td>
   <td class="Y">65535</td>
  </tr>
  <tr>
   <th scope="row">WAview</th>
   <td class="N">01-ZZ</td>
   <td class="Y">00-ZZ <sup>[6]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[7]</sup></td>
   <td class="Q">?</td>
   <td class="Q">?</td>
  </tr>
  <tr>
   <th scope="row">nanasi</th>
   <td class="Y">00-ZZ <sup>[4]</sup></td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="N">2147</td>
   <td class="N">2147</td>
  </tr>
  <tr>
   <th scope="row">ruv-it!</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[7]</sup></td>
   <td class="N">2147</td>
   <td class="N">2147</td>
  </tr>
  <tr>
   <th scope="row">Angolmois</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">Yes <sup>[10]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">16383</td>
   <td class="Y"><sub>[<var>y1</var>]</sub> 32767</td>
  </tr>
  <tr>
   <th scope="row">Sonorous</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[11]</sup></td>
   <td class="Y">Yes <sup>[11]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">16383?</td>
   <td class="Y"><sub>[<var>y1</var>]</sub> 32767?</td>
  </tr>
  <tr>
   <th scope="row">BMSE</th>
   <td class="N">01-ZZ</td>
   <td class="N">01-ZZ <sup>[5]</sup></td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">32767</td>
   <td class="Y">32767</td>
  </tr>
  <tr>
   <th scope="row">uBMplay -1.4.6</th>
   <td class="Y">00-ZZ</td>
   <td class="N">01-ZZ <sup>[5]</sup></td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="bY">4031</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">uBMplay 1.5.0+</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">4031</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">BGAEncAdv</th>
   <td class="Y">00-ZZ <sup>[4]</sup></td>
   <td class="Y">00-ZZ <sup>[8]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes <sup>[9]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[7]</sup></td>
   <td class="Y">70000+</td>
   <td class="Y">70000+</td>
  </tr>
 </tbody>
</table>
<ul>
 <li><p>表の <code>#BGA</code> カラムは、<code>#BGA</code> コマンドが使用できるインデックスの範囲を示します。</p>
  <ul>
   <li><code>01-ZZ</code> のグループは、<code>#BGA00</code> を <code>#BMP00</code> の代替として使用することができません。</li>
   <li>BMEV と WAview はデフォルトのミス画像を表示できないので、暫定的に <code>01-ZZ</code> グループに分類しています。</li>
   <li>註 [4]: 1 つ以上のイメージ・オブジェクトがチャンネル <code>04</code> か <code>07</code> か <code>0A</code> (対応していれば)
    に存在するなら、<code>#BGA00</code> は使用することができます。</li>
  </ul></li>
 <li><p>表の <code>#BMP</code> カラムは、<code>#BGA</code> コマンドから参照できる <code>#BMP</code> インデックスの範囲を示します。</p>
  <ul>
   <li><p>註 [1]: 「16 進数インデックス <code>00-FF</code> を 10 進数に換算した値」 が指定されなければなりません。</p>
    <p>36 進数インデックス <code>[G-Z]</code> は使用できません。したがって、参照可能な画像は最大 256 ファイルです。</p></li>
   <li>註 [3]: 参照できる <code>#BMP</code> は <code>00</code>, <code>01</code>, <code>02</code>, <code>03</code> の 4 スロットのみです。
    他のインデックスを参照しても何も表示されません。</li>
   <li>註 [5]: <code>#BMP00</code> を参照することができません。</li>
   <li><p>註 [6]: <code>100</code> 以上 <code>1295</code> 以下の 10 進数整数を指定すると、「36 進数の <code>#BMP</code> 定義番号を、10 進数に換算した値」
     として解釈されます。</p>
    <p>“<code>#BGA<var>xx</var>&nbsp;099&nbsp;...</code>” および
     “<code>#BGA<var>xx</var>&nbsp;009&nbsp;...</code>” は <code>#BMP09</code> を参照します。</p></li>
   <li>註 [8]: ビデオファイルに対する座標指定も有効です。</li>
  </ul></li>
 <li><p>“<code>0&nbsp;0&nbsp;1&nbsp;1</code>” カラムは、“<code><var>x1&nbsp;y1&nbsp;x2&nbsp;y2</var></code>”
   パラメータがどのように扱われるのかを示します。</p>
  <ul>
   <li>大多数のアプリケーションは、この指定によって 「幅 1 pixel, 高さ 1 pixel」 の領域をトリムします。</li>
   <li>註 [2]: BM98de と DDR は、この指定によって 「幅 2 pixel, 高さ 2 pixel」 の領域をトリムします。</li>
  </ul></li>
 <li><p>Align カラムは、<code>#BGA</code> 内の 「連続する空白」 に対する寛容さを示します。区切り文字として使用可能なら “Yes” です。</p>
  <ul>
   <li><p>註 [9]: 空白のかわりにコンマ (U+002C) も使用できます。(BGAEncAdv の sample.bms を参照)</p>
    <p>両者は混在できますが、もし 2 個以上のコンマが連続すれば (e.g. “<code>0,,0</code>”)、BGAEncAdv は強制終了するでしょう。</p></li>
  </ul></li>
 <li><p>1digit カラムは、<code>#BMP</code> インデックスらしき指定に対する寛容さを示します。
   “<code>#BGA<var>xx</var>&nbsp;<mark>1</mark>&nbsp;...</code>” が <code>#BMP<mark>01</mark></code>
   への参照として有効なら “Yes” です。</p>
  <ul>
   <li>E.g. <cite><a href="https://web.archive.org/web/*/http://www.knm.mydns.jp:32100/download-area/ed_wind_hc.lzh" class="external" rel="external"><span lang="ja" xml:lang="ja" class="DBCS">風のたどり着く場所</span> (Extra-Mix)</a></cite>
    (<span lang="ja" xml:lang="ja" class="DBCS">猫蟹丸</span>, <time datetime="2001-12-22">2001-12-22</time>)</li>
   <li><ins datetime="2013-11-18T08:30:00+09:00">註 [11]: Sonorous 0.1.0-pre (<time datetime="2013-11-18T03:01:53+09:00">2013-11-18</time>)
    にて、この非互換性は修正されました。</ins></li>
  </ul></li>
 <li><p>Overlap カラムは、<code>#BMP</code> と <code>#BGA</code> の定義番号の競合に対する寛容さを示します。
   <code>#BGA</code> が優先的に表示されるなら “Yes” です。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">Remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#TITLE&nbsp;BMP&nbsp;vs&nbsp;BGA
#BPM&nbsp;120
#BMP01&nbsp;1.bmp
#BMP02&nbsp;2.bmp
#BGA01&nbsp;02&nbsp;0&nbsp;0&nbsp;255&nbsp;255&nbsp;0&nbsp;0
#BGA02&nbsp;01&nbsp;0&nbsp;0&nbsp;255&nbsp;255&nbsp;0&nbsp;0
#00104:0102</code></pre></td>
     <td><p>このような曖昧な例が実際にいくつか存在します。</p>
      <p>しかし BM98de 仕様は競合時の処理を規定していません。</p>
      <p><code>#BGA</code> が優先的に表示される保証はないので、私たちは曖昧な記述を避けるべきです。</p>
      <p><del datetime="2013-08-20T22:00:00+09:00">また、直接的なオーバーラップは Angolmois を強制終了させるでしょう。
       (例: “<code>#BGA<mark>01</mark>&nbsp;<mark>01</mark>&nbsp;...</code>”)</del></p>
      <p><ins datetime="2013-08-20T22:00:00+09:00">註 [10]: Angolmois e5cea53a2cbd (<time datetime="2013-08-15T03:38:50+09:00">2013-08-15 03:38 +0900</time>)
       にて、この非互換性は修正されました。</ins></p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>Nega カラムは、負数座標に対する寛容さを示します。私が知るサンプルはひとつしかありません。
   (<a href="https://web.archive.org/web/*/http://mru.hp.infoseek.co.jp/bm98_beta1.zip" class="external" rel="external">newbgatest.bms</a>)</p>
  <p>註 [7]:</p>
  <ul>
   <li>WAview はおそらく負数座標を表示できます。しかし WAview の座標の扱いは独特すぎるので、互換性がありません。</li>
   <li>ruvit は負数座標にタイル的な処理を加えます。したがって BM98de の表示とは異なります。</li>
   <li><p>BGAEncAdv での表示は、BM98de とは微妙に異なります。</p>
    <ul>
     <li><code><var>x1</var></code>, <code><var>y1</var></code>, <code><var>x2</var></code>, あるいは <code><var>y2</var></code>
      が負数の場合、<code><var>dx</var></code> と <code><var>dy</var></code> の値が 2 倍になります。(バグ?)</li>
     <li><p><code><var>dx</var></code> または <code><var>dy</var></code>
       の値が負数である場合、左方向または上方向へはみ出す部分はカットされません。</p>
      <p>これは BM98de や uBMplay 1.5.0 (またはそれ以降) と同じ振る舞いです。詳細は BGAEncAdv の sample.bms を参照してください。</p></li>
    </ul></li>
  </ul></li>
 <li><p>max-X および max-Y カラムは、正確に表示できる座標の上限を示します。単位はピクセルです。</p>
  <ul>
   <li>これらの値は<strong class="red">ビデオメモリ128MB</strong>環境における調査結果です。ハイスペックなコンピュータでは異なる結果がもたらされるでしょう。</li>
   <li>これらの値よりも大きな画像を参照した場合、以下の不具合が発生する可能性があります:
    表示されない、表示が崩れる、<strong class="red">コンピュータの応答が停止する</strong>、etc.</li>
   <li><p><a href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=5&amp;event=16" class="external" rel="external" hreflang="ja" title="BGA EVENT - i respect you. - details"><cite>FELYS</cite> の差分</a>
     は、<code>#BGA</code> によって幅 3236 pixel のイメージファイルをスクロールします。(<code>#066-073</code>)</p>
    <p>この差分は BM98de &amp; DDR &amp; pomu2 専用です。そうでない形に書き直すことは可能ですが、MixWaver<del datetime="2014-04-17T19:10:00+09:00">, nanasi, ruvit</del> はこれを表示できません。</p></li>
  </ul></li>
</ul>
<!-- /ABOUT-THE-COMPATIBILITY-OF-BGAXX -->
</section>

<!-- /#BGAXX -->
</section>



<section id="ATBGAXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ATBGAXX">#@BGA<var>[00-ZZ]</var>&nbsp;<var>[#BMP-index]</var>&nbsp;<var>sx</var>&nbsp;<var>sy</var>&nbsp;<var>w</var>&nbsp;<var>h</var>&nbsp;<var>dx</var>&nbsp;<var>dy</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td>BGA BASE</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2 (nanasi, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>)</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only), BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>イメージ・ファイルの一部をトリムして表示します。</li>
 <li><p>このコマンドは <code>#BGA</code> のシンタックスシュガーであり、内部処理は <code>#BGA</code> と同じです。</p>
  <table>
   <thead><tr><th scope="col">paramemter</th><th scope="col">summary</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <th scope="row"><code><var>sx&nbsp;sy</var></code></th>
     <td>トリム開始位置</td>
     <td>オリジナルのイメージから切り抜かれた範囲の、<strong>左上隅</strong> の座標</td>
    </tr>
    <tr>
     <th scope="row"><code><var>w&nbsp;h</var></code></th>
     <td>トリムする距離</td>
     <td>トリム開始位置からの、<strong>幅と高さ</strong></td>
    </tr>
    <tr>
     <th scope="row"><code><var>dx&nbsp;dy</var></code></th>
     <td>描画開始位置</td>
     <td>描画する領域の、<strong>左上隅</strong> の座標</td>
    </tr>
   </tbody>
  </table></li>
 <li>切り抜くべきサイズが決まっている場合、<code>#@BGA</code> は、<code>#BGA</code> よりも快適に記述することができます。</li>
</ul>
</section>



<section id="POORBGA" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#POORBGA">#POORBGA&nbsp;<var>[0-2]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, pomu2, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>POOR (MISS) イメージの表示方式が定義されます。</p>
  <table>
   <tbody>
    <tr>
     <th scope="row"><code>0</code>:</th>
     <td>デフォルト。ミスを出したとき、数秒間チャンネル <code>#xxx06</code> に表示を変更する、オーソドックスなタイプ。</td>
    </tr>
    <tr>
     <th scope="row"><code>1</code>:</th>
     <td><p>BGA LAYER の上に <code>#xxx06</code> を表示します。(ミスを出したとき)</p>
      <table>
       <thead><tr><th scope="col">summary</th><th scope="col">channel</th><th scope="col">remarks</th></tr></thead>
       <tbody>
        <tr><th scope="row" class="ind4">BGA POOR (MISS)</th><td><code>#xxx06</code></td><td>top level</td></tr>
        <tr><th scope="row" class="ind3">BGA LAYER-2</th><td><code>#xxx0A</code></td><td>second level</td></tr>
        <tr><th scope="row" class="ind2">BGA LAYER</th><td><code>#xxx07</code></td><td>third level</td></tr>
        <tr><th scope="row" class="ind1">BGA BASE</th><td><code>#xxx04</code></td><td>lowest level</td></tr>
       </tbody>
      </table>
      <p>e.g. <cite>SigSig</cite> (from <cite>beatmaniaIIDX</cite>): <a class="external" rel="external" title="六段底辺のヘタレプレイ。-SigSig[H] - YouTube" href="https://www.youtube.com/watch?v=0UOx8sxzYgg"><span itemprop="url">https://www.youtube.com/watch?v=0UOx8sxzYgg</span></a></p>
      <ul>
       <li>ミスを出したとき、チャンネル <code>#xxx06</code> は、通常のチャンネル <code>#xxx04/07</code> の上の層に重なって表示されます。</li>
       <li>その結果、「走って跪く少女」のイメージシーケンスが表示されます――ちょうど別種の LAYER のように。</li>
       <li>この例は BMS ではなく beatmaniaIIDX ですが、これに似ている演出効果を実現することができます。</li>
      </ul>
     </td>
    </tr>
    <tr>
     <th scope="row"><code>2</code>:</th>
     <td><p>非表示。</p>
      <p>ミスを出したとき、表示はチャンネル <code>#xxx06</code> に切り替わりません。通常のイメージシーケンスの表示が継続されます。</p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>uBMplay には <code>#POORBGA</code> に似た機能があります。</p>
  <p>uBMplay は、イメージの表示方式を、以下のメニューから変更することができます。</p>
  <table>
   <thead><tr><th scope="col">label</th><th scope="col">display channels</th></tr></thead>
   <tbody>
    <tr><th scope="row">NORMAL</th><td><code>#xxx04</code> + <code>#xxx07</code></td></tr>
    <tr><th scope="row">ALWAYS MISS</th><td><code>#xxx06</code></td></tr>
    <tr><th scope="row">OFF</th><td>(非表示)</td></tr>
    <tr><th scope="row">BASE ONLY</th><td><code>#xxx04</code></td></tr>
    <tr><th scope="row">LAYER ONLY</th><td><code>#xxx07</code></td></tr>
   </tbody>
  </table>
  <p>この機能はテストプレイで非常に役立ちます。</p></li>
 <li><p>BGAEncAdv には <code>#POORBGA</code> に似た機能があります。 (コマンドライン引数 “<code>-l&nbsp;<var>[0-2]</var></code>”)</p>
  <table>
   <tbody>
    <tr><th scope="row"><code>-l&nbsp;0</code></th><td>Miss-layer only</td></tr>
    <tr><th scope="row"><code>-l&nbsp;1</code></th>
     <td>Show all layer // これは “<code>#POORBGA&nbsp;1</code>” と等価です。
      <ins datetime="2013-08-04T01:00:00+09:00">なおかつ、“ALWAYS MISS” が適用されます。</ins></td></tr>
    <tr><th scope="row"><code>-l&nbsp;2</code></th><td>Standard (default)</td></tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="SWBGAXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SWBGAXX">#SWBGA<var>[01-ZZ]</var>&nbsp;<var>fr</var>:<var>time</var>:<var>line</var>:<var>loop</var>:<var>a,r,g,b</var>&nbsp;<var>pattern</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxxA5</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
  <tr><th scope="row">caution:</th>
   <td><span class="red">これは試験的に実装されたコマンドです。今後、仕様が変更されるかもしれません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>キー押下に反応するイメージシーケンス。 これはキーバインド LAYER アニメーションです。</p>
  <dl>
   <dt><code><var>fr</var></code>:</dt>
   <dd>
    <p>フレームレート。 ワンフレームの所要時間 (-- アニメーションフレームの開始から終了までの経過時間、ミリ秒)</p>
    <p>もしフレームレートが 60 FPS なら、値として 17 を指定します。 (Frames Per Second = 1000 / 60).</p>
   </dd>
   <dt><code><var>time</var></code>:</dt>
   <dd>
    <p>アニメーションの経過時間の合計。 (ms)</p>
    <p>0 を指定した場合は、定義されたラインが押下され続けている間、アニメーションの表示が継続されます。</p>
   </dd>
   <dt><code><var>line</var></code>:</dt>
   <dd><p>適用するべきラインのチャンネルを指定します。 値の範囲は <code><var>[11-19]</var></code> <code><var>[21-29]</var></code> です。</p></dd>
   <dt><code><var>loop</var></code>:</dt>
   <dd>
    <p>アニメーションが完了し、表示時間がまだ残っている場合にどうするか。</p>
    <table>
     <tbody>
      <tr><th scope="row"><code>0</code>:</th><td>最後のフレームが保持されます。 「ループしない」</td></tr>
      <tr><th scope="row"><code>1</code>:</th><td>アニメーションが巻き戻されます。 「ループする」</td></tr>
     </tbody>
    </table>
   </dd>
   <dt><code><var>a,r,g,b</var></code>:</dt>
   <dd><p>Alpha channel, Red, Green, Blue. 値の範囲は <code><var>[0-255]</var></code> です。デリミタはコンマです。</p></dd>
   <dt><code><var>pattern</var></code></dt>
   <dd>
    <p>アニメーションのパターンを、BMS の MAIN DATA チャンネル・メッセージの記法を使用して記述します。 (e.g. <code>01020304</code>)</p>
    <p><code>#BMP</code>, <code>#EXBMP</code>, <code>#BGA</code>, <code>#@BGA</code> の各インデックスを使用することができます。</p>
    <p>(これらのインデックスは <code>#BMP</code> 族の間で共有される、本質的に同一のものです。)</p>
    <p>このコマンドは BMS の再生とは別のプロセスなので、分解能は存在しません。</p>
    <p>通常のイメージ・コマンドとは異なり、<code>00</code> は、そのまま
     <code>#BMP00</code>(/<code>#EXBMP00</code>/<code>#BGA00</code>/<code>#@BGA00</code>) のイメージを表示します。</p>
    <table>
     <thead><tr><td></td><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <th scope="row">通常の記法:</th>
       <td><pre><code>#00404:<mark>00</mark>11<mark>00</mark>22</code></pre></td>
       <td><code>00</code> は <a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">休符</a></td>
      </tr>
      <tr>
       <th scope="row">SWBGA の記法:</th>
       <td><pre><code>#swbga01&nbsp;100:400:16:0:255,255,255,255&nbsp;<mark>00</mark>11<mark>00</mark>22</code></pre></td>
       <td><code>00</code> は <code>#BMP00</code></td>
      </tr>
     </tbody>
    </table>
    <p>したがって、表示するべきでないフレームがある場合、私たちは
     <code>00</code> の代わりに透明なイメージか空の <code>#BMP</code> インデックスを指定する必要があります。</p>
   </dd>
  </dl></li>
</ul>

<ul>
 <li>さしあたり、複数の BGA スイッチングが同時に適用される場合の振る舞いは規定されません。</li>
 <li>私がテストした限りでは、キーバインド・アニメーションは排他的で、新しい入力が優先的に表示されるようです。</li>
 <li><p>example 1:</p>
  <table><tbody><tr><td><pre><code>#SWBGA01&nbsp;100:400:16:0:255,255,255,255&nbsp;01020304
#070A5:01</code></pre></td></tr></tbody></table>
  <ul>
   <li><code>#070</code> またはそれ以降で、チャンネル <code>#xxx16</code> (1P 側 SCRATCH) が入力されたとき、これは表示されます。</li>
   <li>フレームレートは 10 FPS です。 (100 = 1000/10)</li>
   <li>持続は 400ms です。</li>
   <li>ループしません。</li>
   <li><p>タイムラインは以下のとおりです:</p>
    <ol>
     <li>キーが入力されれば、<code>#BMP01</code> が表示されます。</li>
     <li>100ms が経過すれば、<code>#BMP02</code> が表示されます。</li>
     <li>200ms が経過すれば、<code>#BMP03</code> が表示されます。</li>
     <li>300ms が経過すれば、<code>#BMP04</code> が表示されます。</li>
     <li>400ms が経過すれば、キーバインド・アニメーションの表示が終了します。</li>
    </ol></li>
   <li><code>#BMP01-04</code> のイメージ中で、「完全に不透明で、完全に白い部分」は透明になり、通常の BMS のイメージシーケンスを表示します。</li>
  </ul></li>
 <li><p>example 2:</p>
  <table><tbody><tr><td><pre><code>#SWBGA02&nbsp;50:0:11:1:255,255,255,255&nbsp;01020304
#010A5:02</code></pre></td></tr></tbody></table>
  <ul>
   <li><code>#010</code> またはそれ以降で、チャンネル <code>#xxx11</code> (1P 側 KEY1) が入力されたとき、これは表示されます。</li>
   <li>フレームレートは 20 FPS です。 (50 = 1000/20)</li>
   <li>持続は「KEY1 を押し続ける間」です。</li>
   <li>ループします。</li>
   <li><p>タイムラインは以下のとおりです:</p>
    <ol>
     <li>キーが入力されれば、<code>#BMP01</code> が表示されます。</li>
     <li>50ms 経過時、キー押下状態がまだ保持されていれば、<code>#BMP02</code> が表示されます。</li>
     <li>100ms 経過時、キー押下状態がまだ保持されていれば、<code>#BMP03</code> が表示されます。</li>
     <li>150ms 経過時、キー押下状態がまだ保持されていれば、<code>#BMP04</code> が表示されます。</li>
     <li>200ms 経過時、キー押下状態がまだ保持されていれば、アニメーションは先頭に巻き戻されます。</li>
    </ol></li>
   <li><code>#BMP01-04</code> のイメージのなかで、「完全に不透明で、完全に白い部分」は透明になり、通常の BMS のイメージシーケンスを表示します。</li>
  </ul></li>
</ul>
</section>



<section id="ARGBXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ARGBXX">#ARGB<var>[01-ZZ]</var>&nbsp;<var>a,r,g,b</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">summary</th></tr></thead>
 <tbody>
  <tr><td><code>#xxxA1</code></td><td>BGA BASE の描画時 aRGB 変更</td></tr>
  <tr><td><code>#xxxA2</code></td><td>BGA LAYER の描画時 aRGB 変更</td></tr>
  <tr><td><code>#xxxA3</code></td><td>BGA LAYER2 の描画時 aRGB 変更</td></tr>
  <tr><td><code>#xxxA4</code></td><td>BGA POOR の描画時 aRGB 変更</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only), BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>BGA の各層に適用されるべき aRGB の値が定義されます。デリミタはコンマです。</p>
  <table>
   <thead><tr><th scope="col">param</th><th scope="col">range</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td><code><var>a</var></code></td><td><code>[0-255]</code></td><td>alpha</td></tr>
    <tr><td><code><var>r</var></code></td><td><code>[0-255]</code></td><td>red</td></tr>
    <tr><td><code><var>g</var></code></td><td><code>[0-255]</code></td><td>green</td></tr>
    <tr><td><code><var>b</var></code></td><td><code>[0-255]</code></td><td>blue</td></tr>
   </tbody>
  </table></li>
 <li><p><code>#ARGB</code> の値は、不透明度チャンネル <code>#xxx0B-0E</code> と共有されます。</p>
  <table>
   <thead><tr><th scope="col">channel</th><th scope="col">summary</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td><code>#xxx0B</code></td><td>BGA BASE's Opacity</td><td>透明 « <code><var>[01-FF]</var></code> » 不透明</td></tr>
    <tr><td><code>#xxx0C</code></td><td>BGA LAYER's Opacity</td><td>透明 « <code><var>[01-FF]</var></code> » 不透明</td></tr>
    <tr><td><code>#xxx0D</code></td><td>BGA LAYER2's Opacity</td><td>透明 « <code><var>[01-FF]</var></code> » 不透明</td></tr>
    <tr><td><code>#xxx0E</code></td><td>BGA POOR's Opacity</td><td>透明 « <code><var>[01-FF]</var></code> » 不透明</td></tr>
   </tbody>
  </table></li>
 <li><code>#xxx0B-0E</code> は透明度だけを変更できますが、<code>#ARGB</code> は透過色の変更も扱うことができます。</li>
 <li><code>#EXBMP</code> は、各ファイルに適用されるべき aRGB です。 (単数掛け)</li>
 <li><code>#ARGB</code> は、各 BGA チャンネルに適用されるべき aRGB です。 (全体掛け)</li>
 <li>BGAEncAdv は、1 個以上のスペース (U+0020) もデリミタとして使用できます。</li>
 <li>BGAEncAdv は、<strong>ビデオファイル</strong>に対しても <code>#ARGB</code> を適用できます。(sample.bms を参照)</li>
</ul>
</section>



<section id="VIDEOFILE">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEOFILE">#VIDEOFILE&nbsp;<var>videofilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, TypeAce, Be-Pachi Music, RDM, ruvit, Sonorous(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>BGA として再生するビデオのファイル名を指定します。</p>
  <table>
   <tbody>
    <tr>
     <th scope="row" rowspan="2" class="vam">filetype:</th>
     <th scope="row">MPEG のサポート:</th>
     <td>TypeAce, RDM, ruvit</td>
    </tr>
    <tr>
     <th scope="row">AVI のサポート:</th>
     <td>bemaniaDX, TypeAce, Be-Pachi Music, RDM, ruvit</td>
    </tr>
    <tr>
     <th scope="row">filename:</th>
     <td colspan="2">bemaniaDX では、フルパスと相対パスも指定することができます。</td>
    </tr>
    <tr>
     <th scope="row">loopable:</th>
     <td colspan="2">演奏時間が残っていれば、ビデオはループします。ビデオ再生は <code>#000</code> から開始されます。</td>
    </tr>
    <tr>
     <th scope="row">sounding:</th>
     <td colspan="2">ビデオが含んでいる音声は鳴らされません。ビデオの音声は無視されます。</td>
    </tr>
   </tbody>
  </table></li>
 <li>AVI は、PC にインストールされたコーデックに依存します。</li>
 <li><p>bemaniaDX の場合:</p>
  <ul>
   <li><p>色が褪せる場合、<code>#VIDEOCOLORS</code> のカラーパレット定義は、ビデオのカラーパレットより低いかもしれません。</p>
    <p><code>#VIDEOCOLORS</code> を正確に指定してください。</p></li>
   <li><p>チャンネル <code>#xxx04</code>, <code>07</code>, および <code>06</code> は、ビデオと同時に使用することができます。</p>
    <ul>
     <li>チャンネル <code>#xxx04</code> は、VIDEOFILE の上に積み重ねられます。</li>
     <li>チャンネル <code>#xxx07</code> は、チャンネル <code>#xxx04</code> の上に積み重ねられます。</li>
    </ul>
    <table>
     <thead><tr><th scope="col">summary</th><th scope="col">channel/header</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr><th scope="row" class="ind3">BGA LAYER</th><td><code>#xxx07</code></td><td>top level</td></tr>
      <tr><th scope="row" class="ind2">BGA BASE</th><td><code>#xxx04</code></td><td>middle level</td></tr>
      <tr><th scope="row" class="ind1">VIDEOFILE</th><td><code>#VIDEOFILE</code></td><td>bottom level</td></tr>
     </tbody>
    </table></li>
   <li>チャンネル <code>#xxx04</code> および <code>#xxx07</code> 両方の、黒い部分 (RGB:00:00:00) は、透明になります。</li>
   <li><p>ミスを出したとき、チャンネル <code>#xxx04</code>+<code>#xxx07</code> の表示は、チャンネル <code>#xxx06</code> のディスプレイに変わります。</p>
    <p>一定時間が経過すれば、再びチャンネル <code>#xxx04</code>+<code>#xxx07</code> のディスプレイに戻ります。</p>
    <table>
     <thead><tr><th scope="col">summary</th><th scope="col">channel/header</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr><th scope="row" class="ind2">BGA POOR</th><td><code>#xxx06</code></td><td>top level</td></tr>
      <tr><th scope="row" class="ind1">VIDEOFILE</th><td><code>#VIDEOFILE</code></td><td>bottom level</td></tr>
     </tbody>
    </table>
    <p>同様に、チャンネル <code>#xxx06</code> の黒い部分 (RGB:00:00:00) は透明になります。</p></li>
  </ul></li>
 <li>RDM と ruvit では、VIDEOFILE と BGA のチャンネルは、どちらか片方だけが表示されます。(排他的な表示)</li>
</ul>
</section>



<section id="VIDEOFPS">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEOFPS">#VIDEOf/s&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>ビデオのフレームレート (秒間表示フレーム数) が定義されます。</li>
 <li>値として、小数を含む10進数を指定することができます。</li>
 <li>ビデオのフレームレートは、AVI ファイルのプロパティ「フレーム率」からチェックすることができます。(「<var>n</var> フレーム/秒」)</li>
 <li>このコマンドが省略される場合、AVI ファイルはファイル自身のフレームレートで再生されます。</li>
 <li><p>再生速度を変更する例:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#VIDEOFILE&nbsp;MOVIE.avi
#VIDEOf/s&nbsp;30</code></pre></td>
     <td><p>MOVIE.avi ファイル自体のフレームレートは、15 フレーム/秒 です。</p>
      <p>ビデオの再生速度は、30 FPS にセットされます。</p></td>
    </tr>
   </tbody>
  </table>
  <p>MOVIE.aviは 2 倍速で再生されます。</p></li>
</ul>
</section>



<section id="VIDEOCOLORS">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEOCOLORS">#VIDEOCOLORS&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>ビデオのカラーパレットを定義します。</li>
 <li>ビデオのカラーパレットは、AVI ファイルのプロパティ「ビデオ サンプル サイズ」からチェックすることができます。(「<var>n</var> ビット」)</li>
 <li>このコマンドが省略される場合、値には <code>16</code> が適用されます。 (16bit color)</li>
</ul>
</section>



<section id="VIDEODLY">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#VIDEODLY">#VIDEODLY&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>ビデオがどのフレームから再生されるかを定義します。つまり、ビデオのディレイをセットします。</li>
 <li>このコマンドが省略される場合、<code>#000</code> の先頭位置で、0 フレーム目からビデオ再生が開始されます。 (遅延しない)</li>
</ul>
</section>



<section id="MOVIE">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MOVIE">#MOVIE&nbsp;<var>videofilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DXEmu</td></tr>
  <tr><th scope="row">support:</th><td>DXEmu, IIDXv, HDX, Sonorous(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>ビデオは <code>#000</code> の先頭から再生されます。</li>
 <li><p><code>#MOVIE</code> およびチャンネル <code>#xxx04</code> が競合する場合:</p>
  <ul>
   <li>チャンネル <code>#xxx04</code> がイメージ・ファイルである場合 (BMP、PNGなど)、<code>#MOVIE</code> 側が優先されます。</li>
   <li>チャンネル <code>#xxx04</code> と <code>#MOVIE</code> の両方がビデオ・ファイルである場合、チャンネル <code>#xxx04</code> 側が優先されます。</li>
  </ul></li>
 <li>ループしません。 演奏時間が残っている場合、ビデオは最後のフレームを表示したまま停止します。</li>
 <li>ビデオが音声を含んでいる場合、ビデオの音声は再生しません。</li>
</ul>
</section>



<section id="SEEKXX">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SEEKXX">#SEEK<var>[00-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx05</code></td></tr>
  <tr><th scope="row">origin:</th><td>LR</td></tr>
  <tr><th scope="row">support:</th><td>LR, (LR2 で削除済み ?)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>現在のビデオの再生位置を、ミリ秒単位で変更します。</li>
 <li>私は、このコマンドの詳細を全く知りません。</li>
</ul>
</section>



<section id="EXTCHR" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXTCHR">#ExtChr&nbsp;<var>SpriteNum</var>&nbsp;<var>BMPNum</var>&nbsp;<var>startX</var>&nbsp;<var>startY</var>&nbsp;<var>endX</var>&nbsp;<var>endY</var>&nbsp;[<var>offsetX</var>&nbsp;<var>offsetY</var>&nbsp;[<var>x</var>&nbsp;<var>y</var>]]</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx05</code></td></tr>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>BM98k, DDR (部分的に)</td></tr>
  <tr>
   <th scope="row">detail:</th>
   <td><cite>BM98FinalSecret</cite> (<a class="external" rel="external" hreflang="ja" title="BM98FinalSecret" href="http://bm98.yaneu.com/bm98/bm98secret.html"><span itemprop="url">http://bm98.yaneu.com/bm98/bm98secret.html</span></a>)</td>
  </tr>
  <!-- 
   (tr)
    (th)(placeholder)(/th)
    (td)((span itemprop="url" class="u")https://hitkey.nekokan.dyndns.info/bm98k_extchr.htm (/span))(/td)
   (/tr)
  -->
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BMS 側で準備した Extended-Character ファイルを、BM98 に適用します。</li>
 <li>プレイスクリーンに表示された要素はすべて、BMS 側が準備したイメージ・ファイルの一部と取り替えて表示することができます。</li>
 <li>これは、プレイ・スクリーンのユーザ・インタフェースをカスタマイズするコマンドです。</li>
 <li><p>詳細:</p>
  <dl>
   <dt><code><var>SpriteNum</var></code>: <code><var>[0-1023]</var></code> (?)</dt>
   <dd><p>変更するキャラクタのインデックスを、内部的に準備されているキャラクタ・マップから選択して指定します。</p></dd>
   <dt><code><var>BMPNum</var></code>: <code><var>[00-FF]</var></code></dt>
   <dd>
    <p><code>#ExtChr</code> が参照するために、ビットマップ・ファイルを事前に <code>#BMP</code> として定義することが必要です。</p>
    <p>このファイルは切り抜かれるので、256x256 より大きなイメージも定義することができます。</p>
    <p><del datetime="2013-03-16T20:30:00+09:00">実際には、仕様と異なり、<code>#BMP</code> インデックスは <code>[00-09]</code> あるいは <code>[0-9]</code> 以外には指定することができません。</del></p>
    <p><ins datetime="2013-03-16T20:30:00+09:00"><code><var>[#BMP-index]</var></code> の 16 進数を 10 進数に変換して、それを指定してください。</ins></p>
    <p><ins>おそらく、<code>-1</code> と <code>257</code> は、BM98 のデフォルトテーマとして割り当てられています。これらも操作できるでしょう。</ins></p>
   </dd>
   <dt><code><var>startX&nbsp;startY</var></code>:</dt>
   <dd><p>トリム開始位置。オリジナルのイメージから切り抜かれた範囲の、左上隅の座標。</p></dd>
   <dt><code><var>endX&nbsp;endY</var></code>:</dt>
   <dd><p>トリム終了位置。オリジナルのイメージから切り抜かれた範囲の、右下隅の座標。</p></dd>
   <dt><code><var>offsetX&nbsp;offsetY</var></code>:</dt>
   <dd>
    <p>切り抜いた座標に、オフセットを加えます。</p>
    <ul>
     <li>例えば、イメージ・クリップがオフセット (-5, -10) を持っているとしましょう。</li>
     <li>このイメージ・クリップに対して、座標 (100, 120) への表示が命じられたとき、</li>
     <li>実際には、座標 (95, 110) に表示されます。</li>
    </ul>
    <p>オフセットが不要であれば、この「offsetX offsetY」パラメータは省略可能です。</p>
   </dd>
   <dt><code><var>x&nbsp;y</var></code>:</dt>
   <dd>
    <p>絶対座標を指定します。 静的な要素に対して指定されることが想定されています。</p>
    <p>判定ライン直下のキーボード・イメージを変更する場合、など。</p>
    <p>不要であれば、この「x y」パラメータは省略可能です。</p>
    <p>このパラメータを指定する場合、「オフセット」が不要であっても、「オフセット」の指定は省略することができません。</p>
   </dd>
  </dl></li>
 <li><p>単純な例:</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#bmp00&nbsp;custom_skin1.bmp
#bmp09&nbsp;custom_skin2.bmp
#bmpFF&nbsp;custom_skin3.bmp
#extchr&nbsp;512&nbsp;&nbsp;09&nbsp;30&nbsp;&nbsp;0&nbsp;99&nbsp;&nbsp;9
#extchr&nbsp;514&nbsp;255&nbsp;38&nbsp;11&nbsp;62&nbsp;19
#extchr&nbsp;516&nbsp;&nbsp;&nbsp;0&nbsp;38&nbsp;&nbsp;1&nbsp;62&nbsp;&nbsp;9&nbsp;-2&nbsp;-2
#extchr&nbsp;513&nbsp;&nbsp;&nbsp;0&nbsp;38&nbsp;&nbsp;1&nbsp;62&nbsp;&nbsp;9&nbsp;-2&nbsp;-2&nbsp;0&nbsp;0
#extchr&nbsp;512&nbsp;&nbsp;&nbsp;9&nbsp;30&nbsp;&nbsp;0&nbsp;49&nbsp;19</code></pre></td>
     <td class="vab">// characterID-<code>512</code> 用のコマンドを上書き</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>DDR は <cite>Project2DX</cite> フォーマットを部分的にサポートしています。(1P 用のデータのみ)</p>
  <ul>
   <li>このフォーマットは、1P 側 KEY6 および KEY7 に、チャンネル <code>#xxx21</code> および <code>#xxx22</code> を割り当てる、スキンで実現する 7KEYS もどきです。</li>
   <li>これは 7KEYS をサポートする実装が存在しなかった時期の発明です。</li>
   <li><p>BMS に以下の記述のいずれかが存在する場合、DDR は <cite>Project2DX</cite> 専用の処理を行ないます。</p>
    <table>
     <tbody>
      <tr>
       <td>
        <pre class="lh100"><code>#ExtChr&nbsp;730&nbsp;-1&nbsp;245&nbsp;&nbsp;1&nbsp;257&nbsp;18&nbsp;201&nbsp;140
#ExtChr&nbsp;774&nbsp;-1&nbsp;259&nbsp;64&nbsp;271&nbsp;81&nbsp;201&nbsp;140
#ExtChr&nbsp;780&nbsp;-1&nbsp;335&nbsp;64&nbsp;347&nbsp;81&nbsp;201&nbsp;140
#ExtChr&nbsp;779&nbsp;-1&nbsp;325&nbsp;64&nbsp;333&nbsp;81&nbsp;201&nbsp;140
#ExtChr&nbsp;745&nbsp;-1&nbsp;275&nbsp;20&nbsp;287&nbsp;37&nbsp;201&nbsp;140
#ExtChr&nbsp;771&nbsp;-1&nbsp;400&nbsp;41&nbsp;404&nbsp;58&nbsp;201&nbsp;140
#ExtChr&nbsp;760&nbsp;-1&nbsp;259&nbsp;41&nbsp;271&nbsp;58&nbsp;201&nbsp;140
#ExtChr&nbsp;784&nbsp;-1&nbsp;399&nbsp;64&nbsp;411&nbsp;87&nbsp;201&nbsp;140</code></pre>
       </td>
      </tr>
     </tbody>
    </table>
    <ul>
     <li><code>#PLAYER</code> の値に <code>1</code> が適用されます。</li>
     <li>チャンネル <code>#xxx21</code> および <code>#xxx22</code> は、<code>#xxx18</code> および <code>#xxx19</code> に置換されます。</li>
     <li>チャンネル <code>#xxx26</code> (2P 側 SCRATCH) はすべて無視されます。</li>
    </ul></li>
  </ul></li>
 <li>BM98<span class="u">de</span> は、必ずしも <code>#ExtChr</code> をサポートしていません。</li>
 <li>しかしながら、誤った解釈の結果、表示はたまたま変わるかもしれないように見えます。</li>
 <li><p>私にはこのコマンドは難解すぎて、あまり理解できていません。実作例を参照してください:</p>
  <p><cite><span class="DBCS" lang="ja" xml:lang="ja">九十九里</span></cite>
   (<span itemprop="name">TEM</span>, <time itemprop="update" datetime="2000-11-01">2000-11-01</time>)
   (<a class="external" rel="external" hreflang="ja" title="BMS - CHILD&#39;S SQUARE" href="http://childs.squares.net/bms/index.html"><span itemprop="url">http://childs.squares.net/bms/index.html</span></a>)
   (umi_99ri.rar の <strong>umi_99ri_3.bms</strong>)</p></li>
</ul>
</section>



<section id="MATERIALS">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MATERIALS">MATERIALS</a></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98de</td></tr>
  <tr><th scope="row">support:</th><td>BM98de, RDM, bemaniaDX, nanasi (1.00 未満)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>これは、「実行ファイルを起点とする、相対パスの定義」のエイリアスです。</p>
  <ol>
   <li>bm98body.exe と同位の「Materials」ディレクトリ配下に、新しいディレクトリを作成してください。</li>
   <li>この新しいディレクトリに、オーディオ・ファイルあるいはイメージ・ファイルを置いてください。</li>
   <li>BMS 側から “<code><mark>&lt;</mark><var>foldername</var><mark>&gt;</mark><var>filename</var></code>” を定義してください。
    (ディレクトリ名は半角不等号で括る必要があります)</li>
   <li>これによって、「Materials」配下ディレクトリのファイルも、BMS から参照できるようになります。</li>
  </ol></li>
 <li><p>ディレクトリ階層の例:</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100">bm98_beta1
       ├ bm98body.exe
       ├ ...
       └ <span class="lime">Materials</span>
                  └ <mark>samples</mark>
                           ├ samplesound.wav
                           └ sampleimage.bmp</pre></td>
    </tr>
    <tr>
     <td><pre><code>//&nbsp;<span class="DBCS">他の場所にある</span>&nbsp;BMS
#WAV01&nbsp;<mark>&lt;samples&gt;</mark>samplesound.wav
#BMP01&nbsp;<mark>&lt;samples&gt;</mark>sampleimage.bmp</code></pre></td>
    </tr>
   </tbody>
  </table>
  <p>この BMS は、<code>samplesound.wav</code> および <code>sampleimage.bmp</code> を、「<code>bm98_beta1\Materials\samples\</code>」からロードします。</p></li>
 <li>例えばこの機能によって、サウンドセットの管理が容易になるかもしれません。</li>
 <li>しかし、モダンな実装は、MATERIALS ではなくパスの定義をサポートしています。</li>
</ul>
</section>



<section id="MATERIALSWAV">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MATERIALSWAV">#MATERIALSWAV&nbsp;<var>path</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (1.00 未満)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">このコマンドは旧式です。私たちはこのコマンドをもはや使用するべきではありません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Materials フォルダを起点とする相対パスを指定します。(260 バイト制限)</li>
 <li>このコマンドを含んでいる BMS は、音声ファイルをすべて Materials のパスから読み込みます。</li>
 <li><p>優先順位は以下のとおりです:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">1</th>
     <td>通常の「MATERIALS」定義</td>
     <td><code>#WAVxx&nbsp;&lt;<var>path</var>&gt;<var>filename</var></code></td>
    </tr>
    <tr>
     <th scope="row">2</th>
     <td>実行ファイルと同位の「Materials」フォルダ</td>
     <td>他の実装と共有可能。</td>
    </tr>
    <tr>
     <th scope="row">3</th>
     <td>“<code>_datafiles\materials</code>” (nanasigroove フォルダ内)</td>
     <td>nanasigroove 専用の「materials」フォルダ</td>
    </tr>
   </tbody>
  </table></li>
 <li>「MATERIALS」および <code>#MATERIALSWAV</code> および <code>#MATERIALSBMP</code> のサポートは、nanasi 1.00 にて削除されました。</li>
</ul>
</section>



<section id="MATERIALSBMP">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#MATERIALSBMP">#MATERIALSBMP&nbsp;<var>path</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (1.00 未満)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">このコマンドは旧式です。私たちはこのコマンドをもはや使用するべきではありません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Materials フォルダを起点とする相対パスを指定します。(260 バイト制限)</li>
 <li>このコマンドを含んでいる BMS は、画像ファイルをすべて Materials のパスから読み込みます。</li>
 <li><p>優先順位は以下のとおりです:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">1</th>
     <td>通常の「MATERIALS」定義</td>
     <td><code>#BMPxx&nbsp;&lt;<var>path</var>&gt;<var>filename</var></code></td>
    </tr>
    <tr>
     <th scope="row">2</th>
     <td>実行ファイルと同位の「Materials」フォルダ</td>
     <td>他の実装と共有可能。</td>
    </tr>
    <tr>
     <th scope="row">3</th>
     <td>“<code>_datafiles\materials</code>” (nanasigroove フォルダ内)</td>
     <td>nanasigroove 専用の「materials」フォルダ</td>
    </tr>
   </tbody>
  </table></li>
 <li>「MATERIALS」および <code>#MATERIALSWAV</code> および <code>#MATERIALSBMP</code> のサポートは、nanasi 1.00 にて削除されました。</li>
</ul>
</section>



<section id="DIVIDEPROP">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DIVIDEPROP">#DIVIDEPROP&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (0.98 未満)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">このコマンドは旧式です。私たちはこのコマンドをもはや使用するべきではありません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BMS の小節の分解能を指定します。このコマンドは不要になったので削除されました。</li>
 <li>今のところ、nanasi の分解能は、960 が自動的にセットされます。</li>
 <li>分解能 960 は、浮動小数点を使用する擬似的なものです。</li>
</ul>
</section>



<section id="CHARSET" itemscope="itemscope">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHARSET">#CHARSET&nbsp;<var>encode</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>ruvit</td></tr>
  <tr><th scope="row">support:</th><td>ruvit (2.0b5p2 未満)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">このコマンドは旧式です。私たちはこのコマンドをもはや使用するべきではありません。</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><del>譜面が準拠する文字セットを <abbr title="Internet Assigned Numbers Authority">IANA</abbr> 登録名で指定してください。
  (<a class="external" rel="external" title="CHARACTER SETS" hreflang="en" type="text/plain" href="http://www.iana.org/assignments/character-sets"><span itemprop="url">http://www.iana.org/assignments/character-sets</span></a>)</del></li>
 <li><code>[EUC-KR|SHIFT-JIS|UTF-8]</code> を値として指定することができます。 For example: <code>#CHARSET&nbsp;EUC-KR</code></li>
 <li>日本語の IANA ライブラリ名は「Shift_JIS」(ハイフンではなく下線) なのですが、このコマンドには <code>SHIFT-JIS</code> を指定する必要があります。</li>
 <li>BOM (バイト・オーダ・マーク) がテキストファイル (BMS ファイル) に含まれている場合、<code>#CHARSET</code> は BOM の内容に基づいて処理されます。</li>
 <li>EUC-KR/Shift_JIS 以外のエンコードで作成された BMS は、「BOM つき UTF-8」で保存して配布することが推奨されます。</li>
 <li>ruvit はバージョン 2.0b5p2 で全面的にユニコードをサポートしたので、<code>#CHARSET</code> は削除されました。</li>
</ul>
<ul>
 <li>今のところ、ruvit は charset を自動判別します。</li>
 <li><p><a class="external" rel="external" hreflang="ko" title="ruv-it! | support page" href="https://nvyu.net/rdm/rby_ex.php">ruv-it! | support page</a> からの引用:</p>
  <blockquote>
   <dl>
    <dt>ユニコードの対応:</dt>
    <dd>
     <p>BOM (Byte Order Mark) が含まれている場合、BOM の設定どおりテキストフォーマットを設定して読み込みます。 (UTF-8/UTF-16LE/UTF-16BE 対応)</p>
     <p>BOM が含まれていない場合、<abbr title="Double Byte Character Set">DBCS</abbr> LeadByte の頻度によって EUC-KR/Shift-JIS コードの中で判別し読み込みます。</p>
     <p>もちろん、二つの言語コードのコード領域が重なったりして誤った結果が導出される場合もありますが、仕方ない…部分にしておきます。</p>
     <p>このような処理によって、既存に作成された中国語・ベトナム語などのほかの言語でつくられた BMS の CHARSET が無視される問題が起こるようになったんですが</p>
     <p>このような言語の場合には <code>#CHARSET</code> を追加するより、ユニコード形式で保存することを誘導する方がずっと合理的だという判断をするようになりました。</p>
     <p>窮極的にはなるべく新しくつくられる BMS は UTF-8 フォーマットに保存されたらいいでしょうけど、受け入れられるか知れないですね。</p>
    </dd>
   </dl>
  </blockquote></li>
</ul>

<section id="CHARSET-SUPPORT-FOR-UNICODE">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHARSET-SUPPORT-FOR-UNICODE">Unicode&nbsp;のサポート</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>ruvit</td></tr>
  <tr><th scope="row">support:</th><td>ruvit, iBMSC, IIDXv (2.13+), HDX (0.98+), Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>ruvit と iBMSC は、<abbr title="American Standard Code for Information Interchange">ASCII</abbr> 以外のいくつかの文字セットをサポートしています。</li>
 <li>さらに、LR2 の次世代バージョンは、デフォルト文字セットとして、
  <abbr title="American Standard Code for Information Interchange">ASCII</abbr> ではなく BOM つき UTF-16LE を採用しました。</li>
 <li><p><abbr title="HyperText Markup Language">HTML</abbr>5 仕様草案では、UTF-7 および UTF-32 の文字セットのサポートは削除されました。
  (<a class="external" rel="external" hreflang="en" title="HTML 5" href="https://www.w3.org/TR/2008/WD-html5-20080122/"><span itemprop="url">https://www.w3.org/TR/2008/WD-html5-20080122/</span></a>)</p>
  <blockquote class="ind1" lang="en" xml:lang="en">
   <p>Authors should not use JIS_X0212-1990, x-JIS0208, and encodings based on EBCDIC.</p>
   <p>Authors should not use UTF-32. Authors must not use the CESU-8, UTF-7, BOCU-1 and SCSU encodings. [CESU8] [UTF7] [BOCU1] [SCSU]</p></blockquote>
  <p>BMS ファイルが Web アプリケーション中で使用される場合を想定したとき、UTF-7 および UTF-32 は障害になるかもしれません。</p></li>
 <li>IIDXv と HDX は、UTF-8, UTF-16LE, UTF-16BE をサポートしました (<strong class="red">BOM 必須</strong>)。</li>
 <li>Sonorous は UTF-8 をサポートしました (<strong>BOM はオプションです</strong>)。</li>
 <li>BGAEncAdv と TechnicalGroove は、<strong>UTF-8 (BOM なし)</strong>, UTF-8 (+BOM), UTF-16LE (+BOM), UTF-16BE (+BOM) をサポートしました。</li>
</ul>
</section>
<!-- /#CHARSET -->
</section>



<section id="P-URL">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#P-URL">%URL&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BMS Manager</td></tr>
  <tr><th scope="row">support:</th><td>BMS Manager, BMSC</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>メタ情報として、BMS 作成者に関するウェブページの URL を示します。</li>
 <li>これは BMS の構文解析とは無関係です。</li>
 <li>私見では、予想外に有用です。</li>
 <li>差分 BMS 配布時に、オリジナル BMS の獲得場所などの情報を示すことができるからです。</li>
 <li>譜面が BMSE や iBMSC によって上書きされれば、このコマンドは削除されます。</li>
</ul>
</section>



<section id="P-EMAIL">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#P-EMAIL">%EMAIL&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BMS Manager</td></tr>
  <tr><th scope="row">support:</th><td>BMS Manager, BMSC</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>メタ情報として、BMS 作成者の E メールアドレスを示します。</li>
 <li>これは BMS の構文解析とは無関係です。</li>
 <li>譜面が BMSE や iBMSC によって上書きされれば、このコマンドは削除されます。</li>
</ul>
</section>

<hr>
<!-- /h2 HEADER -->
</section>




<section id="CONTROL-FLOW">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CONTROL-FLOW">&lt;CONTROL&nbsp;FLOW&gt;</a></h2>


<section id="RANDOM-IF-ENDIF" itemscope="itemscope">
<div class="hgroup">
<h3 id="RANDOM"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RANDOM">#RANDOM&nbsp;<var>n</var></a></code></h3>
<h3 id="IF"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#IF">#IF&nbsp;<var>n</var></a></code></h3>
<h3 id="ENDIF"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ENDIF">#ENDIF</a></code></h3>
</div>

<table>
 <tbody>
  <tr>
   <th scope="row">origin:</th>
   <td>BM98 (<a class="external" rel="external" hreflang="en" title="BM98Data_format_specification" href="http://bm98.yaneu.com/bm98/bmsformat.html"><span itemprop="url">http://bm98.yaneu.com/bm98/bmsformat.html</span></a>)</td>
  </tr>
  <tr>
   <th scope="row">support:</th>
   <td>
    <p>BM98, BM98de, DDR, RDM, MW, bemaniaDX, nazo, Mac, Aqua, WAview, in_BM2, bms2wav, bms2avi,</p>
    <p>LR2, ruvit, nanasi, fgt++, fgt#, pomu2, nazoZZ, uBMplay, PMSee-V, IIDXv, HDX, bmx2wav, outliner, Angolmois,</p>
    <p>BMSE (partial), iBMSC (3.0+ / partial), Sonorous, BGAEncAdv, TechnicalGroove</p>
   </td>
  </tr>
  <tr><th scope="row">入れ子を外す:</th><td>RDM, bemaniaDX, nazo, nazoZZ, WAview, in_BM2, LR2, ruvit, fgt++, fgt#, uBMplay (1.4.6 以前), PMSee-V, bmx2wav</td></tr>
  <tr><th scope="row">入れ子を許す:</th><td><p>BM98, BM98de, DDR, MW, nanasi, Aqua, pomu2, BMSE (partial),</p>
   <p>IIDXv, HDX, outliner, Angolmois, uBMplay (1.5.0 以降), Sonorous, BGAEncAdv, TechnicalGroove</p><!--
  (tr)(th)uninvestigated about nest:(/th)(td)Mac, Aqua, bms2wav, bms2avi(/td)(/tr) --></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#RANDOM</code> は、1 から <code><var>n</var></code> までの自然数のどれかひとつを生成します。
  言うまでもなく、<code><var>n</var></code> には自然数を指定するべきです。</li>
 <li><code>#IF</code> から <code>#ENDIF</code> までの区間はブロック・ステートメントです。</li>
 <li><code>#RANDOM</code> の生成値と同じラベルのブロックは、内容が適用されます。</li>
 <li>生成値に合わないブロックは、内容がすべて無視されます。</li>
 <li><p>つまりこの構文は、<b>「遊ぶつど変化する BMS」</b>を作ることを可能にします。</p>
  <ul>
   <li><time itemprop="update" datetime="1998-08-09">1998-08-09</time>: BM98 は <code>#RANDOM</code> を実装しました。
    (<code>#PLAYER&nbsp;3</code> (DP), <code>#TOTAL</code>, <code>#xxx07</code> (BGA LAYER), 等々よりも早期に)</li>
   <li>この特徴は、<cite>beatmania</cite> の <cite><a class="external" rel="external" title="beatmania - DJ BATTLE - YouTube" href="https://www.youtube.com/watch?v=RIb34DcPf84">DJ BATTLE</a></cite> をエミュレートするために提案されました。</li>
   <li>私が知る範囲で最古の無作為化 BMS は、<cite><a class="external" rel="external nofollow" href="https://www.google.com/search?q=cranky+FANKS+Anthology+COLLECTION">FANKS "Anthology" COLLECTION</a></cite>
    (<span itemprop="name">cranky</span>, <time itemprop="update" datetime="1998-11-06">1998-11-06</time>)</li>
   <li>今なお、無作為化 BMS はリリースされ続けています。 e.g. <cite><a class="external" rel="external" hreflang="ja" title="bms.tgly.org" href="http://bms.tgly.org/">DJ BATTLE 2011</a></cite>
    (<span itemprop="name">2106</span>, <time itemprop="update" datetime="2011-06-12">2011-06-12</time>)</li>
   <li>詳しくは別項の作品リストを参照してください: [<a href="https://hitkey.nekokan.dyndns.info/randombms.htm">#RANDOM BMS list</a>]</li>
  </ul></li>
 <li><p>重要な点は、<strong class="red">譜面の内容すべてを無作為化できる</strong> ということです。</p>
  <ul>
   <li>プレイ・オプションの RANDOM は、ノートのリズムを無作為化できません。</li>
   <li>コマンドの <code>#RANDOM</code> は、より動的でより強力です。</li>
  </ul></li>
</ul>

<ul>
 <li><p>基本的な例:</p>
  <table>
   <thead><tr><th scope="col">BMS code:</th><th scope="col">生成値 1 なら:</th><th scope="col">生成値 2 なら:</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#00111:11000000

#RANDOM 2

#IF 1
#00112:00220000
#ENDIF

#IF 2
#00113:00003300
#ENDIF

#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow1.png" alt="#00111:11000000, #00112:00220000, #00114:00000044" width="52" height="97"></p></div>
      <pre><code>#00111:11000000
#00112:00220000
#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow2.png" alt="#00111:11000000, #00113:00003300, #00114:00000044" width="52" height="97"></p></div>
      <pre><code>#00111:11000000
#00113:00003300
#00114:00000044</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>この例のトップレベルには、2 つの行と、1 つの <code>#RANDOM</code> ブロックがあります。</li>
   <li><p><code>#00111:11000000</code> と <code>#00114:00000044</code> は、<code>#RANDOM</code> の外部に書かれています。(top-level)</p>
    <p>したがって、<code>#RANDOM</code> の生成値が何であれ、この 2 行は常に解析されます。</p></li>
   <li><p>この <code>#RANDOM</code> 文は、トップレベルに書かれています。 したがって、乱数は常に生成されます。</p>
    <ul>
     <li>1 が生成された場合、<code>#00112:00220000</code> が適用され、<code>#00113:00003300</code> は無視されます。</li>
     <li>2 が生成された場合、<code>#00112:00220000</code> は無視され、<code>#00113:00003300</code> が適用されます。</li>
    </ul></li>
   <li><code>#RANDOM</code> をサポートしていない実装は、4 つのノートを表示するでしょう。</li>
  </ul></li>
 <li><p><del datetime="2013-01-17T19:00:00+09:00">悪い例</del>
   <ins datetime="2013-01-17T19:00:00+09:00">推奨されない例</ins>: <strong class="red">共通部分の孤児化</strong></p>
  <table>
   <thead><tr><th scope="col">BMS code:</th><th scope="col">生成値 1 なら:</th><th scope="col">生成値 2 なら:</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#RANDOM 2
<span class="N">#00111:11000000</span>
<span class="N">#00114:00000044</span>

#IF 1
#00112:00220000
#ENDIF

#IF 2
#00113:00003300
#ENDIF</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow3.png" alt="#00112:00220000" width="52" height="97"></p></div>
      <pre><code>#00112:00220000</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow4.png" alt="#00113:00003300" width="52" height="97"></p></div>
      <pre><code>#00113:00003300</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>ノーターは、この例が最初の例と同じ結果をもたらすだろうと期待しています。しかし、これは<del datetime="2013-01-17T19:00:00+09:00">構文違反です</del>
    <ins datetime="2013-01-17T19:00:00+09:00">推奨されません</ins>。</li>
   <li>なぜなら、<code>#RANDOM</code> ブロックが <code>#IF</code> セクションに含まれていない行を含んでいるからです。</li>
   <li>ノート <code>11</code> およびノート <code>44</code> はトップレベルに書かれていません。したがって、これらの孤児が表示されることは保証されません。</li>
   <li>BM98 や ruvit や uBMplay では、最初の例と同じ結果がもたらされます。しかし、nazo, LR2, BMSE 等では、これらの孤児は無視されます。</li>
   <li>それが「共通の一部分」である場合、私たちは <code>#RANDOM</code> ブロックの外部にそれを記述するべきです。</li>
  </ul></li>
</ul>

<ul>
 <li><p>入れ子の <code>#RANDOM</code> の例:</p>
  <table>
   <thead>
    <tr>
     <th scope="col"><code>#RANDOM&nbsp;2</code> の 2 重の入れ子:</th>
     <th scope="col"><span class="W br">生成値 1</span> » <span class="Y">さらに生成値 1 なら</span>:</th>
     <th scope="col"><span class="W br">生成値 1</span> » <span class="N">さらに生成値 2 なら</span>:</th>
     <th scope="col"><span class="P">生成値 2 なら</span>:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#00111:11000000

#RANDOM 2<span class="D">                 </span>
<span class="D">                          </span>
<span class="D">  <span class="W">#IF 1                  </span> </span>
<span class="D">  <span class="W">  #00112:00220000      </span> </span>
<span class="D">  <span class="W">                       </span> </span>
<span class="D">  <span class="W">  #RANDOM 2<span class="B">           </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">                    </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="Y">#IF 1            </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="Y">  #00115:00550000</span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="Y">#ENDIF           </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">                    </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="N">#IF 2            </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="N">  #00116:00006600</span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="N">#ENDIF           </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">                    </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">#ENDRANDOM          </span> </span> </span>
<span class="D">  <span class="W">                       </span> </span>
<span class="D">  <span class="W">#ENDIF                 </span> </span>
<span class="D">                          </span>
<span class="D">  <span class="P">#IF 2                  </span> </span>
<span class="D">  <span class="P">  #00113:00003300      </span> </span>
<span class="D">  <span class="P">#ENDIF                 </span> </span>
<span class="D">                          </span>
<span class="D">#ENDRANDOM                </span>

#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow5.png" alt="#00111:11000000, #00112:00220000, #00115:00550000, #00114:00000044" width="52" height="97"></p></div>
      <p>(pattern A)</p>
      <pre><code>#00111:11000000
#00112:00220000
#00115:00550000
#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow6.png" alt="#00111:11000000, #00112:00220000, #00116:00006600, #00114:00000044" width="52" height="97"></p></div>
      <p>(pattern B)</p>
      <pre><code>#00111:11000000
#00112:00220000
#00116:00006600
#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow2.png" alt="#00111:11000000, #00113:00003300, #00114:00000044" width="52" height="97"></p></div>
      <p>(pattern C)</p>
      <pre><code>#00111:11000000
#00113:00003300
#00114:00000044</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li><strong class="red">入れ子の <code>#RANDOM</code> を正しく解釈できる実装は少ないので、ご注意ください。</strong></li>
   <li><p>コードを読むことを簡単にするために、私は例の中でインデントと <code>#ENDRANDOM</code> を使用しました。</p>
    <p>入れ子の <code>#RANDOM</code> を実際に使用する場合、私たちはインデントを外し、さらに行末のスペースも削るべきです。</p>
    <p><strong class="red"><code>#ENDRANDOM</code> は省略してはなりません。</strong> なぜなら nanasi は入れ子の <code>#RANDOM</code> でこれを要求するからです。</p></li>
   <li><p>トップレベルの行は常に解釈されます: <code>#00111:11000000</code>, <code>#RANDOM&nbsp;2</code>, <code>#00114:00000044</code></p>
    <ul>
     <li><p>トップレベルの <code>#RANDOM</code> の生成値が <code>1</code> なら、<code>#00112:00220000</code> が解釈されます。</p>
      <p>さらに、セカンドレベルの <code>#RANDOM</code> 文が解釈されます。</p>
      <ul>
       <li>セカンドレベルの <code>#RANDOM</code> の生成値が <code>1</code> なら、<code>#00115:00550000</code> が解釈されます。</li>
       <li>セカンドレベルの <code>#RANDOM</code> の生成値が <code>2</code> なら、<code>#00116:00006600</code> が解釈されます。</li>
      </ul></li>
     <li>トップレベルの <code>#RANDOM</code> の生成値が <code>2</code> なら、<code>#00113:00003300</code> が解釈されます。</li>
    </ul></li>
   <li><p>この例は 3 つのパターンに分岐しますが、各パターンが選ばれる確率は 1/3 ずつではありません。</p>
    <ul class="listABC">
     <li><code>#00115:00550000</code> が選ばれる確率は 1/4 です。</li>
     <li><code>#00116:00006600</code> が選ばれる確率は 1/4 です。</li>
     <li><code>#00113:00003300</code> が選ばれる確率は 1/2 です。</li>
    </ul></li>
   <li><p>例えば、<code>#RANDOM&nbsp;2</code> を 6 重の入れ子にすれば、最深層のパターンは 1/64 の確率で選ばれるでしょう。(64 は 2 の 6 乗)</p>
    <p>同じことを実現するために、私たちは 64 個の <code>#IF</code> ブロックを書いても構いません。
     それは無駄が多い反面、ほとんどの実装が解釈できます。</p></li>
  </ul></li>
</ul>


<ul>
 <li><p><code>#RANDOM</code> をサポートしていない実装は、全行をトップレベルの文として解釈し、解析を誤るでしょう。</p>
  <table>
   <caption>For example: <cite>Declinin'</cite>
    (<span itemprop="name">sta</span>, <time itemprop="update" datetime="2008-01-13">2008-01-13</time>)
    (download: <a class="external DBCS" rel="external" hreflang="ja" lang="ja" xml:lang="ja" title="低級言語を労わる会" href="http://bit192.info/">低級言語を労わる会</a>)</caption>
   <tbody>
    <tr>
     <td>BMSE (部分的なサポート):</td>
     <td><a href="https://hitkey.nekokan.dyndns.info/090102/090102_01.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_01.png</span></a></td>
    </tr>
    <tr>
     <td>BMSC (サポートしていない):</td>
     <td><a href="https://hitkey.nekokan.dyndns.info/090102/090102_02.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_02.png</span></a></td>
    </tr>
    <tr>
     <td>iBMSC 3.0 (部分的なサポート):</td>
     <td><p><a href="https://hitkey.nekokan.dyndns.info/img/20120123_ibmsc30_random.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/img/20120123_ibmsc30_random.png</span></a></p>
      <p>「拡張コード」タブへの隔離は正確に行なわれます。 このタブは少なくとも 700,000 文字以上を確実に格納できます。</p>
      <p class="red">しかし現在の隔離は不完全であり、「編集パネル」にもフロー制御表現を表示してしまうでしょう。</p></td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>この BMS は、<code>#026-033</code> で、40 個の <code>#RANDOM</code> 文を使用して、音符のリズムを無作為化します。</li>
   <li>概念図: <a href="https://hitkey.nekokan.dyndns.info/090102/090102_03.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_03.gif</span></a></li>
   <li><p>BMSEは、<code>#RANDOM</code> のセクションを解析することができ、「拡張命令」 タブにそれを分離することができます。</p>
    <p>しかしながら、この BMS のあまりにも多くの <code>#RANDOM</code> ブロックは、BMSE の 「拡張命令」 タブのキャパシティを超過するでしょう。</p>
    <p>この BMS によって、私は、「拡張命令」 タブが最大 65535 文字までであることを発見しました。</p></li>
  </ul></li>
 <li>他のあらゆるコマンドよりも先に、コントロール・フローを解析する必要があります。</li>
 <li><p>コントロール・フローは、ヘッダも含むあらゆるコマンド行を、変更する能力を持っています。</p>
  <ul>
   <li>e.g. <cite><span class="DBCS" lang="ja" xml:lang="ja">オートメーション工場</span></cite>
    (automation factory) (<span itemprop="name">John "De Bello" Cage</span>, <time itemprop="update" datetime="2007-03-14">2007-03-14</time>)
    (<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</li>
   <li>この BMS は、音楽を無作為に自動生成します。</li>
   <li><code>#TITLE</code>, <code>#RANK</code>, <code>#BPM<var>[01-ZZ]</var></code> はすべて、この構文によってコントロールされます。</li>
   <li>また、行番号 <code>347781-409539</code> のセクションは、<code>#IF&nbsp;14</code> (<code>347780-409542</code>) の子です。</li>
   <li>6177 の <code>#RANDOM</code> 文がこの譜面に使用されており、そのうちの 1260 文は、347780 行目の <code>#IF&nbsp;14</code> の子供です。</li>
   <li>この BMS は、<strong class="red">「無制限の兄弟」</strong> の格好のサンプルです。 これはベンチマーク BMS と呼ばれる kusofumen の典型的な例です。</li>
   <li>この BMS が、<strong class="red">「無制限の子孫」</strong> の要素を含まなかったことは、多くの実装にとって幸運でした。</li>
  </ul></li>
 <li>ほとんどすべての実装は、「無制限のコントロール・フロー」を解析することができません。</li>
 <li>ほとんどすべての場合に、無作為化できるヘッダは制限されます。あるいは、ステートメントの数が制限されます。</li>
 <li><p>例えば、入れ子を許す実装では、理論上は半永久的な入れ子が可能なはずです。</p>
  <ul>
   <li>しかしながら、ネストの深さが何であれ、私たちはブロック終了コマンド <code>#ENDRANDOM</code> を常に記述しなければなりません。</li>
   <li>なぜなら、<code>#ENDRANDOM</code> のない <code>#RANDOM</code> ステートメントが 47 回以上現われれば、nanasi が強制終了を行うからです。</li>
   <li>(これは nanasi のバグであるように見えますが、ひょっとしたら私の誤解かもしれません。)</li>
  </ul></li>
 <li><p>IIDXv と HDX <ins datetime="2013-08-03T18:00:00+09:00">と BGAEncAdv と TechnicalGroove</ins> は、
  <code>#RANDOM&nbsp;<var>n</var></code> が見つからなかった場合、デフォルト値 <code>1</code> を適用します。</p>
  <ul>
   <li>これは手打ち由来の単純な構文違反に対処するための方法のひとつです。</li>
   <li>(たとえば、<code>#random5</code> (区切り文字が無い) や <code>#rondam&nbsp;5</code> (誤字) など)</li>
  </ul></li>
</ul>

<section id="RONDAM">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#RONDAM">#RONDAM&nbsp;<var>n</var></a></code></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>uBMplay</td></tr>
  <tr><th scope="row">support:</th><td>uBMplay, outliner, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>誤字に対処するために。</li>
 <li><p>e.g. <cite>20,november "club edit" [random ver.]</cite>
  (<span itemprop="name">cranky</span>, <time itemprop="update" datetime="1999-04-10">1999-04-10</time>)</p>
  <ul>
   <li>366 行目に <code>#rondam&nbsp;5</code> が書かれています。この行が無視される場合、構文上の難問が生じます。</li>
   <li><p>この <code>#RONDAM</code> は 5 つの <code>#IF</code> ブロックを持っていますが、それらをどのように扱えばよいのでしょうか？</p>
    <ul>
     <li>ほとんどすべての実装は、その前の <code>#RANDOM</code> の生成値を参照します。</li>
     <li>しかしながら、この振る舞いは仕様で指定されていないので、実装依存です。</li>
    </ul></li>
   <li><p><code>#RANDOM</code> の範囲はどのように決定されるのでしょうか？
    そんなものは存在せず、単に <code>#IF</code>-<code>#ENDIF</code> のセクションだけが存在するのでしょうか？</p>
    <table>
     <thead>
      <tr><th scope="col">疑わしいコードの例</th><th scope="col">remarks</th></tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <pre class="lh100"><code>#00111:11

#RANDOM 2
  #IF 1
    #00212:22
  #ENDIF
  #IF 2
    #00313:33
  #ENDIF
  
<mark>#00414:44</mark>
<mark>#00515:55</mark>
  
<span class="N">#RONDAM 3</span>
  #IF 1
    #00616:66
  #ENDIF
  #IF 2
    #00717:77
  #ENDIF
  #IF 3
    #00818:88
  #ENDIF

#00919:99</code></pre>
       </td>
       <td>
        <pre class="lh100"><code class="ls0">この行はトップレベルにあるので、常に解釈されます。

┐
│
│
│
│
│
┆ #RANDOM がこの位置で閉じられているかどうかが分からなくなります。
  
┐ 通常の場合なら、これらの行はトップレベルです。
┘ しかし #RONDAM では、それは正しくないかもしれません。 ここは孤児ブロックになるかもしれません。
  
] この行はコメントアウトされます。
┐
│ 前の #RANDOM の生成値が 1 なら、このブロックも適用されます。
┘
┐
│ 前の #RANDOM の生成値が 2 なら、このブロックも適用されます。
┘
┐
│ 前の #RANDOM の生成値が 3 なら、このブロックも適用されます。
┘ それは実現されないので、このブロックはいかなる手段でも適用されません。

] この行はトップレベルでしょうか ? #RANDOM の外にあるのでしょうか ? 本当に ?</code></pre>
       </td>
      </tr>
     </tbody>
    </table></li>
   <li><p>もし最初の <code>#RANDOM&nbsp;2</code> が存在しなければ、前述の例で何が起こるでしょうか？</p>
    <ul>
     <li><p>nanasi は <code>#IF</code> ブロックを <code>#IF</code> ブロックと認めません。</p>
      <p>つまり、<code>#IF</code> ブロックの内容は、「<code>#RANDOM</code> の外に書かれたコマンド行」と同じプライオリティで処理されます。</p></li>
     <li>LR2 と uBMplay は、孤児の <code>#IF</code> の内容をすべて無視します。(廃棄: <code>#00616:66</code>, <code>#00717:77</code>, <code>#00818:88</code>)</li>
     <li>PMSee-V は以下のように警告します: <q>最初の <code>#RANDOM</code> または <code>#SETRANDOM</code> より前に <code>#IF</code> が入っています！！</q></li>
    </ul></li>
  </ul></li>
 <li>コントロール・フローの問題は、構文エラーをいともたやすく書けてしまうということです。</li>
 <li>uBMplay の方法はアドホックかもしれませんが、仕様が詳細を定義していないので、仕方がありません。</li>
</ul>
</section>

<section id="END-IF">
<h4><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#END-IF">#END&nbsp;IF</a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td><ins datetime="2013-04-01T18:00:00+09:00">uBMplay (1.5.0)</ins></td></tr>
  <tr><th scope="row">ad hoc support:</th><td>Angolmois (<code>#END</code>), outliner (<code>#END</code>), Sonorous (<code>#END</code>), BGAEncAdv, TechnicalGroove</td></tr>
  <tr><th scope="row">たまたま解釈される:</th><td>nazo, rdm, ruvit, fgt++, fgt#, LR2, uBMplay (1.4.6 以前), PMSee-V</td></tr>
  <tr><th scope="row">最初の <code>#IF</code> が一致する場合に限り解釈される:</th><td>BM98k, BM98de, DDR, <del>MW</del> <ins>(固まる)</ins>, pomu2, IIDXv, HDX</td></tr>
  <tr><th scope="row">最後の <code>#IF</code> が一致する場合に限り解釈される:</th><td>nanasi</td></tr>
  <!-- (tr)(th scope="row")アドホックなサポート:(/th)(td)outliner(/td)(/tr) -->
 </tbody>
</table>
<ul class="noMarginTop">
 <li>誤字に対処するために。</li>
 <li><p>e.g. <cite>Velocity Magic 3 [Aren't you lucky?]</cite>
  (<span itemprop="name">Speed Magician</span> / <span itemprop="name">Transfero</span>,
  <time itemprop="update" datetime="2010-09-11">2010-09-11</time>)
  (<span itemprop="url" class="external u">http://uploader.bms.ms/data/PW/vm3_ts3.zip</span>) (現在 DL 不可)</p>
  <ul>
   <li><span class="red">lovetricks.<b>ogg</b></span> の拡張子を、bms, bme, あるいは bml に変更してください。</li>
   <li><code>#END&nbsp;IF</code> は誤解に基づく誤字です。
    あるいはこれも意図的なトリックのひとつかもしれませんが、私はそれについて興味がありません。</li>
   <li>通常の実装は、この行を無視します。 すなわち、これは「<code>#ENDIF</code> の無い <code>#IF</code>」に関する問題です。</li>
   <li><p>入れ子の <code>#RANDOM</code> をサポートしない実装は、この例に容易に対処することができます。</p>
    <ul>
     <li><code>#IF</code> ブロックの中で、<code>#ENDIF</code> が見つかる前に別の <code>#IF</code> が見つかった場合、
      「それは入れ子ではなく隣接兄弟ブロックである」と決めつけることができるからです。</li>
    </ul></li>
   <li><p>入れ子をサポートする実装にとって、この例は面倒です。なぜなら、それが入れ子である可能性を無視できないからです。</p>
    <ul>
     <li>私は、終了タグのない HTML を思い出します。HTML パーザは、XML パーザよりも困難な仕事をやり遂げなければなりません。</li>
     <li>BMS パーザは、HTML パーザのような能力を獲得するべきなのでしょうか？ 私は、BMS が XML 化するほうがよいと思います。</li>
    </ul></li>
  </ul></li>
</ul>
</section>

<section id="EXAMPLES-OF-MISTAKES">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#EXAMPLES-OF-MISTAKES">間違いの実例</a></h4>
<ul>
 <li><code>#RONDAM&nbsp;<var>n</var></code></li>
 <li><code>#END&nbsp;IF</code></li>
 <li><code>#ENDIF</code> が無い <code>#IF&nbsp;<var>n</var></code></li>
 <li><code><u class="DBCS">＃</u>ENDIF</code></li>
 <li><code>#RANDOM<var>n</var></code></li>
 <li><code>#IF<var>n</var></code></li>
 <li><code>#IFEND</code></li>
</ul>
<p>参照: [<a href="https://hitkey.nekokan.dyndns.info/randombms.htm">#RANDOM BMS list</a>]</p>
<p><strong>上記のすべてに対応: uBMplay 1.5.2 以降, Sonorous (UTF-8 なら), BGAEncAdv, TechnicalGroove</strong></p>
</section>

<!-- /hgroup, RANDOM_IF_ENDIF -->
</section>



<section id="SETRANDOM">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SETRANDOM">#SETRANDOM&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu2</td></tr>
  <tr><th scope="row">support:</th>
   <td>pomu2, WAview, in_bm2, nanasi, Aqua, PMSee-V, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
  <tr><th scope="row">類似の機能:</th><td>bms2avi (「SEED」 メニュー), bmx2wav (bmx2wav.ini の RandomConstantValue)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p><code>#SETRANDOM&nbsp;<var>n</var></code> を <code>#RANDOM&nbsp;<var>n</var></code> の代わりに記述すれば、定数 <code><var>n</var></code> が生成されます。</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>// #RANDOM 3
#SETRANDOM <mark>2</mark>
  #IF 1
    #WAV01 a.wav
  #ENDIF
  <mark>#IF 2</mark>
  <mark>  #WAV01 b.wav</mark>
  <mark>#ENDIF</mark>
  #IF 3
    #WAV01 c.wav
  #ENDIF
#ENDRANDOM</code></pre>
     </td>
     <td>
      <ul>
       <li>このサンプルは元々の <code>#RANDOM</code> 文をコメントアウトしています。</li>
       <li><p>インデントをサポートする実装がまだほとんどないので、インデントの使用は時期尚早です。</p>
        <p>サンプルコードを読みやすくするために、この文書ではインデントを使用します。</p></li>
       <li>この <code>#SETRANDOM</code> は常に <code>2</code> を生成するので、ラベル「2」を備えたブロックが常に選ばれます。</li>
       <li>その結果、<code>#WAV01&nbsp;b.wav</code> は常に適用されます。</li>
       <li><code>#SETRANDOM&nbsp;2</code> が指定されている限り、<code>#IF&nbsp;1</code> および <code>#IF&nbsp;3</code> は決して選ばれません。</li>
       <li>選ばれなかったステートメント・ブロックは単に無視されます。</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>おそらく <code>#SETRANDOM</code> は、入れ子のコントロール・シンタックスをテストするために準備されたコマンドであるように見えます。</li>
</ul>
</section>



<section id="ELSEIF">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ELSEIF">#ELSEIF&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>IIDXv</td></tr>
  <tr><th scope="row">support:</th><td>IIDXv, HDX, outliner, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#ELSEIF&nbsp;<var>n</var></code> 文は、<code>#IF</code> 文と <code>#ENDIF</code> 文の間のどこかに、何度か書くことができます。</li>
 <li><code>#ELSEIF&nbsp;<var>n</var></code> 文は、もし <code>#ELSE</code> が存在するなら、<code>#ELSE</code> の前方に書くことができます。</li>
 <li>もし必要がなければ、私たちは <code>#ELSEIF</code> を書く必要はありません。</li>
 <li><p>「生成値とラベルが一致するブロックのうち、最初のブロック」の内容が適用されます。 例 :</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#RANDOM 5

  #IF 1
            #00111:UU
  #ELSEIF 2
            #00112:VV
  #ELSEIF 3
            #00113:WW
  #ELSE
            #00115:ZZ
  #ENDIF

  #IF 2
            #00121:AA
  <span class="red">#ELSEIF 2</span>
            <span class="red">#00123:BB</span>
  #ELSEIF 5
            #00125:CC
  #ELSE
            #00126:DD
  #ENDIF

#ENDRANDOM</code></pre></td>
     <td><ul>
       <li>生成値が <code>1</code> なら、以下が適用されます ： <code>#00111:UU</code> + <code>#00126:DD</code></li>
       <li>生成値が <code>2</code> なら、以下が適用されます ： <code>#00112:VV</code> + <code>#00121:AA</code></li>
       <li>生成値が <code>3</code> なら、以下が適用されます ： <code>#00113:WW</code> + <code>#00126:DD</code></li>
       <li>生成値が <code>4</code> なら、以下が適用されます ： <code>#00115:ZZ</code> + <code>#00126:DD</code></li>
       <li>生成値が <code>5</code> なら、以下が適用されます ： <code>#00115:ZZ</code> + <code>#00125:CC</code></li>
      </ul>
      <p>IIDXv と HDX では、<code>#IF</code> - <code>#ELSEIF</code> - <code>#ELSE</code> の各ブロックは、相互に排他的な選択肢となります。</p>
      <p>生成値と一致する選択肢が見つかった時点で、以降の選択肢は読み飛ばされます。</p>
      <ul>
       <li>したがって、この例における <code>#00123:BB</code> は、<strong class="red">生成値が何であれ絶対に適用されません。</strong></li>
       <li>outliner は、この排他的な挙動を未だシミュレートできていません。</li>
      </ul></td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="ELSE">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ELSE">#ELSE</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#ELSE</code> 文は、<code>#IF</code> 文と <code>#ENDIF</code> 文の間のどこかに、一度だけ書くことができます。</li>
 <li><code>#ELSE</code> 文は、もし <code>#ELSEIF</code> が存在するなら、<code>#ELSEIF</code> の後方に書くことができます。</li>
 <li>もし必要がなければ、私たちは <code>#ELSE</code> を書く必要はありません。</li>
 <li><code>#ELSE</code> が存在する場合、<code>#IF</code>-<code>#ENDIF</code> のステートメント・ブロックは、
  「<code>#IF</code>-<code>#ELSE</code>」 と 「<code>#ELSE</code>-<code>#ENDIF</code>」 の 2 区間に分割されます。</li>
 <li><p><code>#ELSE</code> がステートメント・ブロック中に存在する場合、次の処理が行なわれます。</p>
  <ul>
   <li>ブロックのラベルが生成値と一致すれば、<code>#IF</code>-<code>#ELSE</code> の内容が適用されます。</li>
   <li>ブロックのラベルが生成値と不一致なら、<code>#ELSE</code>-<code>#ENDIF</code> の内容が適用されます。</li>
  </ul></li>
 <li><p><code>#ELSE</code> がステートメント・ブロック中に存在しない場合、通常の処理が行なわれます。</p>
  <ul>
   <li>ブロックのラベルが生成値と一致すれば、<code>#IF</code>-<code>#ENDIF</code> の内容が適用されます。</li>
   <li>ブロックのラベルが生成値と不一致なら、<code>#IF</code>-<code>#ENDIF</code> の内容は無視されます。</li>
  </ul></li>
 <li><p>For example:</p>
  <table>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#RANDOM 4
  #IF 1
        #00111:UU
  #ELSE
        #00112:VV
  #ENDIF
  #IF 2
        #00113:WW
  #ELSE
        #00114:XX
  #ENDIF
  #IF 3
        #00115:YY
  #ELSE
        #00116:ZZ
  #ENDIF
#ENDRANDOM</code></pre>
     </td>
     <td><pre class="lh100"><code>// 1

<span class="Y"> UU </span>

<span class="D">    </span>


<span class="D">    </span>

<span class="N"> XX </span>


<span class="D">    </span>

<span class="N"> ZZ </span>


</code></pre></td>
     <td><pre class="lh100"><code>// 2

<span class="D">    </span>

<span class="N"> VV </span>


<span class="Y"> WW </span>

<span class="D">    </span>


<span class="D">    </span>

<span class="N"> ZZ </span>


</code></pre></td>
     <td><pre class="lh100"><code>// 3

<span class="D">    </span>

<span class="N"> VV </span>


<span class="D">    </span>

<span class="N"> XX </span>


<span class="Y"> YY </span>

<span class="D">    </span>


</code></pre></td>
     <td><pre class="lh100"><code>// 4

<span class="D">    </span>

<span class="N"> VV </span>


<span class="D">    </span>

<span class="N"> XX </span>


<span class="D">    </span>

<span class="N"> ZZ </span>


</code></pre></td>
     <td>
      <pre class="lh100">
┐
│
│ IF-1 block
│
┘
┐
│
│ IF-2 block
│
┘
┐
│
│ IF-3 block
│
┘
</pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>生成値が <code>1</code> なら、以下が適用されます:
    <code>#00111:UU</code> + <code>#00114:XX</code> + <code>#00116:ZZ</code></li>
   <li>生成値が <code>2</code> なら、以下が適用されます:
    <code>#00112:VV</code> + <code>#00113:WW</code> + <code>#00116:ZZ</code></li>
   <li>生成値が <code>3</code> なら、以下が適用されます:
    <code>#00112:VV</code> + <code>#00114:XX</code> + <code>#00115:YY</code></li>
   <li>生成値が <code>4</code> なら、以下が適用されます:
    <code>#00112:VV</code> + <code>#00114:XX</code> + <code>#00116:ZZ</code></li>
  </ul></li>
 <li><p>別の例 (特別なパターンが、1/64 の確率で適用される譜面):</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#RANDOM 64
  #IF 1
       // special pattern
  #ELSE
       // default pattern
  #ENDIF
#ENDRANDOM</code></pre></td>
     <td class="vam">
      <ul>
       <li>生成値が <code>1</code> なら、特別なパターンが適用されます。</li>
       <li>生成値が <code>1</code> 以外なら、既定のパターンが適用されます。</li>
       <li><code>#ELSE</code> を使用しない場合、1 つの特別なパターンと、63 の既定パターンを記述しなければなりません。</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>ナナシグルーヴ仕様には、<q><code>1-<var>x</var></code> まで全てのパターンを網羅する必要がある。</q> と書かれています。</p>
  <ul>
   <li>したがって、前述の 2 つの例は nanasi 仕様に違反しています。</li>
   <li>しかしながら、nanasi は前述の 2 つの例を正確に解析することができます。</li>
   <li>IIDXv と outliner も、前述の 2 つの例を正確に解析することができます。</li>
   <li>しかし、このようなフロー制御を行なうなら、私たちは <code>#ELSE</code> ではなく <code>#SWITCH</code> を使用するべきでしょう。</li>
  </ul></li>
</ul>
</section>



<section id="ENDRANDOM">
<h3><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ENDRANDOM">#ENDRANDOM</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Angolmois, Sonorous</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#RANDOM</code> ブロックの終了を明確に表現するためのコマンド。</li>
 <li>ある <code>#RANDOM</code> ブロックは、1 つの <code>#RANDOM</code> 文によって開始され、1 つの <code>#ENDRANDOM</code> 文によって閉じられます。</li>
 <li><p><code>#ENDRANDOM</code> をサポートしない実装は、<code>#ENDRANDOM</code> を単に無視します。</p>
  <ul>
   <li>もし <code>#ENDRANDOM</code> が BMS の仕様に当初から含まれていたならば、プログラマの仕事は現在よりわずかに容易だったでしょう。</li>
   <li>しかしながら、そうではなかったので、<code>#RANDOM</code> の解析は面倒な仕事になっています。</li>
  </ul></li>
 <li><p>ナナシグルーヴ仕様には、<q><code>#ENDRANDOM</code> は分岐を入れ子する場合必須。</q> と書かれています。</p>
  <ul>
   <li>しかし実のところ、<strong class="red"><code>#RANDOM</code> を入れ子にしない場合でも、私たちは常に <code>#ENDRANDOM</code> を書くべきです。</strong></li>
   <li>なぜなら、<code>#ENDRANDOM</code> のない <code>#RANDOM</code> ステートメントが 47 回以上現われれば、nanasi が強制終了を行うからです。</li>
  </ul></li>
 <li><p>nanasi を除くすべての「<del>入れ子の</del> <code>#RANDOM</code> をサポートする実装」で、<code>#ENDRANDOM</code> は省略可能です。</p>
  <ul>
   <li>したがって、さしあたり、<code>#ENDRANDOM</code> は <code>#RANDOM</code> を nanasi に正確に解釈させる目的でのみ必要です。</li>
   <li>しかしながら、私は <code>#ENDRANDOM</code> を常に書くことを推奨します。なぜならそのことによって、私たちが BMS コードを読みやすくなるからです。</li>
  </ul></li>
 <li><p>IIDXv と HDX は、<code>#ENDRANDOM</code> を見つけると、その階層の <code>#RANDOM</code> の生成値を <code>1</code> に戻します。</p>
  <ul>
   <li>逆にいえば、<code>#ENDRANDOM</code> による後処理が行われない限り、以前の <code>#RANDOM</code> の値が継承されます。</li>
  </ul></li>
</ul>
</section>



<section id="SWITCH-FAMILY" itemscope="itemscope">
<div class="hgroup">
<h3 id="SWITCH"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SWITCH">#SWITCH&nbsp;<var>n</var></a></code></h3>
<h3 id="SETSWITCH"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SETSWITCH">#SETSWITCH&nbsp;<var>n</var></a></code></h3>
<h3 id="CASE"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CASE">#CASE&nbsp;<var>n</var></a></code></h3>
<h3 id="SKIP"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#SKIP">#SKIP</a></code></h3>
<h3 id="DEF"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#DEF">#DEF</a></code></h3>
<h3 id="ENDSW"><code><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#ENDSW">#ENDSW</a></code></h3>
</div>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th>
   <td>nanasi, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Sonorous (parsing-only), BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>これらはプログラミング言語の SWITCH 構文とほとんど同じです。</li>
 <li><code>#SWITCH</code> は、1 から <code><var>n</var></code> までの自然数のどれかひとつを生成します。
  言うまでもなく、<code><var>n</var></code> には自然数を指定するべきです。</li>
 <li><code>#SETSWITCH&nbsp;<var>n</var></code> が <code>#SWITCH&nbsp;<var>n</var></code>
  の代わりに記述されれば、定数 <code><var>n</var></code> が生成されます。これはテストプレイ時に有用です。</li>
 <li><p><code>#CASE</code> のラベル <code><var>n</var></code> が、<code>#SWITCH</code> の生成値と一致するかどうかが評価されます。</p>
  <p>言うまでもなく、BMS パーザは、<code>#SWITCH</code> 以降に存在する各行を、行番号順に評価していきます。</p>
  <p>ラベルが一致した <code>#CASE</code> から、<code>#ENDSW</code> までの区間の、間にある内容が適用されます。</p></li>
 <li>ラベルが一致した <code>#CASE</code> と次の <code>#CASE</code> との間に <code>#SKIP</code> が存在する場合、
  解析は <code>#SKIP</code> から <code>#ENDSW</code> までスキップされます。</li>
 <li>次の <code>#CASE</code> のラベルが目標値と一致しなくても、現在の <code>#CASE</code> と次の <code>#CASE</code> との間に
  <code>#SKIP</code> が存在しないなら、次の <code>#CASE</code> の内容も適用されます。
  つまり、<strong>ナナシグルーヴ仕様は <i class="red">フォールスルー</i> を許容します。</strong></li>
 <li><code>#ENDSW</code> は <code>#SWITCH</code> ブロックを終了します。
  <code>#ENDRANDOM</code> の場合と異なり、ノーターは <code>#ENDSW</code> の省略を許されていません。</li>
 <li><p><code>#DEF</code> も <code>#CASE</code> の代わりに使用することができます。
  <del><code>#CASE</code> がまだ目標値と一致していない場合、<code>#DEF</code> の内容が適用されます。</del></p>
  <p><ins>ナナシグルーヴ仕様には次のように書かれています:
   <q><span class="DBCS" lang="ja" xml:lang="ja">それまでの</span> #CASE <span class="DBCS" lang="ja" xml:lang="ja">が不一致であった場合実行される。</span></q></ins></p>
  <p><ins>しかしながら、<code>#CASE</code> が既に目標値と一致していた場合でも、<code>#SKIP</code> が省略されれば、
   <code>#DEF</code> も<i class="red">フォールスルー</i>によって適用されます。</ins></p>
  <ul>
   <li><code>#DEF</code> は、「<code>#CASE</code> がすべて不一致だった場合に適用されるべき、<b class="red">def</b>ault の選択肢」として用意されたコマンドです
   (少なくとも nanasi では)。</li>
   <li>したがってノーターは、1 つの <code>#SWITCH</code> に対して複数の <code>#DEF</code> を書いてはなりません。</li>
   <li><p>さらに、<code>#DEF</code> が必要な場合、ノーターは他のすべての <code>#CASE</code> の後に <code>#DEF</code> を書くべきです。</p>
    <ul>
     <li>このルールはナナシグルーヴ仕様に書かれていませんが、私たちはこのルールに従わなければなりません。</li>
     <li><p>それは、nanasi が <code>#DEF</code>を見つけた場合、
       <code>#DEF</code>-<code>#ENDSW</code> 間にあるすべての <code>#CASE</code> / <code>#SKIP</code> / <code>#DEF</code> が機能しなくなるからです。</p>
      <p>つまり nanasi は、<code>#DEF</code>-<code>#ENDSW</code> を 1 つのセクションとみなし、その間にあるすべての内容を適用してしまいます。</p></li>
     <li><p>IIDXv と HDX と outliner は、<code>#CASE</code> よりも前に書かれた <code>#DEF</code> を、正しく解釈します。</p>
      <p><code>#DEF</code> からの<i class="red">フォールスルー</i>も有効です。</p>
      <p><code>#DEF</code> と次の <code>#CASE</code> との間に <code>#SKIP</code> が存在しない場合、解析は次の <code>#CASE</code> に流れ落ちます。</p></li>
    </ul></li>
   <li>私は、「CASE より前にある DEF」や<i class="red">フォールスルー</i>のようなスタイルは無作法であるように思います。
    しかしながら、私はプログラミングに無知なので、態度を決めかねています。</li>
  </ul></li>
</ul>


<ul>
 <li><p>For example:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh120"><code>#SWITCH 5
  #CASE 1
    #00111:XX
  #CASE 2
    #00112:YY
    #SKIP
  #CASE 3
    #00113:ZZ
  #DEF
    #00114:AA
    #00115:BB
#ENDSW</code></pre>
     </td>
     <td>
      <ol>
       <li>生成値が <code>1</code> なら、以下が適用されます: <code>#00111:XX</code>
        + <code><i class="red">#00112:YY</i></code></li>
       <li>生成値が <code>2</code> なら、以下が適用されます: <code>#00112:YY</code></li>
       <li>生成値が <code>3</code> なら、以下が適用されます: <code>#00113:ZZ</code>
        + <code><i class="red">#00114:AA</i></code> + <code><i class="red">#00115:BB</i></code></li>
       <li>生成値が <code>4</code> なら、以下が適用されます: <code>#00114:AA</code> + <code>#00115:BB</code></li>
       <li>生成値が <code>5</code> なら、以下が適用されます: <code>#00114:AA</code> + <code>#00115:BB</code></li>
      </ol>
      <ul>
       <li>斜体は、それが <code>#SKIP</code> の省略によって適用された行であることを表現します。
        (すなわち<i class="red">フォールスルー</i>。)</li>
       <li>実際に <code>#SWITCH</code> を使用する場合、<b class="red">私たちはインデントを外すべきです。</b>
        (そうしなければ、nanasi は <code>#SWITCH</code> ブロックをすべて無視するでしょう。)</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>

<ul>
 <li><p><code>#SWITCH</code> は、<code>#RANDOM</code> と同じ内容を、より巧みに示すことができるかもしれません。</p>
  <table>
   <caption>特別なパターンを 1/64 の確率で適用する例:</caption>
   <thead>
    <tr>
     <th scope="col"><code>#RANDOM</code> の場合:</th>
     <th scope="col"><code>#ELSE</code> も使う場合:</th>
     <th scope="col"><code>#SWITCH</code> の場合:</th>
     <th scope="col">1/65535:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre class="lh120"><code>#RANDOM 64
  #IF 1
    // <span class="red">special pattern</span>
  #ENDIF
  #IF 2
    // default pattern
  #ENDIF
    ...
  #IF 64
    // default pattern
  #ENDIF
#ENDRANDOM</code></pre></td>
     <td><pre class="lh120"><code>#RANDOM 64
  #IF 1
    // <span class="red">special</span>
  #ELSE
    // default
  #ENDIF
#ENDRANDOM</code></pre>
      <p>註: nanasi 仕様に違反</p></td>
     <td><pre class="lh120"><code>#SWITCH 64
  #CASE 1
    // <span class="red">special</span>
    #SKIP
  #DEF
    // default
    #SKIP
#ENDSW</code></pre></td>
     <td><pre class="lh120"><code>#SWITCH 65535
  #CASE 1
    // <span class="red">special</span>
    #SKIP
  #DEF
    // default
    #SKIP
#ENDSW</code></pre></td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li><p><code>#RANDOM</code> では、ノーターはすべての選択肢を記述しなければなりません。この例なら 63 のデフォルト・パターンを書かなければなりません。</p>
    <ul>
     <li><code>#RANDOM</code> をサポートする実装はすべて、この方法を解釈することができます。この方法の可搬性は最高です。</li>
     <li>しかしながら、この方法は最も面倒なものであり、譜面のファイル・サイズは最大になります。</li>
    </ul></li>
   <li><code>#ELSE</code> は最も賢い方法です。 しかしながら、実害はありませんが仕様違反であり、適切ではありません。</li>
   <li><code>#SWITCH</code> は次善の方法です。 非常に簡潔に記述することができ、確率も容易に調整することができます。</li>
  </ul></li>
 <li><code>#SWITCH</code> によって表現できる内容は、<code>#RANDOM</code> でも表現できます。 しかし、私は 65534 もの <code>#IF</code> を書きたいとは思いません。</li>
 <li>私は、同じパターンの重複が存在しない場合なら、<code>#RANDOM</code> を使用することは適切であると思います。<!-- 
 (li)(p)(code)#ELSE(/code) をサポートする実装では、BMS パーザはすべての (code)#IF(/code) をチェックする必要があります。(/p)
  (p)したがって、(code)#RANDOM(/code) は、複数のユニークな内容を列挙する用途に適しています。(/p)(/li)
  ※自分がなにをいいたかったのか意味不明だったので消した --></li>
</ul>


<ul>
 <li><p>次のルールが仕様に書かれていないことは、私を不安にします:</p>
  <ul>
   <li>ノーターは、各ラベルについて、昇順で記述しなければなりません。</li>
   <li>ノーターは、各ラベルについて、一度だけ記述しなければなりません。</li>
  </ul>
  <p>それは <code>#RANDOM</code> でも同様です。 いくつかの実装は、無作法な制御文を解釈することができます。しかし、すべてがそうであるとは限りません。</p></li>
 <li><p>BMSE がサポートしないコマンド行は、BMSE の 「拡張命令」 タブに分離されます。</p>
  <ul>
   <li>BMSE は、<code>#IF</code>-<code>#ENDIF</code> の区間を解析することができ、「拡張命令」 タブにそれを分離することができます。これは非常に素晴らしい特徴です。</li>
   <li>しかし、BMSE は <code>#SWITCH</code> をサポートしていないので、
    <code>#SWITCH</code> の区分内容は、単なるトップレベルのコードとして解釈されます。</li>
   <li>つまり、「 <code>RANDOM</code>ized BMS を、BMSC で開いた場合」と同じ結果がもたらされます。
    (<a href="https://hitkey.nekokan.dyndns.info/090102/090102_02.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_02.png</span></a>)</li>
  </ul></li>
 <li><p>コントロール・フロー自体を編集することができる BMS エディタは、いまだ存在しません。</p>
  <p>もし存在しうるなら、それはアウトラインプロセッサのような形になるだろう、と私は推測しています。</p></li>
 <li><p>ナナシグルーヴの仕様によると:</p>
  <ul>
   <li><strong><code>#SWITCH</code> ブロックは、<code>#RANDOM</code> ブロックの中に書くことができます。</strong></li>
   <li><strong><code>#RANDOM</code> ブロックは、<code>#SWITCH</code> ブロックの中に書くことができます。</strong></li>
   <li><strong><code>#RANDOM</code> と <code>#SWITCH</code> は、<strong class="red">無制限に入れ子にすることができます。</strong></strong></li>
  </ul></li>
 <li><p>しかしながら、nanasi に実装されたコントロール・フローは不可解です。</p>
  <ul>
   <li><code>#RANDOM</code> を 90 層以上ネストすると、nanasi は強制終了を行うでしょう。(<code>#SWITCH</code> が混合されない場合)</li>
   <li><code>#SETSWITCH</code> を 47 層以上ネストすると、nanasi は強制終了を行うでしょう。 (<code>#RANDOM</code> が混合されない場合)</li>
   <li>nanasi は、<code>#RANDOM</code> と <code>#SWITCH</code>
    を<strong class="red">交互に</strong>入れ子にすることによって、約 100 層以上のネストを実現することができます。</li>
  </ul></li>
 <li>outliner で入れ子にできる制御文の層数は、<a href="https://hitkey.nekokan.dyndns.info/nest1000.htm">Web ブラウザ側のレンダリング制限</a> に依存します。</li>
 <li><del datetime="2013-08-03T18:00:00+09:00">IIDXv と HDX は、コントロール・フローに関する性能はベストです。</del></li>
</ul>

<section id="INDENT-STYLE">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#INDENT-STYLE">Indent&nbsp;style</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>IIDXv</td></tr>
  <tr><th scope="row">support:</th><td><table>
    <thead>
     <tr>
      <th scope="col">Apps</th>
      <th scope="col">タブ文字 (U+0009)</th>
      <th scope="col">半角空白 (U+0020)</th>
      <th scope="col">全角空白 (U+3000)</th>
     </tr>
    </thead>
    <tbody>
     <tr><td>fgt, fgt++, fgt#</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>IIDXv, HDX</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>iBMSC</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>outliner</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>PMSee-V <ins>(v1.10.5+)</ins></td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>BGAEncoder (HEADERs only)</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>BGAEncAdv, TechnicalGroove</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>Sonorous (UTF-8)</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>uBMplay</td><td class="N">No</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>bemaniaDX</td><td class="N">No</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>LR2</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td></tr>
     <tr><td>BMS List Sorter, BME2WAV, BMX2WAV</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td></tr>
     <tr><td>Angolmois, Sonorous (non-UTF8)</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td></tr>
    </tbody>
   </table></td>
  </tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>タブ文字あるいは半角空白によるインデント。(IIDXv サポートページでは「段落化」と呼ばれています)</li>
 <li>私は、これはノーターにとって非常に有用であると思います。 私はもはやインデントなしでコントロール・フローを書くことができません。</li>
 <li><p>fgt, fgt++, fgt#, BGAEncoder (ヘッダ行のみ), BGAEncAdv, TechnicalGroove
   では、“<code>#</code>” を除くあらゆる文字がインデントになってしまいます。</p>
  <ul>
   <li>forgetalia シリーズは、<strong class="red">コマンド行をコメントアウトできません</strong>。</li>
   <li>BGAEncoder は、<strong>ヘッダ行をコメントアウトできません</strong>。</li>
   <li>BGAEncAdv と TechnicalGroove は、“<code>//</code>” を除き、<strong>コマンド行をコメントアウトできません</strong>。</li>
   <li>いくつかの BMS は、この仕様によって互換性を失います。
    (例: <cite>FANKS "RANDOM" COLLECTION</cite> は <code>#random</code> を “<code>/</code>” でコメントアウトしています)</li>
  </ul></li>
</ul>
</section>

<section id="COMMENT-SYNTAX">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#COMMENT-SYNTAX">Comment&nbsp;syntax</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>IIDXv</td></tr>
  <tr><th scope="row">support:</th><td>IIDXv, HDX, outliner (エスケープは除く),
    BGAEncAdv (“<code>//</code>” のみ),
    TechnicalGroove (“<code>//</code>” のみ)</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>譜面デバッグ用の、明示的なコメント構文です。</li>
 <li>コメント構文は、制御構文よりも優先的に解釈されます。</li>
 <li><p><code>;</code> ： 単一行コメントの開始符。 <code>;</code> から改行文字までの区間は、コメントとして無視されます。</p>
  <ul>
   <li>これは DTX フォーマットの単一行コメントシンタックスと同一のものです。</li>
  </ul></li>
 <li><p><code>//</code> ： 単一行コメントの開始符。 <code>//</code> から改行文字までの区間は、コメントとして無視されます。</p>
  <ul>
   <li>これは C 言語風プログラミング言語の単一行コメントシンタックスと同一のものです。</li>
  </ul></li>
 <li><p><code>/*</code> - <code>*/</code> : 複数行コメントの開始符と終了符。 <code>/*</code> から <code>*/</code> までの区間は、コメントとして無視されます。</p>
  <ul>
   <li>これは C 言語風プログラミング言語の複数行コメントシンタックスと似ていますが、</li>
   <li><strong class="red">コメントブロック内の改行文字が解釈される点に注意してください。</strong></li>
   <li>ブロックコメントは入れ子にできません。</li>
  </ul></li>
 <li><p>例 ：</p>
  <table>
   <thead><tr><th scope="col">before parsing</th><th scope="col">after parsing</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh120"><code>#TITLE foo-<i class="N"><b>/*</b>bar-<b>*/</b></i>baz<i class="Y"><b>;</b> :)</i>
#RANDOM 23
  #IF 1
    #00111:XX
  #ELSEIF 2<i class="N b">/*</i>
<i class="N">    #00112:YY</i>
<i class="N">  #ELSEIF ; <b>*/</b></i>3
    #00113:ZZ
  #ELSE<i class="Y"><b>//</b>IF 4</i>
    #00114:AA
  #ENDIF
<i class="Y"><b>//</b>*</i>
#ARTIST foon
<i class="N"><b>/*</b>/</i>
<i class="N">#ARTIST asso</i>
<i class="N">//<b>*/</b></i>
#BPM 130</code></pre></td>
     <td><pre class="lh120"><code>#TITLE foo-baz
#RANDOM 23
  #IF 1
    #00111:XX
  #ELSEIF 2

3
    #00113:ZZ
  #ELSE
    #00114:AA
  #ENDIF

#ARTIST foon



#BPM 130</code></pre></td>
     <td><ul>
       <li><p>プログラミング言語と異なり、<code>#ELSEIF 23</code> という結果にはなりません。</p>
        <ul>
         <li>これは 「1 行 につき 1 コマンド」 という BMS の仕様に準拠したから、とのこと。</li>
         <li>コメントアウトの結果として、文字 <code>3</code> だけが行に残されます。</li>
         <li>この行は、BMS の仕様上、暗黙的コメント行と解釈され、単に無視されます。</li>
        </ul></li>
       <li><p><code><i class="Y"><b>//</b>*</i></code> の先頭のスラッシュを 1 文字削除すると、</p>
        <ul>
         <li><p>この箇所は以下のようにコメントアウトされるでしょう ：</p>
          <table>
           <tbody>
            <tr>
             <td><pre class="lh120"><code><i class="N"><b>/*</b></i>
<i class="N">#ARTIST foon</i>
<i class="N">/<b>*/</b></i>
#ARTIST asso
<i class="Y"><b>//</b>*/</i></code></pre></td>
             <td><pre class="lh120"><code><i class="N"><b>/*</b> (another solution)</i>
<i class="N">#ARTIST foon</i>
<i class="N">/<b>*/</b></i>
#ARTIST asso
<i class="N"><b>/**/</b></i></code></pre></td>
            </tr>
           </tbody>
          </table></li>
         <li>このように、ブロックコメントのオンオフを簡単に切り替えることができます。</li>
        </ul></li>
      </ul></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>IIDXv と HDX では、<strong class="red">コメント構文を無効化する手段が存在しません。</strong></p>
  <ul>
   <li>文字列値に使いたいコメントシンボルは全角文字に変更する方法が、IIDXv のドキュメントで提案されています。</li>
   <li>たとえば、<code>#ARTIST audio: foo <i class="Y"><b>//</b> video: bar</i></code> は
    <code>#ARTIST audio: foo <mark class="DBCS">／／</mark> video: bar</code> に変更する、など。</li>
   <li>過去の BMS 作品などで修正ができない場合、IIDXv と HDX では <code>#ARTIST audio: foo </code> と解釈されるしかありません。</li>
  </ul></li>
 <li><p>IIDXv 2.13+ と HDX 0.98+ では、<strong>文字列のエスケープ</strong>が提供されています。
  <strong class="red">(これはコメント構文を無効化するわけではありません)</strong></p>
  <ul>
   <li>文字列値を受け付けるコマンドはすべて、値を引用符 (U+0022) で括ることができます。</li>
   <li>引用符で括られた文字列の中のコメントマークは、単なる文字列として解釈されます。</li>
   <li>また、エスケープ文字 “<code>\</code>” (U+005C) を前置した文字は、単なる文字として解釈されます。</li>
  </ul>
  <dl>
   <dt>例 1: <code>#ARTIST&nbsp;C:<b class="N">\</b>usr&nbsp;the&nbsp;<b class="N">"</b>DPer<b class="N">"</b>&nbsp;(http:<b class="N">//</b>hitkey.nekokan.dyndns.info/)</code></dt>
   <dd>
    <p>IIDXv と HDX での表示: <samp>C:usr&nbsp;the&nbsp;DPer&nbsp;(http:</samp></p>
    <p>他ソフトウェアでの表示: <samp>C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p></dd>
   <dt>例 2: <code>#ARTIST&nbsp;C:<b class="Y">\\</b>usr&nbsp;the&nbsp;<b class="Y">\"</b>DPer<b class="Y">\"</b>&nbsp;(http:<b class="Y">\//</b>hitkey.nekokan.dyndns.info/)</code></dt>
   <dd>
    <p>IIDXv と HDX での表示: <samp>C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p>
    <p>他ソフトウェアでの表示: <samp>C:\\usr&nbsp;the&nbsp;\"DPer\"&nbsp;(http:\//hitkey.nekokan.dyndns.info/)</samp></p></dd>
   <dt>例 3: <code>#ARTIST&nbsp;<mark>"</mark>C:<b class="N">\</b>usr&nbsp;the&nbsp;<b class="N">"</b>DPer<b class="N">"</b>&nbsp;(http:<b class="Y">//</b>hitkey.nekokan.dyndns.info/)<mark>"</mark></code></dt>
   <dd>
    <p>IIDXv と HDX での表示: <samp>C:usr&nbsp;the&nbsp;DPer&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p>
    <p>他ソフトウェアでの表示: <samp>"C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)"</samp></p></dd>
   <dt>例 4: <code>#ARTIST&nbsp;<mark>"</mark>C:<b class="Y">\\</b>usr&nbsp;the&nbsp;<b class="Y">\"</b>DPer<b class="Y">\"</b>&nbsp;(http:<b class="Y">//</b>hitkey.nekokan.dyndns.info/)<mark>"</mark></code></dt>
   <dd>
    <p>IIDXv と HDX での表示: <samp>C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p>
    <p>他ソフトウェアでの表示: <samp>"C:\\usr&nbsp;the&nbsp;\"DPer\"&nbsp;(https://hitkey.nekokan.dyndns.info/)"</samp></p></dd></dl></li>
 <li><ins datetime="2013-05-07T13:00:00+09:00">HDX 0.99 以降、U+0022 で囲まれていない
  “<code>\</code>” (U+005C) は、エスケープされることなくそのまま出力されるように変更されました。</ins></li>
</ul>
</section>


<section id="TEST-CASES">
<h4><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#TEST-CASES">テストケース</a></h4>

<ol class="noMarginTop">
 <li><p>BMIIDXView2010.txt から:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#SWITCH 5
    #DEF
        #00013:0055
        #SKIP
    #CASE 1
        #00013:0100000000000000
        #RANDOM 2
            #IF 1
                #00014:04
            #ELSE
                #00014:05
            #ENDIF
    #CASE 2
        #00013:0200000000000000
        #SKIP
    #CASE 3
        #00013:0300000000000000
        #SWITCH 2
            #CASE 1
                #00016:1111
                #SKIP
            #CASE 2
                #00016:2222
                #SKIP
        #ENDSW
        #SKIP
#ENDSW</code></pre>
     </td>
     <td>
      <ul>
       <li>インデント</li>
       <li><code>#CASE</code> の前の <code>#DEF</code></li>
       <li><code>#ENDRANDOM</code> のない入れ子 <code>#RANDOM</code></li>
       <li><p>準備した <code>#IF</code> の数より大きい目標値</p>
        <p>(註: ナナシグルーヴ仕様違反)</p></li>
       <li><code>#SKIP</code> の省略によるフォールスルー</li>
       <li><code>#RANDOM</code> と <code>#SWITCH</code> が交互にされていない入れ子</li>
      </ul>
      <dl>
       <dt>テストをパスする:</dt>
        <dd>IIDXv, HDX, outliner</dd>
       <dt>テストを部分的にパスする (が隔離に失敗する):</dt>
        <dd>iBMSC (3.0+)</dd>
      </dl>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p><cite>オートメーション工場</cite> (<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</p>
  <ul>
   <li>6177 の <code>#RANDOM</code> 文 / 147723 の <code>#IF</code> 文 (無制限の兄弟)</li>
   <li>ヘッダさえ含んでいるステートメント・ブロック</li>
   <li>60,000行を超過する、巨大な入れ子の <code>#RANDOM</code> (347781-409539)</li>
   <li>あまりにも多くの、準備した <code>#IF</code> ステートメント数より大きい目標値</li>
   <li>無作為化された <code>#TITLE</code> (選曲画面や <abbr title="Internet Ranking">IR</abbr> などにタイトルを使う実装では、たぶん大問題)</li>
  </ul>
  <dl>
   <dt>テストをパスする:</dt>
    <dd>pomu2, IIDXv, HDX, outliner, Angolmois, uBMplay (1.5.0 以降), Sonorous, BGAEncAdv, TechnicalGroove</dd>
   <dt>テストを部分的にパスする (が、入れ子はすべて外される):</dt>
    <dd>uBMplay (1.4.6 以前), LR2, fgt++, ruvit, bmx2wav</dd>
  </dl>
  <p><code>#ENDRANDOM</code> が補われるなら、nanasi もパスします。
   (<a href="https://hitkey.nekokan.dyndns.info/a_lot_of_random_for774.zip" type="application/zip"><span itemprop="url">https://hitkey.nekokan.dyndns.info/a_lot_of_random_for774.zip</span></a>)</p></li>
 <li><p><cite>20,november "club edit" [random ver.]</cite>
  (<span itemprop="name">cranky</span>, <time itemprop="update" datetime="1999-04-10">1999-04-10</time>)</p>
  <ul>
   <li><code>#RONDAM</code> は誤字です。</li>
   <li>テストをパスする: uBMplay, BMSE, outliner, Sonorous, BGAEncAdv, TechnicalGroove</li>
  </ul></li>
 <li><p><cite>Velocity Magic 3 [Aren't you lucky?]</cite>
  (<span itemprop="name">Speed Magician</span> / <span itemprop="name">Transfero</span>,
  <time itemprop="update" datetime="2010-09-11">2010-09-11</time>)
  (<span itemprop="url" class="external u">http://uploader.bms.ms/data/PW/vm3_ts3.zip</span>) (現在 DL 不可)</p>
  <ul>
   <li>lovetricks.ogg » lovetricks.bms</li>
   <li><code>#END&nbsp;IF</code> は誤字です。</li>
   <li>テストをパスする: nazoZZ, RDM, ruvit, fgt++, fgt#, LR2, uBMplay, PMSee-V, outliner, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</li>
  </ul></li>
 <li><p><cite>kitchen twies</cite>
  (<span itemprop="name">Orange Strophe</span>, <time itemprop="update" datetime="2009-07-22">2009-07-22</time>)
  (<a class="external" rel="external" hreflang="en" title="bms - OneDrive" href="https://onedrive.live.com/?id=A1F351E1932E6FF7%21282&amp;cid=A1F351E1932E6FF7"><span itemprop="url">https://onedrive.live.com/?id=A1F351E1932E6FF7!282&amp;cid=A1F351E1932E6FF7</span></a>)<!--
  (<a class="external" rel="external" hreflang="ko" title="Team Progressive &#xBB; kitchen twies"
   href="http://neoarre.aquz.biz/678"><span itemprop="url">(!- - http://neoarre.aquz.biz/xe/1589 - -)http://neoarre.aquz.biz/678</span></a>) --></p>
  <table>
   <thead><tr><th scope="col">before</th><th scope="col">after</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#RANDOM 2

#00002:0.5
#00003:4F
#IF 1
#00004:01
#00006:03
#ENDIF
#IF 2
#00004:02
#00006:04
#ENDIF</code></pre></td>
     <td><pre class="lh100"><code>#00002:0.5
#00003:4F
#RANDOM 2
#IF 1
#00004:01
#00006:03
#ENDIF
#IF 2
#00004:02
#00006:04
#ENDIF</code></pre></td>
     <td>
      <ul>
       <li>不正な枝は、<code>#IF</code> に属さない行を含んでいます。</li>
       <li><time itemprop="update" datetime="2009-10-05">2009-10-05</time>: このバグはパッチによって修正されました。</li>
       <li><p><del datetime="2013-01-18T19:00:00+09:00">(私は、この問題を解決する必要性を理解しません。テストをパスするべきでしょうか？)</del></p>
        <p><ins datetime="2013-01-18T19:00:00+09:00">むろん、テストにパスするのが望ましいです。BM98 はそのように <code>#RANDOM</code> を実装しました。</ins></p></li>
       <li>テストをパスする: RDM, ruvit, nanasi, uBMplay, PMSee-V, bmx2wav, IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove, ... (未調査)</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
</ol>
</section>

<!-- /SWITCH FAMILY -->
</section>

<hr>
<!-- /CONTROL FLOW -->
</section>



<section id="CHANNEL">
<h2><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANNEL">&lt;CHANNEL&gt;</a></h2>

<section id="CHANNEL-MAPPING-TABLE">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#CHANNEL-MAPPING-TABLE">チャンネル割り当て表</a></h3>
<table>
 <thead><tr><th scope="col">num</th><th scope="col">summary</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr>
   <th scope="row"><code>00</code></th>
   <td>永久欠番チャンネル</td>
   <td>いくつかの実装では: <code>#xxx</code> の先頭での BPM 変更 (削除済み)</td>
   <td>-</td>
  </tr>
  <tr>
   <th scope="row"><code>01</code></th>
   <td>BGM</td>
   <td><code>#WAVxx</code> (複数行)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>02</code></th>
   <td><code>#xxx</code> の長さ</td>
   <td>(1 は 4/4 拍子に相当) // 整数または小数を指定</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>03</code></th>
   <td>BPM 変更</td>
   <td>BPM 1 « <code>[01-FF]</code> » BPM 255</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>04</code></th>
   <td>BGA BASE</td>
   <td><code>#BMPxx</code> (BASE は LAYER の下に表示される)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>05</code></th>
   <td>Extended Object</td>
   <td><code>#ExtChr</code> (BM98 のみ)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>05</code></th>
   <td>SEEK Object</td>
   <td><code>#SEEKxx&nbsp;<var>n</var></code> (LR のみ)</td>
   <td>LR</td>
  </tr>
  <tr>
   <th scope="row"><code>06</code></th>
   <td>BGA POOR</td>
   <td><code>#BMPxx</code> (ミスを出した時、POOR が表示される)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>07</code></th>
   <td>BGA LAYER</td>
   <td><code>#BMPxx</code> (LAYER は BASE の上に表示される)</td>
   <td>BM98k</td>
  </tr>
  <tr>
   <th scope="row"><code>08</code></th>
   <td>exBPM</td>
   <td><code>#BPMxx&nbsp;<var>n</var></code> | <code>#EXBPMxx&nbsp;<var>n</var></code> (実数)</td>
   <td>bemaniaDX</td>
  </tr>
  <tr>
   <th scope="row"><code>09</code></th>
   <td>STOP</td>
   <td><code>#STOPxx&nbsp;<var>n</var></code> (1 は 192 分音符に相当)</td>
   <td>DDR</td>
  </tr>
  <tr>
   <th scope="row"><code>0A</code></th>
   <td>BGA LAYER2</td>
   <td><code>#BMPxx</code> (LAYER2 は LAYER の上に表示される)</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0B</code></th>
   <td>BGA BASE 不透明度</td>
   <td>透明 « <code>[01-FF]</code> » 不透明</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0C</code></th>
   <td>BGA LAYER 不透明度</td>
   <td>透明 « <code>[01-FF]</code> » 不透明</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0D</code></th>
   <td>BGA LAYER2 不透明度</td>
   <td>透明 « <code>[01-FF]</code> » 不透明</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0E</code></th>
   <td>BGA POOR 不透明度</td>
   <td>透明 « <code>[01-FF]</code> » 不透明</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>11-1Z</code></th>
   <td>1P Visible</td>
   <td>{ BM98: 11-17, FlashTerminal: 18-19, MGQ: 1A-1F, pomu: 1G-1Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>21-2Z</code></th>
   <td>2P Visible</td>
   <td>{ BM98: 21-27, FlashTerminal: 28-29, MGQ: 2A-2F, pomu: 2G-2Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>31-3Z</code></th>
   <td>1P Invisible</td>
   <td>{ BM98: 31-36, FlashTerminal: 38-39, MGQ: 3A-3F, pomu: 3G-3Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>41-4Z</code></th>
   <td>2P Invisible</td>
   <td>{ BM98: 41-46, FlashTerminal: 48-49, MGQ: 4A-4F, pomu: 4G-4Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>51-5Z</code></th>
   <td>1P Longnote</td>
   <td>{ MGQ: 51-5F, pomu: 5G-5Z }</td>
   <td>MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>61-6Z</code></th>
   <td>2P Longnote</td>
   <td>{ MGQ: 61-6F, pomu: 6G-6Z }</td>
   <td>MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>70-96</code></th>
   <td>予約チャンネル</td>
   <td>[ <code>10</code>, <code>20</code>, <code>30</code>, <code>40</code>, <code>50</code>, <code>60</code> ] も予約チャンネル</td>
   <td>-</td>
  </tr>
  <tr>
   <th scope="row"><code>97</code></th>
   <td>BGM volume</td>
   <td>min 1 « <code>[01-FF]</code> » max 255 (最大は原音相当) // fgt only</td>
   <td>forgetalia</td>
  </tr>
  <tr>
   <th scope="row"><code>98</code></th>
   <td>KEY volume</td>
   <td>min 1 « <code>[01-FF]</code> » max 255 (最大は原音相当) // fgt only</td>
   <td>forgetalia</td>
  </tr>
  <tr>
   <th scope="row"><code>99</code></th>
   <td>TEXT</td>
   <td><code>#TEXTxx&nbsp;"<var>string</var>"</code></td>
   <td>pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>A0</code></th>
   <td>JUDGE</td>
   <td><code>#EXRANKxx&nbsp;<var>n</var></code> (100 は NORMAL 判定に相当 // 整数か小数を指定)</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A1</code></th>
   <td>BGA BASE aRGB</td>
   <td><code>#ARGBxx&nbsp;<var>a,r,g,b</var></code> (各 <code>[0-255]</code>)</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A2</code></th>
   <td>BGA LAYER aRGB</td>
   <td><code>#ARGBxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A3</code></th>
   <td>BGA LAYER2 aRGB</td>
   <td><code>#ARGBxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A4</code></th>
   <td>BGA POOR aRGB</td>
   <td><code>#ARGBxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A5</code></th>
   <td>BGA KEYBOUND</td>
   <td><code>#SWBGAxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A6</code></th>
   <td>OPTION</td>
   <td><code>#CHANGEOPTIONxx</code> <ins datetime="2013-05-07T12:00:00+09:00">(複数行)</ins></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>D1-D9</code></th>
   <td>1P Landmine</td>
   <td><code>#WAV00</code> // [01-ZZ] でダメージ指定 (decimalize/2) // ZZ は即死</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>E1-E9</code></th>
   <td>2P Landmine</td>
   <td><code>#WAV00</code> // [01-ZZ] でダメージ指定 (decimalize/2) // ZZ は即死</td>
   <td>nanasi</td>
  </tr>
 </tbody>
</table>
</section>

<section id="KEYMAP-TABLE">
<h3><a href="https://hitkey.nekokan.dyndns.info/cmdsJP.htm#KEYMAP-TABLE">KEY&nbsp;割り当て表</a></h3>
<table>
 <thead><tr><th scope="col">format</th><th scope="col">Visible Object Channel Mapping</th></tr></thead>
 <tbody>
  <tr>
   <th scope="row">BMS</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
       <th scope="col">(FREE ZONE)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
       <td class="bP u">17</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
       <th scope="col">(FREE ZONE)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
       <td class="bP u">27</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BMS (nanasi-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap p1 mr73">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">27</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BMS (Angolmois-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap p1 mr73">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">27</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><a href="http://ucn.tokonats.net/software/taterenda/" class="external DBCS" rel="external" hreflang="ja" lang="ja" xml:lang="ja" title="UCN-Soft - Software » 縦連打測定器">縦連打測定器</a>
    <span class="br">(<a href="https://web.archive.org/web/20120315045143/http://uploader.bms.ms/data/mirror/taterenda_the_final.zip" class="external" rel="external nofollow">WayBack</a>)</span></th>
   <td>
    <table class="keymap">
     <thead>
      <tr class="DBCS">
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">?</td>
       <td class="bW">?</td>
       <td class="bW">?</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><abbr title="Delight Delight Reduplication">DDR</abbr> Arrow 6</th>
   <td>
    <table class="keymap">
     <thead>
      <tr class="DBCS">
       <th scope="col">←</th>
       <th scope="col">＼</th>
       <th scope="col">↓</th>
       <th scope="col">↑</th>
       <th scope="col">／</th>
       <th scope="col">→</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><abbr title="Delight Delight Reduplication">DDR</abbr> Arrow 4/8</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr class="DBCS">
       <th scope="col">←</th>
       <th scope="col">↓</th>
       <th scope="col">↑</th>
       <th scope="col">→</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bW">13</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2 DBCS">
       <th scope="col">←</th>
       <th scope="col">↓</th>
       <th scope="col">↑</th>
       <th scope="col">→</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bW">23</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">Project2DX</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col" class="p2">KEY6</th>
       <th scope="col" class="p2">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">21</td>
       <td class="bW">22</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BME</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bB">28</td>
       <td class="bW">29</td>
       <td class="bR">26</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BME (nanasi-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
      </tr>
      <tr><td class="bP" colspan="8">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BME (Angolmois-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
      </tr>
      <tr><td class="bP" colspan="8">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY8</th>
       <th scope="col">KEY9</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bB">28</td>
       <td class="bW">29</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bP" colspan="8">FOOT PEDAL: #xxx<span class="u">27</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><a href="http://yukisite.com/johnny/fppp/" title="Foot Pedal Party Project" class="external" rel="external" hreflang="ja"><abbr title="Double Scratch">DSC</abbr> / <abbr title="Foot Pedal Package">FPP</abbr></a></th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col" class="p2">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
       <td class="bR">26</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><abbr title="Octave mode">OCT</abbr>/<abbr title="Foot Pedal">FP</abbr></th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col" class="p2">KEY8</th>
       <th scope="col" class="p2">KEY9</th>
       <th scope="col" class="p2">KEY10</th>
       <th scope="col" class="p2">KEY11</th>
       <th scope="col" class="p2">KEY12</th>
       <th scope="col" class="p2">KEY13</th>
       <th scope="col" class="p2">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bB">28</td>
       <td class="bW">29</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bG" colspan="15">FOOT PEDAL: #xxx21</td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col" class="p2">KEY6</th>
       <th scope="col" class="p2">KEY7</th>
       <th scope="col" class="p2">KEY8</th>
       <th scope="col" class="p2">KEY9</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bY">12</td>
       <td class="bG">13</td>
       <td class="bB">14</td>
       <td class="bR">15</td>
       <td class="bB">22</td>
       <td class="bG">23</td>
       <td class="bY">24</td>
       <td class="bW">25</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS (BME-type)</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">KEY8</th>
       <th scope="col">KEY9</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bY">12</td>
       <td class="bG">13</td>
       <td class="bB">14</td>
       <td class="bR">15</td>
       <td class="bB">18</td>
       <td class="bG">19</td>
       <td class="bY">16</td>
       <td class="bW u">17</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">KEY8</th>
       <th scope="col">KEY9</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bY">22</td>
       <td class="bG">23</td>
       <td class="bB">24</td>
       <td class="bR">25</td>
       <td class="bB">28</td>
       <td class="bG">29</td>
       <td class="bY">26</td>
       <td class="bW u">27</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS (5button)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col"><del><span class="chameleonic">KEY1</span></del></th>
       <th scope="col"><del><span class="chameleonic">KEY2</span></del></th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col" class="p2">KEY6</th>
       <th scope="col" class="p2">KEY7</th>
       <th scope="col" class="p2"><del><span class="bbb">KEY8</span></del></th>
       <th scope="col" class="p2"><del><span class="bbb">KEY9</span></del></th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td></td>
       <td></td>
       <td class="bG">13</td>
       <td class="bB">14</td>
       <td class="bR">15</td>
       <td class="bB">22</td>
       <td class="bG">23</td>
       <td></td>
       <td></td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS (pomu-battle)</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bY">12</td>
       <td class="bG">13</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">O2mania (?)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">(KEY8)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">16</td>
       <td class="bB">11</td>
       <td class="bW">12</td>
       <td class="bR">13</td>
       <td class="bW">14</td>
       <td class="bB">15</td>
       <td class="bW">18</td>
       <td class="p2">19</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">MyO2 (?)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">(KEY5)</th>
       <th scope="col">(KEY6)</th>
       <th scope="col">(KEY7)</th>
       <th scope="col">(KEY8)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bB">11</td>
       <td class="bB">12</td>
       <td class="bR">13</td>
       <td class="p2">14</td>
       <td class="p2">15</td>
       <td class="p2">18</td>
       <td class="p2">19</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">未調査:</th>
   <td>
    <p>GDA 9btn (feeling Pomu second),</p>
    <p>16panel (D3beat),</p>
   </td>
  </tr>
 </tbody>
</table>
</section>

<hr>
<!-- /h2 CHANNEL -->
</section>


</div>
</div>
</div>
</div>
</div>
</div>
</div>



</body></html>