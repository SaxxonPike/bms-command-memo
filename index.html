<!DOCTYPE html>
<!-- saved from url=(0043)https://hitkey.nekokan.dyndns.info/cmds.htm -->
<html xmlns="http://www.w3.org/1999/xhtml" class="nojs" dir="ltr" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>BMS command memo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="format-detection" content="telephone=no,address=no,email=no">
<meta name="author" content="hitkey">
<meta name="description" lang="en" xml:lang="en" content="This document is memo about the specification of BMS format.">
<meta name="keywords" content="BMS,Be-Music,command,specification">
<script type="text/javascript" src="content/html5.js.download"></script>
<link rel="stylesheet" href="content/cmd.css" type="text/css">
<link rel="alternate" href="index-jp.html" hreflang="ja" type="text/html" title="BMS command memo (JP)">
</head>
<body>
<div id="SEGOE-UI">
<div id="HELVETICA">
<div id="HELVETICA-NEUE">
<div id="VERDANA">
<div id="LUCIDA-SANS-UNICODE">
<div id="LUCIDA">
<div id="ARIAL">

<header id="BMS-COMMAND-MEMO" itemscope="itemscope">
<h1><a href="index.html" title="BMS command memo (EN)" hreflang="en">BMS&nbsp;command&nbsp;memo&nbsp;(draft)</a></h1>
<ul>
 <li>latest update: <time itemprop="update" datetime="2014-07-11">2014-07-11</time></li>
 <li><p>written by <span itemprop="name">hitkey</span></p>
  <address>
   <ul>
    <li>web: <a href="https://hitkey.nekokan.dyndns.info/" title="doubledepth" hreflang="ja"><span itemprop="home url">https://hitkey.nekokan.dyndns.info/</span></a></li>
    <li>mail: <span itemprop="mail">hitkey0801[at]hotmail.com</span></li>
   </ul>
  </address></li>
 <li><p>references:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">about <dfn><abbr title="Be-Music Script">BMS</abbr></dfn>:</th>
     <td><a href="https://en.wikipedia.org/wiki/Be-Music_Source" title="Be-Music Source - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Be-Music_Source</span></a></td>
    </tr>
    <tr>
     <th scope="row">This report referred to:</th>
     <td><a href="https://web.archive.org/web/*/http://wiki.bms.ms/Bms:Spec" title="Bms:Spec - wiki.bms.ms -" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://wiki.bms.ms/Bms:Spec</span></a></td>
    </tr>
    <tr>
     <th scope="row"><cite><abbr title="Be-Music Script">BMS</abbr> Format Specification</cite>:</th>
     <td><a href="http://bm98.yaneu.com/bm98/bmsformat.html" title="BM98Data_format_specification" class="external" rel="external" hreflang="en"><span itemprop="url">http://bm98.yaneu.com/bm98/bmsformat.html</span></a> (<time itemprop="update" datetime="1998-11-26">1998-11-26</time>)</td>
    </tr>
    <tr>
     <th scope="row">Basic specification of <dfn><abbr title="Be-Music Longnote format">BML</abbr></dfn>:</th>
     <td><a href="https://nvyu.net/rdm/rby_ex.php" title="ruv-it! | support page" class="external" rel="external" hreflang="ko"><span itemprop="url">https://nvyu.net/rdm/rby_ex.php</span></a></td>
    </tr>
    <tr>
     <th scope="row"><cite>BMS extensions proposed by Sonorous</cite>:</th>
     <td><a href="https://cosmic.mearie.org/f/sonorous/bmsexts" title="BMS extensions proposed by Sonorous" class="external" rel="external" hreflang="en"><span itemprop="url">https://cosmic.mearie.org/f/sonorous/bmsexts</span></a> (since <time datetime="2013-07-10">2013-07-10</time>) (as reference data)</td>
    </tr>
    <tr>
     <th scope="row"><cite>DTX file format specifications</cite>:</th>
     <td><a href="http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e" title="qa_dtx_spec_e - DTXMania powered by YAMAHA Silent Session Drums" class="external" rel="external" hreflang="en"><span itemprop="url">http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e</span></a> (as reference data)</td>
    </tr>
    <tr>
     <th scope="row"><cite>Guide to understand <abbr title="Be-Music Script">BMS</abbr> format</cite>:</th>
     <td><a href="https://cosmic.mearie.org/2005/03/bmsguide/" title="TokigunStudio: Guide to understand BMS format" class="external" rel="external" hreflang="ko"><span itemprop="url">https://cosmic.mearie.org/2005/03/bmsguide/</span></a> (<time itemprop="update" datetime="2005-03-22">2005-03-22</time>) (as reference data)</td>
    </tr>
    <tr>
     <th scope="row"><cite>Angolmois Internals</cite>:</th>
     <td><a href="https://github.com/lifthrasiir/angolmois/blob/master/INTERNALS.md" title="angolmois/INTERNALS.md at master · lifthrasiir/angolmois · GitHub" class="external" rel="external" hreflang="en"><span itemprop="url">https://github.com/lifthrasiir/angolmois/blob/master/INTERNALS.md</span></a> (<time itemprop="update" datetime="2013-03-09">2013-03-09</time>) (as reference data)</td>
    </tr>
    <tr>
     <th scope="row">about obsolete MGQ notation:</th>
     <td><a href="https://web.archive.org/web/*/http://ivy.pr.co.kr/rdm/jp/extension.htm" title="Dear Feeling" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://ivy.pr.co.kr/rdm/jp/extension.htm</span></a> (<time itemprop="update" datetime="2001-06-21">2001-06-21</time>) (as reference data)</td>
    </tr>
    <tr>
     <th scope="row">LR2 beta3 Skin csv specification revision 5:</th>
     <td><a href="http://right-stick.sub.jp/lr2skinhelp.html" data-old-href="http://www.geocities.jp/red_without_right_stick/lr2skinhelp.html" title="LR2SkinHELP 第五版" class="external" rel="external" hreflang="ja"><span itemprop="url">http://right-stick.sub.jp/lr2skinhelp.html</span></a> (<time itemprop="update" datetime="2013-09-29">2013-09-29</time>) (as reference data)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>caution:</p>
  <ul>
   <li>This is not what translated specifications. This is only my memo.</li>
   <li>I used on-line translation service 100%.</li>
   <li>Since I cannot understand English, I cannot judge whether the result of automatic translation is right.</li>
   <li>The contents may lead to misunderstandings because the translation could be a bit off.</li>
   <li>Moreover, my research may not be exact.
    (Of course, I strove not to write a mistake. But I cannot guarantee that the contents are right. )</li>
   <li>From the above reason, I do not bear responsibility to this document. <span class="chameleonic">Please forgive me.</span></li>
   <li>If you have any further questions, please feel free to contact me. If an error is pointed out, I am glad and will correct.</li>
   <!-- (li)(img src="cmd/blackline.png" alt="line" width="100" height="2" class="vam" /)
    If the black line is not displayed on this head of the sentence,
    (a title="When can I use Data URLs?" class="external" rel="external" hreflang="en"
     href="https://caniuse.com/datauri")your browser cannot display the image on this document.(/a)(/li) -->
   <li class="css3able">Font test:
    <a href="#SEGOE-UI">Segoe UI</a>,
    <a href="#HELVETICA">Helvetica</a>,
    <a href="#HELVETICA-NEUE">Helvetica Neue</a>,
    <a href="#VERDANA">Verdana</a>,
    <a href="#LUCIDA-SANS-UNICODE">Lucida Sans Unicode</a>,
    <a href="#LUCIDA">Lucida</a>,
    <a href="#ARIAL">Arial</a>,</li>
  </ul></li>
 <li><p>update history:</p>
  <ul id="LOG">
   <li><time itemprop="update" datetime="2014-07-11">2014-07-11</time>: DTXCreator 026
    / I added a postscript about apps which supports <code><a href="#VOLWAV">#VOLWAV</a></code>.</li>
   <li><time itemprop="update" datetime="2014-07-08">2014-07-08</time>: Sonorous 0.1.0-pre (2014-07-08)</li>
   <li><time itemprop="update" datetime="2014-06-29">2014-06-29</time>: HDX v1.05</li>
   <li><time itemprop="update" datetime="2014-06-13">2014-06-13</time>: BGAEncAdv v0.034</li>
   <li><time itemprop="update" datetime="2014-06-10">2014-06-10</time>: BGAEncAdv v0.033 / Suspended TechnicalGroove</li>
   <li><time itemprop="update" datetime="2014-06-08">2014-06-08</time>: HDX v1.04</li>
   <li><time itemprop="update" datetime="2014-06-06">2014-06-06</time>: Mid2BMS / lr2_pmsview_helper</li>
   <li><time itemprop="update" datetime="2014-05-25">2014-05-25</time>: PMSee-V v2.2.2</li>
   <li><time itemprop="update" datetime="2014-05-12">2014-05-12</time>: HDX v1.03</li>
   <li><time itemprop="update" datetime="2014-04-19">2014-04-19</time>: Feeling Pomu 2nd had <code><a href="#BGAXX">#BGA</a></code>, <code><a href="#POORBGA">#POORBGA</a></code>, <code>#xxx0A</code> (LAYER2)</li>
   <li><time itemprop="update" datetime="2014-04-17">2014-04-17</time>: Angolmois Rust Edition (<time datetime="2014-04-18T04:53:30">2014-04-08</time>) / nanasigroove2 beta (Toy Musical 3 Ver.2.2) / PMSee-V v2.2.1′</li>
   <li><time itemprop="update" datetime="2014-02-27">2014-02-27</time>: <a href="exbpm-object.htm">Extended BPM</a> / <a href="exstop.htm">STOP Sequence</a></li>
   <li><time itemprop="update" datetime="2014-02-10">2014-02-10</time>: Further retouch to <a href="#RLE">RLE</a> (<a href="bmpfmt.htm">bmpfmt.htm</a>)
    / I added about <a href="#ADD-2014-02-10">big-video</a></li>
   <li><time itemprop="update" datetime="2014-02-07">2014-02-07</time>: I found downloadable MacBeat.</li>
   <li><time itemprop="update" datetime="2014-02-04">2014-02-04</time>: I corrected the following items: <a href="#RLE">RLE</a>
    / <a href="#DIFFICULTY-GROUPING-BY-FILENAME">grouping&nbsp;by&nbsp;filename</a> (<code>*.lr</code>)
    / <a href="#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;compatibility</a> (bemaniaDX)</li>
   <li><time itemprop="update" datetime="2014-02-02">2014-02-02</time>: [old] mainori-se.sakura.ne.jp/dtxmania/ -&gt; [new] dtxmania.net/</li>
   <li><time itemprop="update" datetime="2014-01-31">2014-01-31</time>: Angolmois Rust Edition (2014-01-26) / Sonorous 0.1.0-pre (2014-01-31)</li>
   <li><time itemprop="update" datetime="2014-01-04">2014-01-04</time>: HDX v1.02</li>
   <li><time itemprop="update" datetime="2013-12-28">2013-12-28</time>: HDX v1.01 / bms diff tool</li>
   <li><time itemprop="update" datetime="2013-12-06">2013-12-06</time>: Fixed link rot (BMS Viewer, in_bm) / LR2SkinHELP</li>
   <li><time itemprop="update" datetime="2013-11-18">2013-11-18</time>: Sonorous 0.1.0-pre (2013-11-18)</li>
   <li><time itemprop="update" datetime="2013-11-17">2013-11-17</time>: Sonorous 0.1.0-pre (2013-11-13) / iBMSC 3.0.5</li>
   <li><time itemprop="update" datetime="2013-10-18">2013-10-18</time>: Sonorous 0.1.0-pre (2013-10-13)
    / <a href="#SUBTITLES">multi&nbsp;<code>#SUBTITLE</code></a>
    / <a href="#COMMENTS">multi&nbsp;<code>#COMMENT</code></a></li>
   <li><time itemprop="update" datetime="2013-10-11">2013-10-11</time>: Sonorous 0.1.0-pre (2013-10-09)</li>
   <li><time itemprop="update" datetime="2013-10-07">2013-10-07</time>:
    I added the TechnicalGroove column in <code><a href="#DEFEXRANK">#DEFEXRANK&nbsp;<var>n</var></a></code>.
    / I had overlooked PMSee-V v2.1.5a (<time datetime="2013-07-15">2013-07-15</time>) (sorry... sorry...)</li>
   <li><time itemprop="update" datetime="2013-10-06">2013-10-06</time>: I added about <a href="#VIDEO-REWINDING">video rewinding</a>.</li>
   <li><time itemprop="update" datetime="2013-09-23">2013-09-23</time>: Be-Music Helper (beta 4′) / woslicerIII (2013-09-22)</li>
   <li><time itemprop="update" datetime="2013-09-18">2013-09-18</time>: Be-Music Helper (beta 4) / Sonorous 0.1.0-pre (2013-09-17)
    / Listing of all the values of <code><a href="#OPTION">#OPTION</a></code> (<a href="option.htm">option.htm</a>)</li>
   <li><time itemprop="update" datetime="2013-08-20">2013-08-20</time>:
    Angolmois 2.0 e5cea53a2cbd (SDL 2.0.*) (fixed: <a href="#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;compatibility</a>)</li>
   <li><time itemprop="update" datetime="2013-08-03">2013-08-03</time>:
    <code><a href="#DEFEXRANK-0">#DEFEXRANK&nbsp;0</a></code>
    / <a href="#DIFFICULTY-GROUPING-BY-SUBTITLE">grouping&nbsp;by&nbsp;subtitle</a>
    / <a href="#SUBARTISTS">multi&nbsp;<code>#SUBARTIST</code></a>
    / <a href="#FRACTIONAL-STOP">fractional&nbsp;<code>#STOP</code></a>
    / <a href="#KEYUP-SOUNDING-AT-LNOBJ">multi&nbsp;<code>#LNOBJ</code></a>
    / <a href="#ABOUT-THE-COMPATIBILITY-OF-BGAXX"><code>#BGA</code>&nbsp;compatibility</a></li>
   <li><time itemprop="update" datetime="2013-08-03">2013-08-03</time>:
    [old] bit.sparcs.org/%7Etokigun/article/bmsguide.php -&gt; [new] cosmic.mearie.org/2005/03/bmsguide/</li>
   <li><time itemprop="update" datetime="2013-08-03">2013-08-03</time>: HDX v1.00 / Sonorous 0.1.0-pre / BGAEncAdv v0.032 / TechnicalGroove</li>
   <li><time itemprop="update" datetime="2013-07-11">2013-07-11</time>:
    I realized that HDX and IIDXv was supporting “<a href="#SPREAD-CANVAS">spread canvas</a>”.</li>
   <li><time itemprop="update" datetime="2013-07-09">2013-07-09</time>:
    I realized that <a href="#INDENT-STYLE">Indenting</a> of HDX/IIDXv is enhanced. (U+3000)</li>
   <li><time itemprop="update" datetime="2013-07-07">2013-07-07</time>:
    I added <code><u class="DBCS">＃</u>ENDIF</code> (U+FF03) into “<a href="#EXAMPLES-OF-MISTAKES">Examples of Mistakes</a>”.</li>
   <li><time itemprop="update" datetime="2013-07-03">2013-07-03</time>: uBMplay 1.5.2
    / fixed about “<a href="#SPREAD-CANVAS">spread canvas</a>” (added BM98)</li>
   <li><time itemprop="update" datetime="2013-07-02">2013-07-02</time>: I added uBMplay into <code><a href="#PATH-WAV">#PATH_WAV</a></code>.</li>
   <li><time itemprop="update" datetime="2013-07-01">2013-07-01</time>: uBMplay 1.5.1
    / I corrected URI of woslicerII. (remove “soft/index.html”)
    / uBMplay 1.5.0 knew <code><a href="#OCT-FP">#OCT/FP</a></code></li>
   <li><time itemprop="update" datetime="2013-06-17">2013-06-17</time>: I added BmDx and changed the abbreviated name of bemaniaDX.</li>
   <li><time itemprop="update" datetime="2013-05-31">2013-05-31</time>: Angolmois Rust Edition</li>
   <li><time itemprop="update" datetime="2013-05-25">2013-05-25</time>: woslicerIII
    / fixed about “<a href="#SPREAD-CANVAS">spread canvas</a>”</li>
   <li><time itemprop="update" datetime="2013-05-16">2013-05-16</time>: <code>&lt;hgroup&gt;</code> is gone</li>
   <li><time itemprop="update" datetime="2013-05-12">2013-05-12</time>: IIDXv 2.14, PMSee-V 2.1.3a</li>
   <li><time itemprop="update" datetime="2013-05-07">2013-05-07</time>: HDX 0.99 / <code><a href="#M999L1">#99902:1</a></code>
    / multiple <code><a href="#CHANGEOPTIONXX">#xxxA6</a></code>
    / fixed a mistake about default value of <code><a href="#RANK">#RANK&nbsp;<var>n</var></a></code></li>
   <li><time itemprop="update" datetime="2013-04-12">2013-04-12</time>: PMSee-V 2.1.3</li>
   <li><time itemprop="update" datetime="2013-04-01">2013-04-01</time>: uBMplay 1.5.0</li>
   <li><time itemprop="update" datetime="2013-03-16">2013-03-16</time>: Angolmois 2.0 77ce3b6e2761
    / I corrected the item of <code><a href="#EXTCHR">#ExtChr</a></code>.</li>
   <li><time itemprop="update" datetime="2013-03-12">2013-03-12</time>: Angolmois 2.0 798422870970
    (fixed: <code><a href="#LNTYPE-2">#LNTYPE&nbsp;2</a></code>)</li>
   <li><time itemprop="update" datetime="2013-02-09">2013-02-09</time>: Angolmois 2.0 alpha 2 9880e98d15f8</li>
   <li><time itemprop="update" datetime="2013-01-18">2013-01-18</time>: Angolmois got alpha-blending</li>
   <li><time itemprop="update" datetime="2013-01-17">2013-01-17</time>:
    I added the reference about the escape of a character string into “<a href="#COMMENT-SYNTAX">Comment syntax</a>”.</li>
   <li><time itemprop="update" datetime="2013-01-17">2013-01-17</time>:
    HDX 0.98, PMSee-V 2.1.2, nanasi2 1.0, IIDXv 2.13, PMChr-V 4.0.2, Angolmois 2.0 alpha 2 pre</li>
   <li><time itemprop="update" datetime="2012-10-13">2012-10-13</time>: HDX 0.97, PMSee-V 2.0.2, nanasi2 0.4, fixed some broken links</li>
   <li><time itemprop="update" datetime="2012-09-14">2012-09-14</time>: HDX 0.96, PMSee-V 2.0.1a, PMChr-V 4.0.0</li>
   <li><time itemprop="update" datetime="2012-08-09">2012-08-09</time>: nanasi2 0.3</li>
   <li><time itemprop="update" datetime="2012-08-08">2012-08-08</time>: iBMSC 3.0.4</li>
   <li><time itemprop="update" datetime="2012-08-06">2012-08-06</time>: HDX 0.94, iBMSC 3.0.3 /
    I added BMSV and nBMplay into “<a href="#FREE-ZONE">FREE ZONE</a>”.</li>
   <li><time itemprop="update" datetime="2012-07-03">2012-07-03</time>: HDX 0.93</li>
   <li><time itemprop="update" datetime="2012-06-30">2012-06-30</time>: PMSV 1.10.5, nanasi2 0.2, IIDXv 2.12, HDX 0.92,
    <code><a href="#ELSEIF">#ELSEIF</a></code>,
    <a href="#INDENT-STYLE">Indent style</a>,
    <a href="#COMMENT-SYNTAX">Comment syntax</a>,
    <a href="#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">Keyup-sounding</a></li>
   <li><time itemprop="update" datetime="2012-04-27">2012-04-27</time>: PMSV 1.10.4, PMCV 3.1.0, nanasi2 0.1, SMB 1.03</li>
   <li><time itemprop="update" datetime="2012-03-25">2012-03-25</time>: ruv-it! 2.0 b5p7 test #7</li>
   <li><time itemprop="update" datetime="2012-03-18">2012-03-18</time>: Be-Music Helper (beta 3)</li>
   <li><time itemprop="update" datetime="2012-02-10">2012-02-10</time>:
    I fixed a lot of bugs about HTML of this document.
    <a href="http://validator.w3.org/check?uri=http%3A%2F%2Fhitkey.nekokan.dyndns.info%2Fcmds.htm" hreflang="en" rel="external" title="W3C Markup Validator"><img src="content/valid-html5.png" alt="Valid HTML5" width="80" height="15" class="vam"></a>&nbsp;<a href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fhitkey.nekokan.dyndns.info%2Fcmds.htm&amp;profile=css3&amp;warning=2" rel="external" title="W3C CSS Validation Service"><img src="content/valid-css3.png" alt="Valid CSS3" width="80" height="15" class="vam"></a></li>
   <li><time itemprop="update" datetime="2012-01-28">2012-01-28</time>:
    I corrected the item of <code><a href="#TOTAL">#TOTAL</a></code>. (thanks to kisama)</li>
   <li><time itemprop="update" datetime="2012-01-23">2012-01-23</time>:
    I forgot to reflect update of iBMSC 3.0. I added about that.</li>
   <li><time itemprop="update" datetime="2012-01-16">2012-01-16</time>:
    I set the permalink to all the headings, and also added some items.</li>
   <li><time itemprop="update" datetime="2012-01-15">2012-01-15</time>:
    I updated this document. Since there were too many corrected parts, I cannot remember them.</li>
   <li><time itemprop="update" datetime="2011-10-24">2011-10-24</time>:
    I <a href="cmdsJP.htm" title="BMS command memo (JP)" hreflang="ja">Japanized</a> this document. My gestalt collapsed.</li>
   <li><time itemprop="update" datetime="2011-10-16">2011-10-16</time>:
    I HTMLized this document. File size swelled up fourfold.</li>
   <li><time itemprop="update" datetime="2011-09-21">2011-09-21</time>:
    I finished writing this document. I merely wrapped the plain text in the &lt;pre&gt; tag only.</li>
   <li><time itemprop="update" datetime="2011-09-12">2011-09-12</time>:
    I became feeling of writing this document. I began to write.</li>
  </ul></li>
</ul>
<hr>
</header>

<nav id="TOC">
 <h2><abbr title="Table Of Contents"><a href="#TOC">TOC</a></abbr></h2>
 <ul>
  <li><a href="#BMS-APPS">BMS&nbsp;apps</a></li>
  <li><p><a href="#MEMO-ABOUT-BMS-FORMAT-SPECIFICATION">Memo&nbsp;about&nbsp;<cite>BMS&nbsp;Format&nbsp;Specification</cite></a></p>
   <ul>
    <li><a href="#ABOUT-THE-MINIMUM-REQUIREMENTS-WHICH-SPECIFICATION-INDICATES">About&nbsp;the&nbsp;minimum&nbsp;requirements&nbsp;which&nbsp;specification&nbsp;indicates:</a></li>
    <li><a href="#ABOUT-DETAILED-IMPLEMENTING-WHICH-SPECIFICATION-DOES-NOT-INDICATE">About&nbsp;detailed&nbsp;implementing&nbsp;which&nbsp;specification&nbsp;does&nbsp;not&nbsp;indicate:</a></li>
    <li><a href="#BEHAVIOR-IN-GENERAL-IMPLEMENTATION">Behavior&nbsp;in&nbsp;general&nbsp;implementation:</a></li>
   </ul></li>
  <li class="inlinize"><p><a href="#ABOUT-FILENAME-EXTENSIONS-OF-MUSICAL-SCORE-FILE-OF-BMS-FORMAT">About&nbsp;filename&nbsp;extensions&nbsp;of&nbsp;musical&nbsp;score&nbsp;file&nbsp;of&nbsp;BMS&nbsp;Format</a></p>
   <ul>
    <li><a href="#OUTLINE">Outline:</a></li>
    <li><a href="#BMS">BMS:</a></li>
    <li><a href="#BME">BME:</a></li>
    <li><a href="#BML">BML:</a></li>
    <li><a href="#PMS">PMS:</a></li>
   </ul></li>
  <li><p><a href="#TRENDS-IN-USE-OF-COMMANDS">Trends&nbsp;in&nbsp;use&nbsp;of&nbsp;commands</a></p>
   <ul>
    <li><a href="#MAJOR-EXTENDED-COMMAND">major&nbsp;extended&nbsp;command:</a></li>
    <li><a href="#EXTENDED-COMMAND-USED-OCCASIONALLY">extended&nbsp;command&nbsp;used&nbsp;occasionally:</a></li>
    <li><a href="#EXTENDED-COMMAND-USEFUL-AT-TEST-PLAY">extended&nbsp;command&nbsp;useful&nbsp;at&nbsp;test&nbsp;play:</a></li>
   </ul></li>
  <li class="inlinize"><p><a href="#HEADER">&lt;HEADER&gt;</a></p>
   <ul>
    <li><a href="#PLAYER">#PLAYER</a></li>
    <li><p><a href="#RANK">#RANK</a></p>
     <ul>
      <li><a href="#RANK-4">#RANK&nbsp;4</a></li>
      <li><a href="#RANK-RELATIVE">Relative&nbsp;#RANK</a></li>
     </ul></li>
    <li><p><a href="#DEFEXRANK">#DEFEXRANK</a></p>
     <ul>
      <li><a href="#DEFEXRANK-0">#DEFEXRANK&nbsp;0</a></li>
     </ul></li>
    <li><a href="#EXRANKXX">#EXRANKxx</a></li>
    <li><a href="#TOTAL">#TOTAL</a></li>
    <li><p><a href="#VOLWAV">#VOLWAV</a></p>
     <ul>
      <li><a href="#CHANGING-BGM-VOLUME">changing&nbsp;BGM&nbsp;volume</a></li>
      <li><a href="#CHANGING-KEY-VOLUME">changing&nbsp;KEY&nbsp;volume</a></li>
     </ul></li>
    <li><a href="#STAGEFILE">#STAGEFILE</a></li>
    <li><a href="#BANNER">#BANNER</a></li>
    <li><a href="#BACKBMP">#BACKBMP</a></li>
    <li><a href="#CHARFILE">#CHARFILE</a></li>
    <li><p><a href="#PLAYLEVEL">#PLAYLEVEL</a></p>
     <ul>
      <li><a href="#PLAYLEVEL-0">#PLAYLEVEL&nbsp;0</a></li>
      <li><a href="#PLAYLEVEL-STRING">#PLAYLEVEL&nbsp;string</a></li>
     </ul></li>
    <li><p><a href="#DIFFICULTY">#DIFFICULTY</a></p>
     <ul>
      <li><a href="#DIFFICULTY-GROUPING-BY-FILENAME">grouping&nbsp;by&nbsp;filename</a></li>
      <li><a href="#DIFFICULTY-GROUPING-BY-SUBTITLE">grouping&nbsp;by&nbsp;subtitle</a></li>
     </ul></li>
    <li><p><a href="#TITLE">#TITLE</a></p>
     <ul>
      <li><a href="#TITLE-IMPLICIT-SUBSTRING">implicit&nbsp;substring&nbsp;(#TITLE)</a></li>
      <li><a href="#TITLE-IMPLICIT-SUBTITLE">implicit&nbsp;subtitle</a></li>
     </ul></li>
    <li><p><a href="#SUBTITLE">#SUBTITLE</a></p>
     <ul>
      <li><a href="#SUBTITLES">Multiplex&nbsp;#SUBTITLEs</a></li>
     </ul></li>
    <li><a href="#ARTIST">#ARTIST</a></li>
    <li><p><a href="#SUBARTIST">#SUBARTIST</a></p>
     <ul>
      <li><a href="#SUBARTISTS">Multiplex&nbsp;#SUBARTISTs</a></li>
     </ul></li>
    <li><a href="#MAKER">#MAKER</a></li>
    <li><p><a href="#GENRE">#GENRE</a></p>
     <ul>
      <li><a href="#GENLE">#GENLE</a></li>
      <li><a href="#GENRE-IMPLICIT-SUBSTRING">implicit&nbsp;substring&nbsp;(#GENRE)</a></li>
     </ul></li>
    <li><p><a href="#COMMENT">#COMMENT</a></p>
     <ul>
      <li><a href="#COMMENTS">Multiplex&nbsp;#COMMENTs</a></li>
     </ul></li>
    <li><a href="#TEXTXX">#TEXTxx</a></li>
    <li><a href="#SONGXX">#SONGxx</a></li>
    <li><a href="#LANDMINE">landmine</a></li>
    <li><a href="#PATH-WAV">#PATH_WAV</a></li>
    <li><p><a href="#BPM">#BPM</a></p>
     <ul>
      <li><a href="#CHANGING-BPM-BASIC-FORMAT">changing&nbsp;BPM&nbsp;(basic&nbsp;format)</a></li>
     </ul></li>
    <li><a href="#BPMXX">#BPMxx</a></li>
    <li><a href="#EXBPMXX">#EXBPMxx</a></li>
    <li><a href="#BASEBPM">#BASEBPM</a></li>
    <li><a href="#STOPXX">#STOPxx</a></li>
    <li><a href="#STP">#STP</a></li>
    <li><p><a href="#LNTYPE-1">#LNTYPE&nbsp;1</a></p>
     <ul>
      <li><a href="#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">Keyup&nbsp;sounding&nbsp;at&nbsp;endpoint&nbsp;of&nbsp;LN&nbsp;(#LNTYPE&nbsp;1)</a></li>
     </ul></li>
    <li><a href="#LNTYPE-2">#LNTYPE&nbsp;2</a></li>
    <li><p><a href="#LNOBJ">#LNOBJ</a></p>
     <ul>
      <li><a href="#KEYUP-SOUNDING-AT-LNOBJ">Keyup&nbsp;sounding&nbsp;at&nbsp;endpoint&nbsp;of&nbsp;LN&nbsp;(#LNOBJ)</a></li>
     </ul></li>
    <li><a href="#OCT-FP">#OCT/FP</a></li>
    <li><a href="#OPTION">#OPTION</a></li>
    <li><a href="#CHANGEOPTIONXX">#CHANGEOPTIONxx</a></li>
    <li><p><a href="#WAVXX">#WAVxx</a></p>
     <ul>
      <li><a href="#WAVXX-MULTIPLEX-DEFINITION">Multiplex&nbsp;definition</a></li>
      <li><a href="#WAVXX-ABOUT-WAV">about&nbsp;WAV:</a></li>
      <li><a href="#WAVXX-ABOUT-OGG">about&nbsp;OGG:</a></li>
      <li><a href="#WAVXX-ABOUT-MINOR-FORMATS">about&nbsp;minor&nbsp;formats:</a></li>
      <li><a href="#WAVXX-ALTERNATIVE-SEARCH">Alternative&nbsp;Search:</a></li>
      <li><a href="#WAVXX-EMPHASIZING">Emphasizing:</a></li>
     </ul></li>
    <li><a href="#WAVCMD">#WAVCMD</a></li>
    <li><a href="#EXWAVXX">#EXWAVxx</a></li>
    <li><a href="#CDDA">#CDDA</a></li>
    <li><a href="#MIDIFILE">#MIDIFILE</a></li>
    <li><p><a href="#BMPXX">#BMPxx</a></p>
     <ul>
      <li><a href="#BMPXX-DARKENING-BY-EMPTY-BMP">Darkening&nbsp;by&nbsp;empty&nbsp;#BMP</a></li>
      <li><a href="#BMPXX-LAYER">LAYER</a></li>
      <li><a href="#BMPXX-ADJUSTMENT">Adjustment</a></li>
      <li><a href="#BMPXX-IMAGE-FILE-FORMATS">Image&nbsp;file&nbsp;formats</a></li>
      <li><a href="#BMPXX-VIDEO-FILE-DEFINING-TO-BMP">Video&nbsp;file&nbsp;defining&nbsp;to&nbsp;#BMP</a></li>
     </ul></li>
    <li><a href="#EXBMPXX">#EXBMPxx</a></li>
    <li><p><a href="#BGAXX">#BGAxx</a></p>
     <ul>
      <li><a href="#ABOUT-THE-COMPATIBILITY-OF-BGAXX">About&nbsp;the&nbsp;compatibility&nbsp;of&nbsp;#BGA</a></li>
     </ul></li>
    <li><a href="#ATBGAXX">#@BGAxx</a></li>
    <li><a href="#POORBGA">#POORBGA</a></li>
    <li><a href="#SWBGAXX">#SWBGAxx</a></li>
    <li><a href="#ARGBXX">#ARGBxx</a></li>
    <li><a href="#VIDEOFILE">#VIDEOFILE</a></li>
    <li><a href="#VIDEOFPS">#VIDEOf/s</a></li>
    <li><a href="#VIDEOCOLORS">#VIDEOCOLORS</a></li>
    <li><a href="#VIDEODLY">#VIDEODLY</a></li>
    <li><a href="#MOVIE">#MOVIE</a></li>
    <li><a href="#SEEKXX">#SEEKxx</a></li>
    <li><a href="#EXTCHR">#ExtChr</a></li>
    <li><a href="#MATERIALS">MATERIALS</a></li>
    <li><a href="#MATERIALSWAV">#MATERIALSWAV</a></li>
    <li><a href="#MATERIALSBMP">#MATERIALSBMP</a></li>
    <li><a href="#DIVIDEPROP">#DIVIDEPROP</a></li>
    <li><p><a href="#CHARSET">#CHARSET</a></p>
     <ul>
      <li><a href="#CHARSET-SUPPORT-FOR-UNICODE">Support&nbsp;for&nbsp;Unicode</a></li>
     </ul></li>
    <li><a href="#P-URL">%URL</a></li>
    <li><a href="#P-EMAIL">%EMAIL</a></li>
   </ul></li>
  <li><p><a href="#CONTROL-FLOW">&lt;CONTROL&nbsp;FLOW&gt;</a></p>
   <ul>
    <li class="inlinize"><p><a href="#RANDOM">#RANDOM</a></p>
     <ul>
      <li><a href="#IF">#IF</a></li>
      <li><a href="#ELSEIF">#ELSEIF</a></li>
      <li><a href="#ELSE">#ELSE</a></li>
      <li><p><a href="#ENDIF">#ENDIF</a></p>
       <ul>
        <li><a href="#RONDAM">#RONDAM</a></li>
        <li><a href="#END-IF">#END&nbsp;IF</a></li>
        <li><a href="#EXAMPLES-OF-MISTAKES">EXAMPLES-OF-MISTAKES</a></li>
       </ul></li>
      <li><a href="#SETRANDOM">#SETRANDOM</a></li>
      <li><a href="#ENDRANDOM">#ENDRANDOM</a></li>
     </ul></li>
    <li class="inlinize"><p><a href="#SWITCH">#SWITCH</a></p>
     <ul>
      <li><a href="#CASE">#CASE</a></li>
      <li><a href="#SKIP">#SKIP</a></li>
      <li><a href="#DEF">#DEF</a></li>
      <li><a href="#SETSWITCH">#SETSWITCH</a></li>
      <li><a href="#ENDSW">#ENDSW</a></li>
     </ul></li>
    <li><a href="#INDENT-STYLE">Indent&nbsp;style</a></li>
    <li><a href="#COMMENT-SYNTAX">Comment&nbsp;syntax</a></li>
   </ul></li>
  <li><p><a href="#CHANNEL">&lt;CHANNEL&gt;</a></p>
   <ul>
    <li><a href="#CHANNEL-MAPPING-TABLE">Channel&nbsp;Mapping&nbsp;Table</a></li>
    <li><a href="#KEYMAP-TABLE">KEYMAP&nbsp;Table</a></li>
   </ul></li>
 </ul>
 <hr>
</nav>


<article id="BMS-APPS" itemscope="itemscope">
<h2><a href="#BMS-APPS">BMS&nbsp;apps:</a></h2>

<p>The abbreviation which this document uses for convenience is as follows. (It may differ from a formal abbreviation. )</p>
<table>
 <thead>
  <tr>
   <th scope="col">The name and version</th>
   <th scope="col"><abbr title="abbreviation">Abbr</abbr></th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Body (obsolete):</th>
  </tr>
  <tr>
   <td>BM98 &amp; BM98 kikuchan version 330 revision 42</td>
   <td>BM98</td>
   <td><!-- (a href="http://www2.pf-x.net/%7Ebforb/hard2.html"
     title="&#x672C;&#x4F53;&#x306E;&#x5165;&#x624B; - BM98 for the BEGINNER" class="external" rel="external" hreflang="ja"
    )(span itemprop="url">http://www2.pf-x.net/~bforb/hard2.html (/span)(/a) --><a href="https://hitkey.nekokan.dyndns.info/bm98.htm" title="BM98 Kikuchan Version 3.30 Revision #4.2" hreflang="en"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bm98.htm</span></a></td>
  </tr>
  <tr>
   <td>BM98 Kikuchan Version 3.32β Drink Edition</td>
   <td>BM98de</td>
   <td><a href="http://www.uranus.dti.ne.jp/~kikuchan/bm98/" title="きくちゃんのページ 2nd - BM98" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.uranus.dti.ne.jp/~kikuchan/bm98/</span></a></td>
  </tr>
  <tr>
   <td>music game quest ver2.18</td>
   <td>MGQ</td>
   <td><a href="https://web.archive.org/web/*/http://www.geocities.co.jp/Playtown/4702/*" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://www.geocities.co.jp/Playtown/4702/*</span></a></td>
  </tr>
  <tr>
   <td>Delight Delight Reduplication Ver.0.50 beta5</td>
   <td>DDR</td>
   <td><a href="https://delight.airytail.co/download.html" title="Download - Delight Delight Reduplication Support Page" class="external" rel="external" hreflang="ja"><span itemprop="url">https://delight.airytail.co/download.html</span></a></td>
  </tr>
  <tr>
   <td>rhythm-it 1.72a</td>
   <td>RDM</td>
   <td><a href="https://nvyu.net/rdm/download3.php" title="ruv-it! | support page" class="external" rel="external" hreflang="ko"><span itemprop="url">https://nvyu.net/rdm/download3.php</span></a></td>
  </tr>
  <tr>
   <td>Mixwaver 1.6 Final &amp; MixWaver][ 1.2</td>
   <td>MW</td>
   <td><a href="http://mixwaver.s18.xrea.com/html/dl_mw.html" title="Download - MixWaver Official Support Page" class="external" rel="external" hreflang="ja"><span itemprop="url">http://mixwaver.s18.xrea.com/html/dl_mw.html</span></a></td>
  </tr>
  <tr>
   <td>BmDx Millennium Edition M6 (<a href="https://web.archive.org/web/*/http://www.interq.or.jp/ski/sakura/BmDxA.html" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja">old document</a>)</td>
   <td>BmDx</td>
   <td><a href="https://web.archive.org/web/*/http://www.interq.or.jp/ski/sakura/otoge/otoge_bmdx.html" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://www.interq.or.jp/ski/sakura/otoge/otoge_bmdx.html</span></a></td>
  </tr>
  <tr>
   <td>bemaniaDX Vision.3 APPEND Vision.4 Skin version 0.95</td>
   <td>bemaniaDX</td>
   <td><a href="https://web.archive.org/web/20070518162219/http://bemaniadx.s3.xrea.com/download.html" title="■ bemaniaDX Download Site ■" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/20070518162219/http://bemaniadx.s3.xrea.com/download.html</span></a></td>
  </tr>
  <tr>
   <td>unofficial nazobmplay rev.798</td>
   <td>nazo</td>
   <td><a href="http://manbow.nothing.sh/nazobmplay/download.html" title="nazoBMplay 非公式ダウンロードサイト" class="external" rel="external" hreflang="ja"><span itemprop="url">http://manbow.nothing.sh/nazobmplay/download.html</span></a></td>
  </tr>
  <tr>
   <td>unofficial nazobmplay rev.798 + Glasopal <time datetime="2008-03-13">20080313</time></td>
   <td>nazoZZ</td>
   <td><!-- (a href="http://cherry.webdos.net/%7Ebmsm/mirror/glasopal.html"
     title="Glasopal &#x30DF;&#x30E9;&#x30FC;&#x30DA;&#x30FC;&#x30B8;" class="external" rel="external" hreflang="ja"
    )(span itemprop="url")http://cherry.webdos.net/~bmsm/mirror/glasopal.html (/span)(/a) --><a href="https://hitkey.nekokan.dyndns.info/glasopal.html" title="Glasopal ミラーページ" hreflang="ja"><span itemprop="url">https://hitkey.nekokan.dyndns.info/glasopal.html</span></a></td>
  </tr>
  <tr>
   <td>BM2DXEmu a20</td>
   <td>DXEmu</td>
   <td><a href="http://www.charatsoft.com/software/bm2dxemu/index.html" title="■CharatSoft.com » SOFTWARE » BM2DXEmu α" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.charatsoft.com/software/bm2dxemu/index.html</span></a></td>
  </tr>
  <tr>
   <td>MacBeat 0.9.8.3</td>
   <td>Mac</td>
   <td><!-- a href="https://web.archive.org/web/*/http://harinezumi.s14.xrea.com/MacBeat0983.sit.bin"
     title="Internet Archive Wayback Machine" class="external" rel="external nofollow"
    --><span itemprop="url" class="u external">http://harinezumi.s14.xrea.com/download/MacBeat0983.sit.bin</span><!-- /a --></td>
  </tr>
  <tr>
   <td>Aqua'n Beats 1.0.3</td>
   <td>Aqua</td>
   <td><a href="http://aquan-beats.matrix.jp/" title="Aqua&#39;nBeats" class="external" rel="external" hreflang="ja"><span itemprop="url">http://aquan-beats.matrix.jp/</span></a></td>
  </tr>
  <tr>
   <td>nanasigroove ver.1.552</td>
   <td>nanasi</td>
   <td><a href="http://d11x.sakura.ne.jp/asdf/?p=13" title="ナナシグルーヴ » A.S.D.F." class="external" rel="external" hreflang="ja"><span itemprop="url">http://d11x.sakura.ne.jp/asdf/?p=13</span></a></td>
  </tr>
  <tr>
   <td>forgetalia++ (<time datetime="2009-04-15">2009-04-15</time>)</td>
   <td>fgt++</td>
   <td><span itemprop="url" class="u external">http://cerebralmuddystream.hp.infoseek.co.jp/forgetalia++/index.html</span> (closed)</td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Body (current):</th>
  </tr>
  <tr>
   <td>LunaticRave2 <time datetime="2010-02-01">100201</time></td>
   <td>LR2</td>
   <td><a href="https://web.archive.org/web/20110210225009/http://www.lr2.sakura.ne.jp/index2.html" title="縮小運営中" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/20110210225009/http://www.lr2.sakura.ne.jp/index2.html</span></a>
     (for now, the de facto standard in Japan)</td>
  </tr>
  <tr>
   <td>ruv-it! 2.0 b5p7 test #7 (<time datetime="2012-03-19">2012-03-19</time>)</td>
   <td>ruvit</td>
   <td><a href="https://nvyu.net/rdm/" title="ruv-it! | support page" class="external" rel="external" hreflang="ko"><span itemprop="url">https://nvyu.net/rdm/</span></a> (for now, the de facto standard in South Korea)</td>
  </tr>
  <tr>
   <td>nanasigroove2 beta (Toy Musical 3 Ver.2.2)</td>
   <td>nanasi2</td>
   <td><a href="http://d11x.sakura.ne.jp/asdf/" title="A.S.D.F" class="external" rel="external" hreflang="ja"><span itemprop="url">http://d11x.sakura.ne.jp/asdf/</span></a></td>
  </tr>
  <tr>
   <td>forgetalia# (<time datetime="2011-04-16">2011-04-16</time>)</td>
   <td>fgt#</td>
   <td><span itemprop="url" class="u external">https://cerebralmuddystream.nekokan.dyndns.info/soft/forgetalia_sp.zip</span></td>
  </tr>
  <tr>
   <td>Feeling Pomu Second Ver 0.8001</td>
   <td>pomu2</td>
   <td><a href="https://pmcc.nekokan.dyndns.info/pmcc2/download.html" title="Colorful Channel official website ++ download" class="external" rel="external" hreflang="ja"><span itemprop="url">https://pmcc.nekokan.dyndns.info/pmcc2/download.html</span></a></td>
  </tr>
  <tr>
   <td>charatbeatHDX VIOLET (v1.05)</td>
   <td>HDX</td>
   <td><a href="http://www.charatsoft.com/software/charatbeatHDX/index.html" title="■CharatSoft.com » SOFTWARE » charatbeatHDX VAIOLET" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.charatsoft.com/software/charatbeatHDX/index.html</span></a></td>
  </tr>
  <tr>
   <td>Angolmois 2.0 e5cea53a2cbd</td>
   <td>Angolmois</td>
   <td><a href="https://mearie.org/projects/angolmois/" title="Angolmois | mearie.org Projects" class="external" rel="external" hreflang="en"><span itemprop="url">https://mearie.org/projects/angolmois/</span></a></td>
  </tr>
  <tr>
   <td>Angolmois Rust Edition (<time datetime="2014-04-18T04:53:30">2014-04-08</time>)</td>
   <td>Angolmois</td>
   <td><a href="https://github.com/lifthrasiir/angolmois-rust" title="lifthrasiir/angolmois-rust · GitHub" class="external" rel="external" hreflang="en"><span itemprop="url">https://github.com/lifthrasiir/angolmois-rust</span></a></td>
  </tr>
  <tr>
   <td>Sonorous 0.1.0-pre (<time datetime="2014-07-08">2014-07-08</time>)</td>
   <td>Sonorous</td>
   <td><a href="https://cosmic.mearie.org/f/sonorous/" title="Sonorous" class="external" rel="external" hreflang="en"><span itemprop="url">https://cosmic.mearie.org/f/sonorous/</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Editor:</th>
  </tr>
  <tr>
   <td>BMS Creator 2.0b1</td>
   <td>BMSC</td>
   <td><a href="http://tixlab.com/software/bmsc.shtml" title="BMS Creator" class="external" rel="external" hreflang="ja"><span itemprop="url">http://tixlab.com/software/bmsc.shtml</span></a></td>
  </tr>
  <tr>
   <td>beditor 1.3.1</td>
   <td>beditor</td>
   <td><a href="https://web.archive.org/web/*/http://macbeat.at.infoseek.co.jp/data/*" title="Internet Archive Wayback Machine" class="external" rel="external nofollow" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://macbeat.at.infoseek.co.jp/data/*</span></a></td>
  </tr>
  <tr>
   <td>GDA Creator Professional Edition Ver.0.24</td>
   <td>GDAC2</td>
   <td><a href="https://www.asahi-net.or.jp/~nm4j-tyn/gdac2/" title="GDA Creator Professional Edition" class="external" rel="external" hreflang="ja"><span itemprop="url">https://www.asahi-net.or.jp/~nm4j-tyn/gdac2/</span></a></td>
  </tr>
  <tr>
   <td>GDAC2 lane-script for nanasigroove-extended-command</td>
   <td>774gsc</td>
   <td><span itemprop="url" class="u external">http://asdf.bms.ms/soft/nanasi/774gsc.zip</span> (download is impossible now)</td>
  </tr>
  <tr>
   <td>BMx Sequence Editor 1.3.8</td>
   <td>BMSE</td>
   <td><a href="http://ucn.tokonats.net/software/bmse/" title="UCN-Soft - Software » BMSE" class="external" rel="external" hreflang="ja"><span itemprop="url">http://ucn.tokonats.net/software/bmse/</span></a></td>
  </tr>
  <tr>
   <td>BMx Sequence Editor dttvb-1.3.8 (<time datetime="2011-11-16T18:36:00">2011-11-16T18:36:00</time> ver.)</td>
   <td>BMSE</td>
   <td><a href="https://github.com/dtinth/UCN-BMSE" title="dtinth/UCN-BMSE · GitHub" class="external" rel="external" hreflang="en"><span itemprop="url">https://github.com/dtinth/UCN-BMSE</span></a> (visualization of <abbr title="LongNotes">LN</abbr>)</td>
  </tr>
  <tr>
   <td>iBMS BMS Creator 3.0.5 Delta</td>
   <td>iBMSC</td>
   <td><a href="https://web.archive.org/web/20140819164923/http://www.cs.mcgill.ca/~ryang6/iBMSC/" title="iBMSC - Home" class="external" rel="external" hreflang="en"><span itemprop="url">https://web.archive.org/web/20140819164923/http://www.cs.mcgill.ca/~ryang6/iBMSC/</span></a><!--
    (a href="http://www.cs.mcgill.ca/%7Eryang6/iBMSC/"
     title="iBMSC - Home" class="external" rel="external" hreflang="en"
    )(span itemprop="url")http://www.cs.mcgill.ca/~ryang6/iBMSC/ (/span)(/a) --></td>
  </tr>
  <tr>
   <td>DTXCreator 026 (<time datetime="2014-07-07">July 7th, 2014</time>)</td>
   <td>DTXC</td>
   <td><a href="https://en.osdn.jp/projects/dtxmania/releases/" title="Download Files List - DTXMania - OSDN" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.osdn.jp/projects/dtxmania/releases/</span></a><!--
    (a href="http://en.sourceforge.jp/projects/dtxmania/releases/"
     title="Download Files List - DTXMania - SourceForge.JP" class="external" rel="external" hreflang="en"
    )(span itemprop="url")http://en.sourceforge.jp/projects/dtxmania/releases/ (/span)(/a)
    (a href="http://en.sourceforge.jp/projects/dtxmania/releases/?package_id=11589"
     title="Download - DTXMania - SourceForge.JP" class="external" rel="external" hreflang="ja"
    )(span itemprop="url")http://en.sourceforge.jp/projects/dtxmania/releases/?package_id=11589 (/span)(/a) --></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Viewer (obsolete):</th>
  </tr>
  <tr>
   <td>BMS Viewer 2.0</td>
   <td>BMSV</td>
   <td><a href="https://web.archive.org/web/*/http://www.h3.dion.ne.jp/~cpp/download/bmview/index.html" title="BMS Viewer - ていくいっと れいずぃ！" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://www.h3.dion.ne.jp/~cpp/download/bmview/index.html</span></a></td>
  </tr>
  <tr>
   <td>BME(BMS) Viewer 0.04</td>
   <td>BMEV</td>
   <td><a href="http://www.din.or.jp/~k-uraki/game/tools.html" title="Game Support Tools - うらこく" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.din.or.jp/~k-uraki/game/tools.html</span></a></td>
  </tr>
  <tr>
   <td>nBMplay v0.26a</td>
   <td>nBMplay</td>
   <td><a href="http://www.nothing.sh/download/" title="Index of /download - area[nothing]: Really Simple Site" class="external" rel="external" hreflang="en"><span itemprop="url">http://www.nothing.sh/download/</span></a></td>
  </tr>
  <tr>
   <td>in_bm 1.17 (WAview)</td>
   <td>WAview</td>
   <td><a href="https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/" title="in_bm公開ページ" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/</span></a>
    (plug-in of <cite>Winamp</cite> (<a href="https://www.winamp.com/" title="Winamp Media Player - MP3, Video, and Music Player - Winamp" class="external" rel="external"><span itemprop="url">https://www.winamp.com/</span></a>)</td>
  </tr>
  <tr>
   <td>o2play <time datetime="2009-09-12">2009-09-12</time></td>
   <td>o2play</td>
   <td><a href="http://rlnoparo.ys168.com/" title="rlnoparo.ys168.com" class="external" rel="external" hreflang="zh"><span itemprop="url">http://rlnoparo.ys168.com/</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Viewer (current):</th>
  </tr>
  <tr>
   <td>uBMplay 1.5.2</td>
   <td>uBMplay</td>
   <td><a href="http://ucn.tokonats.net/software/ubmplay/" title="UCN-Soft - Software » uBMplay" class="external" rel="external" hreflang="ja"><span itemprop="url">http://ucn.tokonats.net/software/ubmplay/</span></a></td>
  </tr>
  <tr>
   <td>PMSee-V v2.2.3</td>
   <td>PMSee-V</td>
   <td><a title="ポニラボ" class="external" rel="external" hreflang="ja" href="https://sakukoba.ninja-x.jp/ponila/"><span itemprop="url">https://sakukoba.ninja-x.jp/ponila/</span></a><!--
    (a title="&#x307D;&#x307F;&#x3085;&#x30C4;&#x30FC;&#x30EB;" class="external" rel="external" hreflang="ja"
     href="http://sakukoba.ninja-x.jp/pomu_pms/tool.html")(span itemprop="url")http://sakukoba.ninja-x.jp/pomu_pms/tool.html (/span)(/a) --></td>
  </tr>
  <tr>
   <td>BMIIDXView2010 v2.14</td>
   <td>IIDXv</td>
   <td><a href="http://www.charatsoft.com/software/bmview/index.html" title="■CharatSoft.com » SOFTWARE » BMIIDXView2010" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www.charatsoft.com/software/bmview/index.html</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Others (obsolete):</th>
  </tr>
  <tr>
   <td>otama Ver.0.991</td>
   <td>otama</td>
   <td><a href="https://www.asahi-net.or.jp/~VG5M-OBT/otama.html" title="otama" class="external" rel="external" hreflang="ja"><span itemprop="url">https://www.asahi-net.or.jp/~VG5M-OBT/otama.html</span></a> (bullet curtain)</td>
  </tr>
  <tr>
   <td>NINJA AGENT GALLI ver1.03</td>
   <td>GALLI</td>
   <td><a href="https://web.archive.org/web/20160311123053/http://ninjaactionteam.sakura.ne.jp/sakuhin_bmsplayer.html" title="忍者放送協会" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/20160311123053/http://ninjaactionteam.sakura.ne.jp/sakuhin_bmsplayer.html</span></a> (action game)</td>
  </tr>
  <tr>
   <td>BMS Printer Ver.0.01 Pre-Release</td>
   <td>bmsPRN</td>
   <td><a href="https://delight.airytail.co/download.html" title="Download - Delight Delight Reduplication Support Page" class="external" rel="external" hreflang="ja"><span itemprop="url">https://delight.airytail.co/download.html</span></a></td>
  </tr>
  <tr>
   <td>bms2wav 0.07b / 0.07c</td>
   <td>bms2wav</td>
   <td><!-- (a href="http://homepage2.nifty.com/ma%7E/"
     title="&#x8C5A;&#x6C41;&#x5927;&#x597D;&#x304D;" class="external" rel="external" hreflang="ja"
    ) --><span itemprop="url" class="external u">http://homepage2.nifty.com/ma~/</span><!-- (/a) --> (download is impossible now)</td>
  </tr>
  <tr>
   <td>bme2wav BETA 13</td>
   <td>bme2wav</td>
   <td><a href="http://childs.squares.net/program/bme2wav/index.html" title="BME2WAV - CHILD&#39;S SQUARE" class="external" rel="external" hreflang="ja"><span itemprop="url">http://childs.squares.net/program/bme2wav/index.html</span></a></td>
  </tr>
  <tr>
   <td>BmsToAvi 0.03c</td>
   <td>bms2avi</td>
   <td><a href="http://www32.tok2.com/home/digitalapeman/Tools/BmsToAvi/BmsToAvi.html" title="BmsToAvi" class="external" rel="external" hreflang="ja"><span itemprop="url">http://www32.tok2.com/home/digitalapeman/Tools/BmsToAvi/BmsToAvi.html</span></a></td>
  </tr>
  <tr>
   <td>BGAEncoder 0.2a</td>
   <td>BGAenc</td>
   <td><a href="http://titans-server.ddo.jp/~murasin/" class="external" rel="external" hreflang="ja"><span itemprop="url">http://titans-server.ddo.jp/~murasin/</span></a> (download is impossible now)</td>
  </tr>
  <tr>
   <td>in_bm 2.01</td>
   <td>in_bm2</td>
   <td><a href="https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/" title="in_bm公開ページ" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/http://nickle.ath.cx/~softlab/in_bm/</span></a> (plug-in of <a href="https://www.winamp.com/" title="Winamp Media Player - MP3, Video, and Music Player - Winamp" class="external" rel="external">Winamp</a>)</td>
  </tr>
  <tr>
   <td>BMS/BME/EMS plugin for KbMediaPlayer version 1.0r13</td>
   <td>bmse.kpi</td>
   <td><p>KbMedia Player Version 2.63a contains this</p>
    <p><a href="http://hwm5.gyao.ne.jp/kobarin/index.htm" title="Kobarinのホームページ" class="external" rel="external" hreflang="ja"><span itemprop="url">http://hwm5.gyao.ne.jp/kobarin/index.htm</span></a></p></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">Others (current):</th>
  </tr>
  <tr>
   <td>bmx2wav 1.3.3</td>
   <td>bmx2wav</td>
   <td><a href="http://childs.squares.net/program/bmx2wav/index.html" title="BMX2WAV - CHILD&#39;S SQUARE" class="external" rel="external" hreflang="ja"><span itemprop="url">http://childs.squares.net/program/bmx2wav/index.html</span></a></td>
  </tr>
  <tr>
   <td>PMChr-V v4.0.2</td>
   <td>PMChr-V</td>
   <td><a title="ポニラボ" class="external" rel="external" hreflang="ja" href="https://sakukoba.ninja-x.jp/ponila/"><span itemprop="url">https://sakukoba.ninja-x.jp/ponila/</span></a><!--
    (a title="&#x307D;&#x307F;&#x3085;&#x30C4;&#x30FC;&#x30EB;" class="external" rel="external" hreflang="ja"
     href="http://sakukoba.ninja-x.jp/pomu_pms/tool.html")(span itemprop="url")http://sakukoba.ninja-x.jp/pomu_pms/tool.html (/span)(/a) --></td>
  </tr>
  <tr>
   <td>woslicerII (wav-file slicer)</td>
   <td>woslicerII</td>
   <td><a href="https://cerebralmuddystream.nekokan.dyndns.info/" title="脳性濁流" class="external" rel="external" hreflang="ja"><span itemprop="url">https://cerebralmuddystream.nekokan.dyndns.info/</span></a></td>
  </tr>
  <tr>
   <td>woslicerII (bug-fix version? <time datetime="2012-09-14T01:37:52+09:00">2012-09-14</time>)</td>
   <td>woslicerII</td>
   <td><a href="https://twitter.com/wosderge/status/246852579550699522" title="Twitter / wosderge:" class="external" rel="external" hreflang="ja"><span itemprop="url">https://twitter.com/wosderge/status/246852579550699522</span></a></td>
  </tr>
  <tr>
   <td>woslicerIII <del datetime="2013-09-23T20:20:00+09:00">(requires .NET Framework 4.5 (Windows Vista or later))</del></td>
   <td>woslicerIII</td>
   <!-- td)(p)(a href="https://twitter.com/wosderge/status/336766292918935552"
     title="Twitter / wosderge: &#x3010;&#x6C42;&#x30FB;&#x4EBA;&#x67F1;&#x3011; ..." class="external" rel="external" hreflang="ja"
    )(span itemprop="url")https://twitter.com/wosderge/status/336766292918935552 (/span)(/a)(/p)
    (p)alt: (a href="https://www.dropbox.com/s/mexee90tjl4eqi3/woslicerIII.zip"
     title="Dropbox - woslicerIII.zip" class="external" rel="external" hreflang="en"
    )(span itemprop="url")https://www.dropbox.com/s/mexee90tjl4eqi3/woslicerIII.zip (/span)(/a)(/p)(/td -->
   <td><a href="https://cerebralmuddystream.nekokan.dyndns.info/" title="脳性濁流" class="external" rel="external" hreflang="ja"><span itemprop="url">https://cerebralmuddystream.nekokan.dyndns.info/</span></a></td>
  </tr>
  <tr>
   <td>BMx Outliner (for now, <code>#RANDOM</code> / <code>#SWITCH</code> viewer)</td>
   <td>outliner</td>
   <td><a href="https://hitkey.nekokan.dyndns.info/bmxoutliner.htm" title="BMx Outliner" hreflang="en"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmxoutliner.htm</span></a> (web apps)</td>
  </tr>
  <tr>
   <td>Starry Music Beat ver1.03</td>
   <td>SMB</td>
   <td><a href="https://itunes.apple.com/jp/app/starry-music-beat/id481749987?mt=8" title="App Store - Starry Music Beat" class="external" rel="external" hreflang="ja"><span itemprop="url">https://itunes.apple.com/jp/app/starry-music-beat/id481749987?mt=8</span></a> (for iOS)</td>
  </tr>
  <tr>
   <td>BGAEncAdvance Ver0.034</td>
   <td>BGAEncAdv</td>
   <td><a href="https://yaruki0.net/programs/bgaencadv.html" title="Nageyari Software &gt; プログラム &gt; BGAEncAdvance" class="external" rel="external" hreflang="ja"><span itemprop="url">https://yaruki0.net/programs/bgaencadv.html</span></a><!--
     http://yaruki0.sakura.ne.jp/programs/bgaencadv.html https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html --></td>
  </tr>
  <tr>
   <td>bms diff tool</td>
   <td>diff</td>
   <td><a href="https://stairway.sakura.ne.jp/smalltools/minibmsplay/diff.htm" title="bms diff tool" class="external" rel="external" hreflang="ja"><span itemprop="url">https://stairway.sakura.ne.jp/smalltools/minibmsplay/diff.htm</span></a> (web apps)</td>
  </tr>
  <tr>
   <td>lr2_pmsview_helper</td>
   <td>LR2PMS</td>
   <td><a href="https://twitter.com/misty_ls04/status/473058415636279296" title="【人柱求む】" class="external" rel="external" hreflang="ja"><span itemprop="url">https://twitter.com/misty_ls04/status/473058415636279296</span></a></td>
  </tr>
 </tbody>
 <tbody>
  <tr>
   <th scope="rowgroup" colspan="3">to be tested:</th>
  </tr>
  <tr>
   <td>o2mania 1.2.0</td>
   <td>o2mania</td>
   <td><a href="http://www.o2mania.com/" title="O2MANIA-DJMAX劲乐团单机版模拟器" class="external" rel="external" hreflang="zh"><span itemprop="url">http://www.o2mania.com/</span></a></td>
  </tr>
  <tr>
   <td>MyO2 <time datetime="2011-06-01">2011-06-01</time></td>
   <td>MyO2</td>
   <td><ins datetime="2012-01-13T00:00:00+09:00">(Since it seems that I received warning, I do not indicate <abbr title="Uniform Resource Identifier">URI</abbr>.)</ins>
   <!--
    (span itemprop="url" class="u external")http://www.allcombo.com/myo2/MYO2.rar (/span) ((a href="http://www.allcombo.com/myo2/"
     title="MyO2 &#x7F51;&#x9875;&#x97F3;&#x4E50;&#x6E38;&#x620F; - &#x5B98;&#x65B9;&#x7F51;&#x7AD9;"
     class="external" rel="external nofollow" hreflang="zh")(span itemprop="url")http://www.allcombo.com/myo2/ (/span)(/a))
   -->
   </td>
  </tr>
  <tr>
   <td>D3beat ver1.1 (<a href="https://en.wikipedia.org/wiki/Jubeat" title="Jubeat - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">jubeat</a> style
    / Windows7 or later)</td>
   <td>D3beat</td>
   <td><a title="プログラミング ‐ ニコニコ動画(原宿)" class="external" rel="external" href="http://www.nicovideo.jp/mylist/29296483" hreflang="ja"><span itemprop="url">http://www.nicovideo.jp/mylist/29296483</span></a></td>
  </tr>
  <tr>
   <td>Invisible Object to Landmine Object Converter</td>
   <td>3-4toD-E</td>
   <td><a href="https://nekokan.dyndns.info/~otlovers/guidance/guidance_4b.html" title="Obj Tech Lovers | Guidance chapter4-7" class="external" rel="external" hreflang="ja"><span itemprop="url">https://nekokan.dyndns.info/~otlovers/guidance/guidance_4b.html</span></a></td>
  </tr>
  <tr>
   <td>Sp2Dp ver_<time datetime="2011-06-22">110622</time></td>
   <td>SP2DP</td>
   <td><span itemprop="url" class="u external">http://www.geocities.jp/o6o_o9o_o6o/soft/</span> (download is impossible now)</td>
  </tr>
  <tr>
   <td>BMSE ClipBoard Object Data Format to NoteDrop Converter</td>
   <td>BM-ND</td>
   <td><a href="http://bmse-notedrop.jgate.de/" title="bmse-notedrop" class="external" rel="external" hreflang="en"><span itemprop="url">http://bmse-notedrop.jgate.de/</span></a> (web apps)</td>
  </tr>
  <tr>
   <td>Be-Music Helper (beta 4′) <del datetime="2013-09-23T20:20:00+09:00">(Windows Vista or later)</del></td>
   <td>bmhelper</td>
   <td><a href="https://excln.github.io/bmhelper.html" class="external" rel="external" hreflang="ja" title="Lazy Notes"><span itemprop="url">https://excln.github.io/bmhelper.html</span></a></td>
  </tr>
  <tr>
   <td>Mid2BMS</td>
   <td>Mid2BMS</td>
   <td><a href="http://mid2bms.web.fc2.com/" class="external" rel="external" hreflang="ja" title="Mid2BMS BMS Improved Development Environment"><span itemprop="url">http://mid2bms.web.fc2.com/</span></a></td>
  </tr>
  <tr>
   <td>[tentative name] [suspended] TechnicalGroove</td>
   <td>techGrv</td>
   <td><a href="https://web.archive.org/web/*/https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html" title="おとげせいさくちゅう" class="external" rel="external" hreflang="ja"><span itemprop="url">https://web.archive.org/web/*/https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html</span></a><!--
    (a href="https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html"
     title="&#x304A;&#x3068;&#x3052;&#x305B;&#x3044;&#x3055;&#x304F;&#x3061;&#x3085;&#x3046;" class="external" rel="external" hreflang="ja"
    )(span itemprop="url")https://dl.dropboxusercontent.com/u/19134729/otogeokiba.html (/span)(/a) --></td>
  </tr>
 </tbody>
</table>
<footer><p>latest collection: <time itemprop="update" datetime="2014-07-11">2014-07-11</time></p></footer>
<hr>
</article>


<section id="MEMO-ABOUT-BMS-FORMAT-SPECIFICATION">
<h2><a href="#MEMO-ABOUT-BMS-FORMAT-SPECIFICATION">Memo about <cite>BMS Format Specification</cite></a></h2>

<section id="ABOUT-THE-MINIMUM-REQUIREMENTS-WHICH-SPECIFICATION-INDICATES" itemscope="itemscope">
<h3><a href="#ABOUT-THE-MINIMUM-REQUIREMENTS-WHICH-SPECIFICATION-INDICATES">About the minimum requirements which specification indicates:</a></h3>

<ul>
 <li><p>The following is a summary of specification:</p>
  <ul>
   <li>This file format was devised by <span itemprop="name">Urao Yane</span> and <span itemprop="name">NBK</span> in 1998.</li>
   <li>Anyone can use this format freely.</li>
   <li>The line which begins with <code>#</code> is the command line. All the rest are ignored (use for comments).</li>
   <li>The command lines are case-insensitive.</li>
   <li>The command lines have two kinds, the header sentence and the channel sentence.</li>
   <li><p>This BMS file is compiled at runtime, so we can order any lines freely.</p>
    <ul>
     <li>Quotation person notes: The header can be described anywhere in BMS.</li>
     <li>Quotation person notes: The header is not necessarily described in front of the channel sentence.</li>
    </ul></li>
  </ul></li>
 <li><p>However, the details of specification are implementation-dependence.</p>
  <ul>
   <li>For example, some implementations are case-sensitive in particular cases.
    <dfn><abbr title="exempli gratia">e.g.</abbr></dfn>, <code>#LNOBJ&nbsp;XX</code></li>
   <li>There are also implementations that can not recognize any lowercase &lt;HEADER&gt;. <span class="chameleonic">(O2play)</span></li>
  </ul></li>
</ul>
</section>

<section id="ABOUT-DETAILED-IMPLEMENTING-WHICH-SPECIFICATION-DOES-NOT-INDICATE" itemscope="itemscope">
<h3><a href="#ABOUT-DETAILED-IMPLEMENTING-WHICH-SPECIFICATION-DOES-NOT-INDICATE">About detailed implementing which specification does not indicate:</a></h3>

<ul>
 <li><p>The header sentence uses one half-width space as delimiter which divides the header and the value.</p>
  <ul>
   <li><code>#header value</code> = <code>#</code> + <code><var>header</var></code> + <code><mark>␣</mark></code> + <code><var>value</var></code></li>
   <li>Some implementations can also use a tab character as a delimiter.</li>
   <li>Some implementations permit continuous white-space characters as one delimiter.</li>
   <li>Some implementations permit the indent which used white-space characters.</li>
   <li>Some implementations which do not support those features may make a mistake in the parsing of BMS.</li>
  </ul></li>
 <li><p>The channel sentence uses one half-width colon as delimiter which divides the channel and the value.</p>
  <ul>
   <li><code>#xxxCH:00112233</code> = <code>#</code> + <code>xxx</code> + <code><var>CH</var></code> + <code><mark>:</mark></code>
    + <code><var>00</var></code> + <code><var>11</var></code> + <code><var>22</var></code> + <code><var>33</var></code></li>
   <li><code>xxx</code>: number of measure [000-999]</li>
   <li><code><var>CH</var></code>: the channel of the target to operate</li>
   <li><p><code><var>00</var></code>, <code><var>11</var></code>, <code><var>22</var></code>, <code><var>33</var></code>:
    The index which consists of the alphanumeric character of two characters corresponding to each object.</p>
    <table>
     <tbody>
      <tr><th scope="row">early: hexadecimal number</th><td>16*16 (256)</td><td>[0-9A-Fa-f][0-9A-Fa-f]</td></tr>
      <tr><th scope="row">pre-modern: limited base36</th><td>16*36 (576)</td><td>[0-9A-Fa-f][0-9A-Za-z]</td></tr>
      <tr><th scope="row">modern: base36</th><td>36*36 (1296)</td><td>[0-9A-Za-z][0-9A-Za-z]</td></tr>
     </tbody>
    </table></li>
   <li>The value which consists of some “indexes” divides a measure at an equal interval.</li>
   <li>If four indexes are described, measure will be equally divided into four. It means having specified the rhythm “four quarter notes”.</li>
   <li><code>00</code> is a musical rest symbol.</li>
   <li>The header corresponding to other indexes is dependent on a channel.
    It may be the definition of <code>#WAV<mark>xx</mark></code> or <code>#BMP<mark>xx</mark></code> or others.</li>
  </ul></li>
 <li><p>The musical score file is the plain text file substantially.
  If the filename extension <code>TXT</code> is changed into <code>BMS</code>, BMS apps will recognize musical score files.</p>
  <ul>
   <li>The character encoding of BMS file is not indicated by specification.
    This fact causes the problem on which <dfn><abbr title="Double-Byte Character Set">DBCS</abbr></dfn> is garbled.
    (<a href="https://en.wikipedia.org/wiki/Mojibake" title="Mojibake - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">mojibake</a>)</li>
   <li>Most Japanese BMS files are written by Shift_JIS.
    <a href="https://en.wikipedia.org/wiki/Shift_JIS" title="Shift JIS - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Shift_JIS</span></a></li>
   <li><p>Many Japanese BMS apps do not support multilingual encoding.</p>
    <ul>
     <li><p>When the value of BMS command contains <abbr title="Double-Byte Character Set">DBCS</abbr>,
       the value may be garbled (<a href="https://en.wikipedia.org/wiki/Mojibake" title="Mojibake - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="ja">mojibake</a>).</p>
      <p>However, when <dfn><abbr title="Operating System">OS</abbr></dfn> is Japanese version Windows,
       <abbr title="Double-Byte Character Set">DBCS</abbr> of Shift_JIS is displayed correctly as it happens.</p></li>
     <li>When a filename and a directory name contain <abbr title="Double-Byte Character Set">DBCS</abbr>, BMS apps may malfunction.
      But in winJP, as it happens, the <abbr title="Double-Byte Character Set">DBCS</abbr> path of Shift_JIS succeeds.</li>
     <li>In winJP, the example with which BMS using <a href="https://en.wikipedia.org/wiki/ISO/IEC_2022" title="ISO/IEC 2022 - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="ja">JIS (ISO-2022-JP)</a> or
      <a href="https://en.wikipedia.org/wiki/Extended_Unix_Code" title="Extended Unix Code - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">EUC-KR</a> brought malfunction to LR2 and BMX2WAV is known.</li>
    </ul></li>
   <li>The only character set safe for all implementations is
    <dfn><abbr title="American Standard Code for Information Interchange">ASCII</abbr></dfn>
    (<dfn><abbr title="American National Standards Institute">ANSI</abbr></dfn>).
    We should not use <abbr title="Double-Byte Character Set">DBCS</abbr> at least to a filename and a directory name.</li>
   <li><p>ruvit, iBMSC, IIDXv (2.13+), HDX (0.98+), Sonorous, BGAEncAdv, and TechnicalGroove are supporting multilingual encoding.</p>
    <ul>
     <li>However, it does not guarantee that a character string is displayed correctly.</li>
     <li><del datetime="2013-01-16T19:00:00+09:00">The garbled characters problem will not be avoided until UTF-16 becomes mainstream of BMS.</del></li>
     <li><del datetime="2013-01-16T19:00:00+09:00">Even if UTF-16 spreads, this problem is not solved completely.</del></li>
     <li>YEN-SIGN problem, WAVE-DASH problem, WON-SIGN problem, GB_18030, etc...<!--
       (a href="http://imysql.cn/docs/MySQL_51_en/ch10s10.html" class="external" rel="external" hreflang="en"
        title="FAQ: MySQL Chinese, Japanese, and Korean Character Sets")YEN-SIGN problem, WAVE-DASH problem, WON-SIGN problem, GB_18030, etc...(/a)
      --></li>
    </ul>
    <p><img src="content/ruvit-titlebar-unicode-string.png" alt="#TITLE (^^)♥♡♠♤♣♧♦♢♨☀☁☃☄☊☚☠♘☲☸♩♪♫♬♭♮" width="537" height="30"><img src="content/unicode-filename.png" alt="filename: foon♥.bms" width="130" height="71"></p></li>
  </ul></li>
</ul>

</section>

<section id="BEHAVIOR-IN-GENERAL-IMPLEMENTATION" itemscope="itemscope">
<h3><a href="#BEHAVIOR-IN-GENERAL-IMPLEMENTATION">Behavior in general implementation:</a></h3>

<ul>
 <li><p>When the same header duplicates, the side near <dfn><abbr title="End Of File">EOF</abbr></dfn> is adopted. For example:</p>
  <table>
   <thead>
    <tr><th scope="col">remarks</th><th scope="col">sample BMS code</th></tr>
   </thead>
   <tbody>
    <tr><td>(line number 100)</td><td><code>#TITLE&nbsp;<var>ABC</var></code></td></tr>
    <tr><td>(line number 200)</td><td><code>#TITLE&nbsp;<var>DEF</var></code></td></tr>
   </tbody>
  </table>
  <p>The value of <code>#TITLE</code> of this BMS is “<var>DEF</var>”.</p>
  <ul>
   <li>This rule is applied to all the headers except <code>#ExtChr</code>, <code>#STP</code>, <code>#WAVCMD</code>, <code>#OPTION</code>,
    and control flow.</li>
   <li><ins datetime="2013-07-30T22:00:00+09:00">This rule may not be applied to <code>#SUBTITLE</code>, <code>#SUBARTIST</code>, <code>#COMMENT</code>,
    and <code>#LNOBJ</code>.</ins></li>
   <li>This rule is applied also to the channel <code>#xxx02</code> (length of measure).</li>
   <li>However if <code>#xxx02</code> duplicates, ruvit (b5p3 and below) will adopt the first line. (fixed in b5p4)</li>
  </ul></li>
 <li><p>However, the following commands are exceptions and a little complicated processing is required.</p>
  <ul>
   <li><p>These can describe two or more same commands:</p>
    <ul>
     <li><code>#ExtChr</code>: [BM98] Extended Character</li>
     <li><code>#STP</code>: [bemaniaDX] STOP sequence</li>
     <li><code>#WAVCMD</code>: [MacBeat] pseudo-MOD effect (about MOD: <a href="https://en.wikipedia.org/wiki/MOD_%28file_format%29" title="MOD (file format) - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/MOD_%28file_format%29</span></a>)</li>
     <li><code>#OPTION</code>: [nanasigroove] forced OPTION</li>
     <li><ins datetime="2013-10-18T20:00:00+09:00"><code>#SUBTITLE</code>: [nanasigroove] explicit subtitle
      / [<em>limited Sonorous: allowed Multiplex definition</em>]</ins></li>
     <li><ins datetime="2013-07-30T22:00:00+09:00"><code>#SUBARTIST</code>: [LunaticRave] helpers' name
      / [<em>limited TechnicalGroove and Sonorous: allowed Multiplex definition</em>]</ins></li>
     <li><ins datetime="2013-10-18T20:00:00+09:00"><code>#COMMENT</code>: [feelingPomu] caption on selecting screen
      / [<em>limited Sonorous: allowed Multiplex definition</em>]</ins></li>
     <li><ins datetime="2013-07-30T22:00:00+09:00"><code>#LNOBJ</code>: [Rhythm-it] Termination of LONGNOTE
      / [<em>limited TechnicalGroove:  allowed Multiplex definition</em>]</ins></li>
    </ul></li>
   <li><p>Control flow is more special. In BMS notation, only the command shown below constitutes a block structure.</p>
    <ul>
     <li><p><code>#RANDOM</code> or <code>#SETRANDOM</code></p>
      <ul>
       <li><code>#IF</code></li>
       <li><code>#ELSEIF</code></li>
       <li><code>#ELSE</code></li>
       <li><code>#ENDIF</code></li>
      </ul>
      <p><code>#ENDRANDOM</code></p></li>
     <li><p><code>#SWITCH</code> or <code>#SETSWITCH</code></p>
      <ul>
       <li><code>#CASE</code></li>
       <li><code>#SKIP</code></li>
       <li><code>#DEF</code></li>
      </ul>
      <p><code>#ENDSW</code></p></li>
    </ul></li>
  </ul></li>
</ul>

<ul>
 <li><p>When the same channel in the same &lt;measure&gt; duplicates, both are compounded.</p>
  <ul>
   <li>However, this behavior is not applied to <code>#xxx01</code>
    (<dfn><abbr title="BackGround Music">BGM</abbr></dfn> channel), <code>#xxx02</code> (length of &lt;measure&gt;),
    and <code>#xxxA6</code> (<code><a href="#CHANGEOPTIONXX">#CHANGEOPTION</a></code>).</li>
   <li>The multiple BGM lines must be interpreted as multiple BGM lines. They must not be merged.</li>
   <li>When two or more <code>#xxx02</code> channel lines compete, the line of the side near <abbr title="End Of File">EOF</abbr> is adopted.</li>
   <li><ins datetime="2013-05-07T12:00:00+09:00">Dynamic option change channels have the same character as BGM channels,
    in order to enable change of two or more options simultaneously.</ins></li>
  </ul></li>
 <li><p>Priority is given to a side with a large line number. But <code>00</code> does not overwrite an old place. For example:</p>
  <table>
   <thead>
    <tr><th scope="col">remarks</th><th scope="col">sample BMS code</th><th scope="col">comment</th></tr>
   </thead>
   <tbody>
    <tr>
     <td>(line number 100)</td><td><code>#00113:11111111</code></td>
     <td>// <code>1100110011001100</code></td>
    </tr>
    <tr>
     <td>(line number 200)</td><td><code>#00113:0022332255224400</code></td>
     <td>// channel <code>13</code> of <code>#001</code> overlapped</td>
    </tr>
    <tr>
     <td>(line number 300)</td><td><code>#00113:0066</code></td>
     <td>// channel <code>13</code> of <code>#001</code> overlapped</td>
    </tr>
   </tbody>
   <tbody>
    <tr><td>parsing result:</td><td><code>#00113:1122332266224400</code></td><td>// all 3 lines are merged</td></tr>
   </tbody>
  </table>
  <p>This is BM98k's behavior prepared in order to make a complicated rhythm easy to write.</p>
  <ul>
   <li>This technique <strong>which divides and describes a line</strong> (on the assumption that it is finally merged) enables very interesting expression.</li>
   <li>The work which finished it most exhaustively is <cite><span class="DBCS" xml:lang="ja" lang="ja">オートメーション工場</span></cite> (<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</li>
   <li>The work which finished it most unobtrusively is <cite><span class="DBCS" xml:lang="de" lang="de">Netzwerkgenen</span></cite> (<a href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=39&amp;event=76" title="【低速BMS限定イベント『easymotion』 詳細情報】 No.39 &quot;Netzwerkgenen / Yosk!&quot;" class="external" rel="external" hreflang="ja"><span itemprop="url">http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=39&amp;event=76</span></a>)</li>
  </ul></li>
 <li><p>But unfortunately, the half of implementations do not meet this requirements specification. ( ... <i>Is this really requirements specification?</i> )</p>
  <ul>
   <li>Implementations which do not support duplication of channel lines may not be unable to count the number of musical notes correctly.</li>
   <li><p>pomu2 has the function to change the arrangement of a musical score automatically.</p>
    <p>But this function will not operate normally, when channel lines are duplicated.</p>
    <p>(the example which duplicated the original musical score 5 times: <a href="content/100418_duplicate_channel_pomu2.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/100418_duplicate_channel_pomu2.png</span></a>)</p></li>
   <li>LR2 has a function similar to pomu2 and it has the similar bug. LR2 cannot process duplication of land-mine channels well.</li>
  </ul></li>
</ul>

<ul>
 <li><p>BMS parser may have to read the file in which three kinds of line feed codes are intermingled.
  (<dfn><abbr title="Carrige Return / Line Feed">CRLF</abbr></dfn>,
  <dfn><abbr title="Carrige Return">CR</abbr></dfn>, <dfn><abbr title="Line Feed">LF</abbr></dfn>)</p>
  <ul>
   <li>For example: <cite><a href="https://web.archive.org/web/*/http://soflan.hp.infoseek.co.jp/mrym.zip" class="external" rel="external nofollow">Sofa $15 -&gt; $1</a></cite><!--
     https://www.google.com/search?q=bms+sofa+mrym.zip --></li>
  </ul></li>
 <li><p>BMS parser may need to read <abbr title="End Of File">EOF</abbr> which does not sandwich a newline character.</p>
  <ul>
   <li>For example: <code>#08401:ZZ<mark>[EOF]</mark></code></li>
  </ul>
  <p>We will find many inline-<abbr title="End Of File">EOF</abbr> more than we expected.</p></li>
 <li><p>When an unjust value is given to a channel line, specification has not defined how it should interpret.</p>
  <table>
   <thead>
    <tr><th scope="col">sample BMS code</th><th scope="col">remarks</th></tr>
   </thead>
   <tbody>
    <tr>
     <td><code>#00111:0011<mark class="DBCS" lang="ja" xml:lang="ja">文字</mark>2233</code></td>
     <td>// mixing of <abbr title="Double-Byte Character Set">DBCS</abbr></td>
    </tr>
    <tr>
     <td><code>#00112:001122<mark>3</mark></code></td>
     <td>// data length which is not a multiple of 2</td>
    </tr>
    <tr>
     <td><code>#00113:<mark>+-;$%&amp;'()/</mark></code></td>
     <td>// the special character which cannot be used for <code>#WAV</code>-index</td>
    </tr>
    <tr>
     <td><pre><code>#00114:1100<mark>...(over&nbsp;500000&nbsp;characters)...</mark>011</code></pre></td>
     <td>// too long a character String</td>
    </tr>
    <tr>
     <td><code>#00115:11<mark>&nbsp;&nbsp;;comment</mark></code></td>
     <td>// DTX's inline-comment (GDAC2 cannot be parsed correctly)</td>
    </tr>
    <tr>
     <td><code>#00102:12.375<mark>f</mark></code></td>
     <td>// The option flag (for explicitly specifying the floating-point type) in IIDXv and HDX</td>
    </tr>
    <tr>
     <td><pre class="lh100"><code>#00121:&nbsp;&nbsp;FFFFFF&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;NNNNNN
#00122:&nbsp;&nbsp;FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;NN&nbsp;&nbsp;NN
#00123:&nbsp;&nbsp;FFFFFF&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;NN&nbsp;&nbsp;NN
#00124:&nbsp;&nbsp;FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;OO&nbsp;&nbsp;NN&nbsp;&nbsp;NN
#00125:&nbsp;&nbsp;FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;OOOOOO&nbsp;&nbsp;NN&nbsp;&nbsp;NN</code></pre></td>
     <td class="vab">// Shift_JIS art (<a class="external" rel="external" title="Shift_JIS art - Wikipedia, the free encyclopedia" hreflang="en" href="https://en.wikipedia.org/wiki/Shift_JIS_art"><span itemprop="url">https://en.wikipedia.org/wiki/Shift_JIS_art</span></a>)</td>
    </tr>
   </tbody>
  </table>
  <p>Some implementations (nazo, uBMplay, LR2, etc) try these interpretations. The method is unknown.
   The definition of an appropriate interpretation is also unknown.</p></li>
 <li><p>BMS parser may have to read the following header sentences.</p>
  <table>
   <thead>
    <tr><th scope="col">sample BMS code</th><th scope="col">remarks</th></tr>
   </thead>
   <tbody>
    <tr><td><code>#stop<mark>A</mark>&nbsp;192</code></td><td>// zero suppression of the index of a definition slot</td></tr>
    <tr><td><code>#stop11&nbsp;<mark>-</mark>192</code></td><td>// the value of a negative number</td></tr>
    <tr><td><code>#stop22<mark>␣</mark></code></td><td>// an empty definition slot with delimiter</td></tr>
    <tr><td><code>#stop33</code></td><td>// the omission of the delimiter which divides a command and a value</td></tr>
    <tr><td><code>#if<mark title="tab">⇥&nbsp;&nbsp;&nbsp;</mark>4</code></td><td>// delimiter by a <abbr title="tabulator">Tab</abbr> character</td></tr>
    <tr><td><code>#bpm&nbsp;<mark>2.147484e+0.9</mark></code></td><td>// exponential notation</td></tr>
    <tr><td><code>#bpm99&nbsp;12.375<mark>f</mark></code></td><td>// The option flag in IIDXv and HDX (BMSE hangs-up)</td></tr>
    <tr>
     <td><code>#WAV60&nbsp;ura_63<mark>.</mark>wav</code></td>
     <td><p>// actual filename is <q><code>ura_63<mark>..</mark>wav</code></q></p>
      <p>(<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</p></td>
    </tr>
    <tr>
     <td><code>#bga01<mark title="tab">⇥&nbsp;</mark>fz<mark title="half-width space *1">␣</mark>512<mark title="half-width space *2">␣␣</mark>256<mark title="half-width space *2">␣␣</mark>768<mark title="half-width space *2">␣␣</mark>384<mark title="half-width space *2">␣␣</mark>0<mark title="half-width space *3">␣␣␣</mark>64<mark title="half-width space *2">␣␣</mark>big.bmp</code></td>
     <td>// the layout which uses two or more tab characters or half-width spaces</td>
    </tr>
    <tr>
     <td><code>#bmp<mark class="DBCS" lang="ja" xml:lang="ja">字</mark>&nbsp;big.bmp</code></td>
     <td>// <abbr title="Double-Byte Character Set">DBCS</abbr> index of a definition slot</td>
    </tr>
    <tr>
     <td><pre class="lh100"><code>#random&nbsp;10
<mark title="tab *1">⇥&nbsp;&nbsp;&nbsp;</mark>#if&nbsp;1
<mark title="tab *2">⇥&nbsp;&nbsp;&nbsp;⇥&nbsp;&nbsp;&nbsp;</mark>#wavZZ&nbsp;foo.wav
<mark title="tab *1">⇥&nbsp;&nbsp;&nbsp;</mark>#else
<mark title="tab *2">⇥&nbsp;&nbsp;&nbsp;⇥&nbsp;&nbsp;&nbsp;</mark>#wavZZ&nbsp;bar.wav
<mark title="tab *1">⇥&nbsp;&nbsp;&nbsp;</mark>#endif
#endrandom</code></pre></td>
     <td class="vab">// the indent by two or more tab characters or half-width spaces</td>
    </tr>
   </tbody>
  </table>
  <p>Some implementations permit the above value as a valid thing.</p>
  <p>However, another implementation considers that these are invalid values.</p>
  <p>Specification has not defined what kind of value is invalid.</p></li>
</ul>

<ul>
 <li><p>Modern implementation is supporting 1295 (1296) kinds of slots.</p>
  <p>The value of each header is defined to the index of [01-ZZ] (or [00-ZZ]).</p></li>
 <li>&lt;measure&gt; is expressed by the 3 number of digits.
  General implementation is supporting [<code>#000</code>-<code>#999</code>].</li>
 <li><p>Some exceptions and notes:</p>
  <table>
   <thead>
    <tr><th scope="col"><abbr title="applications">apps</abbr></th><th scope="col">remarks</th></tr>
   </thead>
   <tbody>
    <tr><td>BMSV</td><td>[000-511]</td></tr>
    <tr><td>DDR</td><td>[000-998]</td></tr>
    <tr><td>bemaniaDX</td><td>[000-399]</td></tr>
    <tr><td>GALLI</td><td>[000-399]</td></tr>
    <tr><td>BGAenc</td><td>[000-249]</td></tr>
    <tr><td>BMEV</td><td>BMEV will be forced to terminate, if the musical score which has the contents only in <code>#000</code> is opened.</td></tr>
    <tr><td>RDM</td><td>RDM cannot scroll the musical score which has the contents only in <code>#000</code>.</td></tr>
    <tr><td>GDAC2</td><td>GDAC2 is overflowed by pasting objects over <code>#170</code>. (fixed in Ver.0.20)</td></tr>
    <tr>
     <td>LR2</td>
     <td>
      <p>Supposing visible (or long-note) objects exist in the head of <code>#000</code>,
       LR2 will insert the empty &lt;measure&gt; of the same length as <code>#000</code> just before <code>#000</code>.</p>
      <p>(This is one of the methods for avoiding “perplexing a user at the time of a game start”. )</p>
      <p>Although this function is convenient, if an object exists in <code>#000</code> and <code>#999</code>, a musical score does not finish normally.</p>
     </td>
    </tr>
    <tr>
     <td>pomu2</td>
     <td>
      <p>As long as sound (key-sound) is sounded, pomu2 does not make a musical score finish.</p>
      <p>However, if sound is still sounded even if a musical score passes over <code>#999</code>, pomu2 will do forced termination.</p>
     </td>
    </tr>
    <tr>
     <td>otama</td>
     <td>
      <p>The document about otama (<a href="https://www.asahi-net.or.jp/~VG5M-OBT/otamadoc.html" title="otama document" class="external" rel="external" hreflang="ja"><span itemprop="url">https://www.asahi-net.or.jp/~VG5M-OBT/otamadoc.html</span></a>)
       has the following description: <q>Measure's maximum number is 1024.</q></p>
      <p>However, this description is mysterious. <code>#1024xx</code> will cause a bug.</p>
     </td>
    </tr>
    <tr>
     <td>MyO2</td>
     <td><p>382. <cite><span class="DBCS" lang="ja" xml:lang="ja">[ニコニコ動画] 組曲</span></cite>
       is done forced termination, before a musical score finishes. Is this unrelated to &lt;measure&gt;?</p>
      <p>The following is quotation of an error message. Since character was garbled partially, it omitted.</p>
      <blockquote><pre class="lh100"><code>TypeError: Error #1010: A term is undefined and has no properties.
        at ::scorenum/()[E:\popstage_5key\com\scorenum.as:44]
        at ::scorenum/setNum()
        at ::o2jam/()[E:\popstage_5key\com\o2jam.as:2951]
        at ::o2jam/()[E:\popstage_5key\com\o2jam.as:2630]
        at ::o2jam/()[E:\popstage_5key\com\o2jam.as:3056]</code></pre></blockquote>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>

<!-- /h3 Behavior in general implementations -->
</section>

<hr>
<!-- /h2 Memo about BMS Spec -->
</section>


<section id="ABOUT-FILENAME-EXTENSIONS-OF-MUSICAL-SCORE-FILE-OF-BMS-FORMAT">
<h2><a href="#ABOUT-FILENAME-EXTENSIONS-OF-MUSICAL-SCORE-FILE-OF-BMS-FORMAT">About filename extensions of musical score file of BMS Format</a></h2>

<section id="OUTLINE" itemscope="itemscope">
<h3><a href="#OUTLINE">Outline:</a></h3>

<ul>
 <li><p>Typical filename extensions are as follows.</p>
  <p class="red">caution: Since there are various views about the origin of these filename extensions, I cannot have responsibility.
   These are trivial names rather than abbreviations.</p>
  <ul>
   <li><dfn><abbr title="Be-Music Script">BMS</abbr></dfn>: Be-Music Script
    (<a href="http://d.hatena.ne.jp/keyword/bms" title="bmsとは - はてなキーワード" class="external" rel="external" hreflang="ja">hatena</a>,
    <a title="Be-Music Script - 위키백과, 우리 모두의 백과사전" href="https://ko.wikipedia.org/wiki/Be-Music_Script" class="external" rel="external" hreflang="ko">wiki[ko]</a>) |
    Source (<a href="https://en.wikipedia.org/wiki/Be-Music_Source" title="Be-Music Source - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">wiki[en]</a>) |
    Source file (<a href="http://bm98.yaneu.com/bm98/bmsformat.html" title="BM98Data_format_specification" class="external" rel="external" hreflang="en">spec</a>,
    <a href="https://ja.wikipedia.org/wiki/BMS_%28%E9%9F%B3%E6%A5%BD%E3%82%B2%E3%83%BC%E3%83%A0%29" title="BMS (音楽ゲーム) - Wikipedia" class="external" rel="external" hreflang="ja">wiki[ja]</a>) |
    Data Format '98 (<a href="http://bm98.yaneu.com/bm98/bm98after.html" class="external" rel="external" hreflang="ja" title="今後のBM98活動のあり方について">bm98after</a>,
    <a href="https://ja.wikipedia.org/wiki/BMS_%28%E9%9F%B3%E6%A5%BD%E3%82%B2%E3%83%BC%E3%83%A0%29" title="BMS (音楽ゲーム) - Wikipedia" class="external" rel="external" hreflang="ja">wiki[ja]</a>)</li>
   <li><dfn><abbr title="Be-Music Extend format">BME</abbr></dfn>: Be-Music Extend format</li>
   <li><dfn><abbr title="Be-Music Longnote format">BML</abbr></dfn>: Be-Music Longnote format</li>
   <li><dfn><abbr title="feeling-PoMu Script">PMS</abbr></dfn>: Po-Mu Script | feeling-PoMu Script (?)</li>
  </ul></li>
 <li>In recent years, these filename extensions only exist mostly for backward compatibility.</li>
 <li>Implementations without the channels which a musical score needs is filtered by a filename extension.</li>
 <li>Since modern implementation was supporting all this, the necessity for filtering faded.</li>
 <li><p>If it is modern implementation, we may change the filename extension of all the musical scores into BMS.</p>
  <p class="red">(But in 9KEYS, we have to change the suffix into PMS (*.pms).</p>
  <p class="red">fgt++/fgt# will display a musical score as BMS-DP (10KEYS), when not doing so.
   Similarly, LR2 will only display BME-SP type 9KEYS as BME-SP. )</p></li>
 <li><p>However, the filename extension is useful when searching musical score files in Windows Explorer.</p>
  <ul>
   <li>“<dfn><abbr title="5-keys">5K</abbr></dfn> is BMS.”</li>
   <li>“<dfn><abbr title="7-keys">7K</abbr></dfn> is BME.”</li>
   <li>“<dfn><abbr title="LongNote">LN</abbr></dfn> is BML.”</li>
   <li>“<dfn><abbr title="9-keys">9K</abbr></dfn> is PMS.”</li>
  </ul>
  <p>For those who know the context of BMS, it is easy to understand this naming.</p>
  <p>(These are intelligible summaries although these include misunderstanding. )</p></li>
 <li><p>There is a format derived from BMS besides these. Please refer to <a href="http://itkhps.web.fc2.com/bmsk.html" title="BMS拡張子表" class="external" rel="external" hreflang="ja"><span itemprop="url">http://itkhps.web.fc2.com/bmsk.html</span></a> for details.</p>
  <ul>
   <li>MGQ: 24KEYS BMS which uses LONG-NOTE channel. “Music Game Quest” came up with pseudo-KEYBOARDMANIA.</li>
   <li>MBM: MacBeat MOD. The BMS musical score using the <code>#WAVCMD</code> must change a filename extension into MBM.</li>
   <li>EMS: 24KEYS BMS based on AngelicPianizm type. KbMediaPlayer (bmse.kpi) is supporting this format still now.</li>
   <li>KMS: 24KEYS BMS based on KeyMani type.</li>
   <li>BAS: BMS-2 Format (BM-A4 &amp; beat arranger extension)</li>
   <li>PHX: PHOENIX type (unknown for details)</li>
   <li>MGF: beatmaster [standard] type (unknown for details)</li>
   <li>BMB: beatmaster [bms] type (unknown for details)</li>
   <li>PMB: beatmaster [pms(Do-Re-Mi Mania)] type (unknown for details)</li>
   <li>D2B: beatmaster [D2R] type (unknown for details)</li>
   <li>DEE: (unknown for details)</li>
  </ul>
  <p>Seeing of almost all these were lost in recent years.</p>
  <p>However, the following formats accomplish original evolution and still in the process of evolution now.</p>
  <ul>
   <li><strong>DTX</strong>: DTXMania (the developed type of DrumMania)</li>
   <li>GDA: BandJam (like GuitarFreaks &amp; DrumMania)</li>
   <li>G2D: SessionStream (extended GDA)</li>
   <li>GFS: Guitar Friends 98</li>
  </ul>
  <p>Please refer to official site for the details of DTX series:
   <a href="http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e" title="qa_dtx_spec_e - DTXMania powered by YAMAHA Silent Session Drums" class="external" rel="external" hreflang="en"><span itemprop="url">http://dtxmania.net/wiki.cgi?page=qa_dtx_spec_e</span></a></p></li>
 <li>The details of typical filename extensions of musical score file are described in the following sections.</li>
</ul>

</section>

<section id="BMS" itemscope="itemscope">
<h3><a href="#BMS">BMS:</a></h3>

<p>The origin of BMS was started as imitation of <cite>beatmania</cite>.
 (<a href="https://en.wikipedia.org/wiki/Beatmania" title="Beatmania - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania</span></a>)</p>
<p>It had five keys (x2) and one turntable (x2).</p>

<dl>
 <dt>historical circumstances:</dt>
 <dd>
  <p><time itemprop="update" datetime="1997-12-10">1997-12-10</time>: <cite>beatmania</cite> started operation.</p>
  <p><time itemprop="update" datetime="1998-05-04">1998-05-04</time>:
   <span itemprop="name">Urao Yane</span> showed the draft of “<strong>Be-Music Data Format</strong>” to <span itemprop="name">NBK</span>.
   This is the foundation of today's BMS format.</p>
  <p><time itemprop="update" datetime="1998-05-05">1998-05-05</time>:
   <span itemprop="name">NBK</span> created the musical score file of HOUSE-music based on the <span itemprop="name">Urao Yane</span>'s draft,
   and submitted it to <span itemprop="name">Urao Yane</span>.</p>
  <p><time itemprop="update" datetime="1998-06-07">1998-06-07</time>:
   At the offline gathering held in the penny arcade “CIRCO PORTO”, <span itemprop="name">Urao Yane</span> exhibited <cite>BM98</cite> ver 1.00.</p>
  <p><time itemprop="update" datetime="1998-06-08">1998-06-08</time>:
   <span itemprop="name">Urao Yane</span> created <a href="http://bm98.yaneu.com/" title="BM98&#39;S ROOMつう" class="external" rel="external" hreflang="ja">his own homepage</a>, and BM98 ver 1.03 was released on the World Wide Web.</p>
  <p><time itemprop="update" datetime="1998-06-28">1998-06-28</time>:
   <span itemprop="name">Kazutoshi Takata</span> released <strong>BMS Viewer</strong> Version0.8.</p>
  <p><time itemprop="update" datetime="1998-07-10">1998-07-10</time>: <span itemprop="name">Urao Yane</span> stopped public release of BM98 temporarily.</p>
  <ul>
   <li>Document which <span itemprop="name">Urao Yane</span> himself wrote about these circumstances:
    <a class="external" rel="external" title="The manuscript published at GameLabo (books sold on April 16, 1999)" hreflang="ja" type="text/plain" href="http://bm98.yaneu.com/bm98/gamelab9904.txt">The manuscript published at <cite>GameLabo</cite>
    (books sold on <time datetime="1999-04-16">April 16, 1999</time>)</a></li>
   <li>Since various reasons caused confusion, <span itemprop="name">Urao Yane</span> stopped the release of BM98 eternally in 1999:
    “<a title="今後のＢＭ９８活動のあり方について" href="http://bm98.yaneu.com/bm98/bm98after.html" class="external" rel="external" hreflang="ja">About the state of BM98 future activity</a>”</li>
  </ul>
  <p><time itemprop="update" datetime="1998-10-20">1998-10-20</time>:
   <span itemprop="name">TIX</span> released <strong>BMS Creator</strong> v0.02.02. (<a title="6.2.1 改版履歴" href="http://www.doits.jp/mediamaximum/contents/bm98/onlinemanual/version.html" class="external" rel="external" hreflang="ja">update history</a>)
    ... We were able to be released from the text-editor at last.</p>
  <p><time itemprop="update" datetime="1998-11-26">1998-11-26</time>: <span itemprop="name">Urao Yane</span> exhibited
   <cite><a title="BM98Data_format_specification" href="http://bm98.yaneu.com/bm98/bmsformat.html" class="external" rel="external" hreflang="en">BMS Format Specification</a></cite>.</p>
 </dd>
</dl>


<table>
 <tbody>
  <tr><th scope="row">origin</th><td>BM98</td></tr>
  <tr><th scope="row">support</th><td>all the implementations of BMS</td></tr>
  <tr>
   <th scope="row">header</th>
   <td>
    <code>#PLAYER&nbsp;<var>n</var></code>,
    <code>#GENRE&nbsp;<var>string</var></code>,
    <code>#TITLE&nbsp;<var>string</var></code>,
    <code>#ARTIST&nbsp;<var>string</var></code>,
    <code>#BPM&nbsp;<var>n</var></code>,
    <code>#MIDIFILE&nbsp;<var>midiFilename</var></code>,
    <code>#PLAYLEVEL&nbsp;<var>n</var></code>,
    <code>#RANK&nbsp;<var>n</var></code>,
    <code>#VOLWAV&nbsp;<var>n</var></code>,
    <code>#WAVxx&nbsp;<var>audioFilename</var></code>,
    <code>#BMPxx&nbsp;<var>imageFilename</var></code>,
    <code>#TOTAL&nbsp;<var>n</var></code>,
    <code>#RANDOM&nbsp;<var>n</var></code>,
    <code>#IF&nbsp;<var>n</var></code>,
    <code>#ENDIF</code>,
    <code>#ExtChr&nbsp;<var>SpriteNum</var>&nbsp;<var>BMPNum</var>&nbsp;<var>startX</var>&nbsp;<var>startY</var>&nbsp;<var>endX</var>&nbsp;<var>endY</var>&nbsp;[<var>offsetX</var>&nbsp;<var>offsetY</var>&nbsp;[<var>x</var>&nbsp;<var>y</var>]]</code>
   </td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td>
    <code>#xxx01-06</code>,
    <code>#xxx11-17</code>,
    <code>#xxx21-27</code>,
    <code>#xxx31-36</code>,
    <code>#xxx41-46</code>
   </td>
  </tr>
 </tbody>
</table>

<p>The details about headers are in another section.</p>

<table>
 <caption>about the details of channels:</caption>
 <thead>
  <tr><th scope="col">number</th><th scope="col">object to change</th><th scope="col">remarks</th></tr>
 </thead>
 <tbody>
  <tr>
   <td><code>#xxx01</code></td>
   <td><dfn><abbr title="BackGround Music">BGM</abbr></dfn></td>
   <td><p>The file defined as <code>#WAVxx</code> is placed as audio-objects which should sound automatically.</p>
    <p>Only this channel can describe multiple lines to the same measure. <code>#xxx01</code> is not merged.</p></td>
  </tr>
  <tr>
   <td><code>#xxx02</code></td>
   <td>MEASURE-LENGTH</td>
   <td><p><code>#xxx02</code> operates Meter. <a href="https://en.wikipedia.org/wiki/Metre_%28music%29" title="Meter (music) - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Metre_%28music%29</span></a></p>
    <ul class="noMarginTop">
     <li><p>The length of measure is specified with an integer or a floating-point.</p>
      <ul>
       <li>The value 1 is 4/4 meter. <code>#xxx01:11223344</code> Length is equivalent to four quarter-notes.</li>
       <li>The value 2 is 8/4 meter. <code>#xxx01:1122334411223344</code> Length is equivalent to eight quarter-notes.</li>
       <li>The value 0.75 is 3/4 meter. <code>#xxx01:112233</code> Length is equivalent to three quarter-notes.</li>
       <li><p>The value 0.015625 is 1/64 meter. Length is equivalent to only one <a href="https://en.wikipedia.org/wiki/Sixty-fourth_note" title="Sixty-fourth note - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">hemidemisemiquaver</a>.</p>
        <p>1/64 is the minimum length that BMSE can edit.</p></li>
       <li><p>The value 0.01 is the length equivalent to 1% of usual quadruple measure.</p>
        <p>BMSE rounds this value 0.01, because BMSE handles the length as multiples of 0.01625.</p>
        <p><img src="content/bmse_material_beat_humanshield.png" alt="BMSE rounds a value 0.01 and changes it into 0.01625" width="209" height="65"></p></li>
       <li>Since BMSE and beditor relates length with a musical note and handles it, it is easy to write a musical score by a musical view.
        That is, BMSE and beditor are good at edit of <a href="https://en.wikipedia.org/wiki/List_of_musical_works_in_unusual_time_signatures" title="List of musical works in unusual time signatures - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">unusual time signatures</a>.</li>
       <li><p>Since BMSC and GDAC2 handles length as simple length, they are easy to write a musical score by the percentage.
        That is, they are good at edit of a scroll speed change unrelated to music.</p>
        <table>
         <thead><tr><th scope="col">BPM</th><th scope="col">length of measure</th><th scope="col">ratio = afterBPM / standardBPM</th></tr></thead>
         <tbody>
          <tr><td>121</td><td>1.008333333333333</td><td>121/120 (BMSE cannot interpret correctly)</td></tr>
          <tr><td>120</td><td>1</td><td>120/120 (BMSE can interpret correctly)</td></tr>
          <tr><td>119</td><td>0.991666666666666</td><td>119/120 (BMSE cannot interpret correctly)</td></tr>
         </tbody>
        </table>
        <p>In the situation which does not change actual BPM of music,
        the stage effects which change only the scroll speed of a musical score are commonly called
        <span class="DBCS" lang="ja" xml:lang="ja">ソフラン</span>
        (<a href="https://www.youtube.com/watch?v=n7wVTsTUdp4" title="SOFT LANDING ON THE BODY(7keys)20110517 - YouTube" class="external" rel="external">soft landing</a>) in Japan.
        The joke BMS about this can download at a <!-- href="https://web.archive.org/web/*/http://kobe.cool.ne.jp/softlanding/" -->
        <a href="http://yoruiro2s.s362.xrea.com/iidxcontroller/bms/index.html" title="beatmaniaIIDX soflan style UNOFFICIAL SITE" class="external" rel="external" hreflang="ja">joke site</a>.</p></li>
       <li>iBMSC (3.0 or later) is a hybrid of both. The rhythm which we cannot edit does not exist any longer theoretically.</li>
      </ul></li>
     <li><p>In BMS, the value of <code>#xxx02</code> acts only on the <code>#xxx</code>.</p>
      <p>If music is triple measure completely, it is necessary to specify <code>#xxx02</code> to all the measures.</p></li>
     <li><p>In DTX, the value of <code>#xxx02</code> becomes effective until another <code>#yyy02</code> appears.</p>
      <p>If music is triple measure completely, what is necessary is to specify <code>#00002:0.75</code> only once.</p></li>
     <li>In BMS, the default value 1 is implicitly applied to the &lt;measure&gt; on which this channel was omitted.</li>
     <li><p>If <code>#99902</code> exists, nazo will not finish a musical score until scroll reaches <code>#999</code>.</p>
      <ul>
       <li>If <code>#xxx02</code> is described behind the end point of music even if music has already finished,
        nazo will have misunderstanding as if the object which has not been processed yet remained.</li>
       <li>In BMSE, the “Beat” tab's “All” button Selects all <code>#000</code>-<code>#999</code>.</li>
       <li>If 3/4 is specified from this state, all <code>#000</code>-<code>#999</code> will be changed into 3/4 meter.</li>
       <li>For example, this function must be very convenient when editing the musical score of triple measure.</li>
       <li>However, because nazo is foolish, we cannot entrust work to this function.</li>
      </ul>
      <table id="M999L1">
       <thead>
        <tr>
         <th scope="col"><code>#TITLE&nbsp;test</code></th>
         <th scope="col">Apps which continue for 33 minutes</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td class="lh100"><pre><code>#BPM&nbsp;120
#00111:01
#99902:1</code></pre></td>
         <td>nBMplay, BMEV, DDR, RDM, nazo, IIDXv, HDX, Angolmois</td>
        </tr>
       </tbody>
      </table></li>
     <li><p>Although BM98 was implementing this channel, it was not shown in specifications.</p>
      <p>Probably owing to it, the concept of Meter did not spread to some games.</p></li>
    </ul>
   </td>
  </tr>
  <tr>
   <td><code>#xxx03</code></td>
   <td><dfn><abbr title="Beats Per Minute">BPM</abbr></dfn></td>
   <td>[01-FF] placed as an object is interpreted as the integer BPM of [1-255]. <code>00</code> is a musical rest symbol.</td>
  </tr>
  <tr>
   <td><code>#xxx04</code></td>
   <td><dfn><abbr title="BackGround Animation">BGA</abbr></dfn>-BASE</td>
   <td>The file defined as <code>#BMPxx</code> is placed as image-objects which will be displayed during the usual play.</td>
  </tr>
  <tr>
   <td><code>#xxx05</code></td>
   <td>Extended Object</td>
   <td>The object defined by <code>#ExtChr</code> is placed. Only BM98 supports this.</td>
  </tr>
  <tr>
   <td><code>#xxx06</code></td>
   <td>BGA-POOR</td>
   <td>The file defined as <code>#BMPxx</code> is placed as image-objects which will be displayed if note is overlooked.</td>
  </tr>
  <tr>
   <td><code>#xxx11</code></td>
   <td><abbr title="single-Player">1P</abbr>-side KEY1</td>
   <td>The file defined as <code>#WAVxx</code> is placed as audio-objects which should be performed by player.</td>
  </tr>
  <tr>
   <td><code>#xxx12</code></td>
   <td>1P-side KEY2</td>
   <td>ditto. That is, <code>#xxx1n</code> is a lane for musical note symbols which should be performed.</td>
  </tr>
  <tr>
   <td><code>#xxx13</code></td>
   <td>1P-side KEY3</td>
   <td>ditto. The musical score for 1P is displayed on the left-hand side of a screen.</td>
  </tr>
  <tr>
   <td><code>#xxx14</code></td>
   <td>1P-side KEY4</td>
   <td>ditto. KEYs are five buttons which a keyboard type input device has.</td>
  </tr>
  <tr>
   <td><code>#xxx15</code></td>
   <td>1P-side KEY5</td>
   <td>ditto. The player must hit the KEY corresponding to directions of a musical score.</td>
  </tr>
  <tr>
   <td><code>#xxx16</code></td>
   <td>1P-side SCRATCH</td>
   <td>ditto. <code>#xxx16</code> is a lane for notes which should be performed by rotating a turntable.</td>
  </tr>
  <tr id="FREE-ZONE">
   <td><code>#xxx17</code></td>
   <td>1P-side FREE-ZONE</td>
   <td>
    <ul class="noMarginTop">
     <li><p><code>#xxx17</code> sets <b>the section which can scratch a turntable freely</b>.</p>
      <ul>
       <li>The section from “the position which placed the object” to “the length of one quarter note” becomes one FREE-ZONE.</li>
       <li>If a new object is placed in <code>#xxx17</code> before a FREE-ZONE closes, the length of the FREE-ZONE will be extended.</li>
       <li><p>If the section set by <code>#xxx17</code> contains the SCRATCH objects of <code>#xxx16</code>,
        SCRATCH objects will be displayed overlying a FREE-ZONE.</p>
<div id="FREEZONE"><pre><code>#00611:0011000000000000
#00614:1400001400000000
#00616:00000000<mark>0016</mark>0000
#00617:00000000<mark>1700</mark>0000</code></pre><p><img src="content/u-gotta-groove.png" alt="“u gotta groove” #006 (from beatmania 2ndMIX)" width="54" height="97"></p></div></li>
       <li>Whatever the length, one FREE-ZONE is counted as one note which should be performed.</li>
       <li>Whatever the number, the turntable objects in a FREE-ZONE are not counted to the note which should be performed.</li>
       <li><p>When there are one or more turntable objects in one FREE-ZONE, the judgment branches to three kinds.</p>
        <ol>
         <li value="0">When they are all performed to the best timing, “the best score to one note” is obtained.</li>
         <li>When a turntable is not once scratched in the FREE-ZONE section, a score is not obtained.</li>
         <li>Other case means one note was performed to the timing which is not bad. A so-so score is obtained.</li>
        </ol></li>
       <li><p>When a turntable object does not exist in one FREE-ZONE, the judgment branches to two kinds.</p>
        <ol>
         <li>When a turntable is not once scratched in the FREE-ZONE section, a score is not obtained.</li>
         <li>Other case means one note was performed to the timing which is not bad. A so-so score is obtained.</li>
        </ol>
        <p>When FREE-ZONE without turntables exists in a musical score, “a perfect result” is not obtained by any means.</p></li>
       <li>How are they related about the sound assigned to <code>#xxx16</code>, the sound assigned to <code>#xxx17</code>,
        and the sound actually sounded? Although I must have investigated about the affair before, I cannot remember the result.</li>
       <li><a href="https://www.youtube.com/watch?v=TxBCnbX5QEw" title="beatmania - u gotta groove - YouTube" class="external" rel="external">The same rendering as <cite>beatmania</cite></a>
        is expected in implementation which supports the FREE-ZONE.</li>
       <li><p>Only BM98, BMSC, BMSV, nBMplay, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?)</ins>,
         and fgt (the first version) are supporting this specification.</p>
        <ul>
         <li>Too complicated specification requires extremely hard work of programmers.</li>
         <li>It is difficult to make FREE-ZONE live together with the concept of score.</li>
         <li>FREE-ZONE was removed in beatmania 3rdMIX: <time itemprop="update" datetime="1998-09-28">1998-09-28</time></li>
        </ul></li>
       <li><p><del datetime="2011-12-31T00:00:00+09:00">I am interested in modern FREE-ZONE. What kind of specification should it define?</del></p>
        <ul>
         <li><del datetime="2011-12-31T00:00:00+09:00">It has channels about itself like long-note,
          and will set the section by the starting point and the end point.</del></li>
         <li><del datetime="2011-12-31T00:00:00+09:00">FREE-ZONE must be applicable also to the line of not only turntables but keys.</del></li>
         <li><del datetime="2011-12-31T00:00:00+09:00">FREE-ZONE must be separated as objects unrelated to the count of the score and notes.</del></li>
        </ul>
        <p><del datetime="2011-12-31T00:00:00+09:00">However, the better format will appear.
         Because all the objects should be able to have not a point but the section.</del></p></li>
      </ul></li>
     <li><p>In recent years, the channel <code>#xxx17</code> is hardly used as FREE-ZONE.</p>
      <ul>
       <li>nanasi and Angolmois use this channel for FOOT-PEDAL objects.</li>
       <li>nanasi, pomu2, and Angolmois use this channel as one of the buttons of 18KEYS (PMS-<dfn><abbr title="Double Play">DP</abbr></dfn>).</li>
       <li>LR2, PMSee-V, pomu2, and Angolmois use this channel as one of the buttons of 9KEYS (BME-type-PMS).</li>
      </ul></li>
    </ul>
   </td>
  </tr>
  <tr>
   <td><code>#xxx21-27</code></td>
   <td>2P-side Visible object</td>
   <td><p>Musical note symbols which a right-hand side player should perform.</p>
    <p><code>21-25</code> are keyboard controls, <code>26</code> is a turntable, and <code>27</code> corresponds to a FREE-ZONE.</p>
   </td>
  </tr>
  <tr>
   <td><code>#xxx31-36</code></td>
   <td>1P-side Invisible object</td>
   <td><p>The invisible object is not displayed, is not judged and is not added to a score.</p>
    <p>This is for changing into another sound the sound assigned to the key.</p>
    <ul class="noMarginTop">
     <li>For the ad lib performance by a player.</li>
     <li>For Easter eggs.</li>
     <li>If two invisible objects sandwich one visible object, it can jeer, when the timing of a player is out of order.</li>
     <li>By placing empty invisible objects, it is possible to make a player mute. For example, in a quiet scene, it is useful.</li>
     <li>In Angolmois, the explosion sound which cannot usually be changed can be changed to some extent by putting an Invisible object and a landmine object on the same position.</li>
    </ul>
   </td>
  </tr>
  <tr>
   <td><code>#xxx41-46</code></td>
   <td>2P-side Invisible object</td>
   <td>
    <ul class="noMarginTop">
     <li>Because of the property, the FREE-ZONE cannot have invisible objects.</li>
     <li>Therefore, the channels <code>#xxx37</code> and <code>#xxx47</code> are not supported. (In BM98, it becomes compile error)</li>
     <li>But implementation which supports <code>#xxx17</code> as one of the keys instead of FREE-ZONE is supporting <code>#xxx37</code>.</li>
     <li>nanasi and pomu2 which support 18KEYS are supporting <code>#xxx47</code> as invisible objects.</li>
     <li>Angolmois can customize all the <code>#xxx[1-6][1-Z]</code> by the “--key-spec” option as playable lane.
      Therefore, Angolmois supports all the <code>#xxx[30-4Z]</code> as Invisible objects.</li>
     <li><p>Some implementations have bugs about invisible objects.</p>
      <ul class="noMarginTop">
       <li>pomu2: When the LIGHT option of a DOUBLE series is applied, the score can exceed theoretical perfect one.</li>
       <li>ditto: Application of the AutoPlay mode will sound invisible objects.</li>
       <li>RDM and the old version of ruvit: Invisible objects are ignored.</li>
       <li>ditto: If a player performs ad lib in the position where invisible objects exist,
        it will be judged as if it was not able to process visible objects. That is, the groove gauge will decrease.</li>
      </ul></li>
    </ul>
   </td>
  </tr>
 </tbody>
</table>

</section>

<section id="BME" itemscope="itemscope">
<h3><a href="#BME">BME:</a></h3>

<p><cite>beatmaniaIIDX</cite> had seven keys (x2) and one turntable (x2). (<a href="https://en.wikipedia.org/wiki/Beatmania_IIDX" title="Beatmania IIDX - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania_IIDX</span></a>)</p>

<dl>
 <dt>historical circumstances:</dt>
 <dd>
  <p><time itemprop="update" datetime="1999-02-26">1999-02-26</time>: <cite>beatmaniaIIDX</cite> started operation.</p>
  <p>In order to support 7KEYS, <cite>Project2DX</cite> which is an extended format of BMS was proposed by <span itemprop="name">Urami</span>.</p>
  <ul>
   <li>This format uses channel <code>#xxx21</code> as “1P-side KEY6 in 7KEYS mode”.</li>
   <li>This format uses channel <code>#xxx22</code> as “1P-side KEY7 in 7KEYS mode”.</li>
   <li>By using the <code>#ExtChr</code>, musical scores change the visual item of BM98 directly.
    That is, <abbr title="5-keys">5K</abbr>-<dfn><abbr title="Double Play">DP</abbr></dfn> is displayed
    like <abbr title="7-keys">7K</abbr>-<dfn><abbr title="Single Play">SP</abbr></dfn>.</li>
   <li>This is pseudo-7KEYS by which the musical score side changes the display of the client side.
    Substantially, it is completely the same as BMS.</li>
  </ul>
  <p><cite>Project2DX</cite> had many problems.</p>
  <ul>
   <li><code>#ExtChr</code> is a BM98 proprietary extension.
    When BMS apps other than BM98 appeared one after another, this format faced the problem of portability.</li>
   <li>The musical score of each needed to have the information for Sevenize, respectively.
    Although this is fit for customization, it is only a stopgap.</li>
   <li>The specification of <code>#ExtChr</code> was only a minimum memo.
    <del datetime="2012-01-16T07:00:00+09:00">The way to Sevenize was prepared only for the programmers.</del></li>
   <li><p><del datetime="2012-01-16T07:00:00+09:00">This format cannot support the musical score for the Double Play of 7KEYS.</del></p>
    <p><ins datetime="2012-01-16T07:00:00+09:00">Although it was a fact that DP was supported, I failed in finding the details about it.</ins></p></li>
  </ul>
  <p><cite>FlashTerminal</cite> which is an extended format of BMS was proposed by <span itemprop="name">Tomohiro Fujii</span>.</p>
  <ul>
   <li>The method of using the reservation channels of BMS for 7KEYS was devised. (<code>#xxx18-19</code>, <code>#xxx28-29</code>)</li>
   <li>I do not know the other details about this format.</li>
  </ul>
  <p>In order to support 7KEYS completely, <cite>BME</cite> which is an extended format of BMS was proposed by <span itemprop="name">TIX</span>.</p>
  <ul>
   <li>BME is the format which made it possible to unify the channel of <cite>FlashTerminal</cite> and BMS, and to edit it by BMSC.</li>
   <li>If the conventional implementation supports extended channels, it is necessary to newly change a design.</li>
   <li>The rule which changes a filename extension into BME was specified
    so that implementation which does not change a design might not read “the musical score file which is using the extended channels”.</li>
  </ul>
 </dd>
 <dt>originally:</dt>
 <dd>
  <p><b class="red">Strict BME does not include the feature which BMSC does not support.</b>
  (via <a href="https://web.archive.org/web/20111114061552/http://nekomimi.name/66_log2006.html#06%2F02%2F14" class="external" rel="external" hreflang="ja" title="ねこことねこみまの日記【2006年のログ】"><span itemprop="url">http://nekomimi.name/66_log2006.html#06/02/14</span></a>)</p>
  <p>When the musical score contains the command which cannot be edited by BMSC, it is unsuitable to use BME as a filename extension.</p>
  <p>For example: <code>#STOPxx&nbsp;n</code>, <code>#BPMxx&nbsp;n</code>,
   <code>#WAV01-FZ</code>, <code>#BMP00-FZ</code>, <code>#BGA00-ZZ</code>, <code>#xxx51-69</code>, etc.</p>
  <p>However, BME is less unsatisfactory than BMS.
   Because the above-mentioned command is an “extended” command in a broad sense.</p>
 </dd>
 <dt>supplement by a quotation person:</dt>
 <dd>
  <p>The conclusion of a previous column is: “The act which forces sharp distinction of BMS and BME is no longer meaningful.”</p>
  <p>I agree with his opinion. It is because the extended command is already natural.</p>
  <p>And it is because implementation which does not support an extended command is no longer used.</p>
  <p>Furthermore, BMSC did not support <code>#RANDOM</code> which is a fundamental command.</p>
  <p>“Strict BME” does not have the perfect upward compatibility to BMS. I judged that the adherence to the origin and strictness was meaningless.</p>
  <p>By the way, I am not opposed to using BME properly as a pronoun of 7KEYS. Although it is not strict, it is more useful than “strict BME”.</p>
 </dd>
</dl>


<table>
 <tbody>
  <tr><th scope="row">origin</th><td>BMSC</td></tr>
  <tr><th scope="row">support</th><td>all the BMS implementations other than BM98, BM98k, BMSV</td></tr>
  <tr>
   <th scope="row">header</th>
   <td><p>In addition to the commands of BMS, most implementations are supporting the following extended commands.</p>
    <p>(It is unrelated to regulation of BME that these are supported.)</p>
    <table>
     <thead><tr><th scope="col">name &amp; value</th><th scope="col">summary</th><th scope="col">BMSC</th><th scope="col">origin</th></tr></thead>
     <tbody>
      <tr><td><code>#STAGEFILE&nbsp;<var>imageFilename</var></code></td><td>splash screen 640x480</td><td>Yes</td><td>BM98k extend</td></tr>
      <tr><td><code>#BPMxx&nbsp;<var>n</var></code></td><td>over255 and/or decimal fraction</td><td>No</td><td>bemaniaDX extend</td></tr>
      <tr>
       <td>
        <code>#BGAxx&nbsp;<var>BMPnum</var>&nbsp;<var>x1</var>&nbsp;<var>y1</var>&nbsp;<var>x2</var>&nbsp;<var>y2</var>&nbsp;<var>dx</var>&nbsp;<var>dy</var></code>
       </td>
       <td>partial trim &amp; display</td>
       <td>No</td>
       <td>BM98de extend</td>
      </tr>
     </tbody>
    </table>
    <p>Since many implementations did not support <code>#MIDIFILE</code> and <code>#ExtChr</code>, they became a de facto non-standard command.</p>
   </td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td><p>In addition to the channels of BMS, most implementations are supporting KEY6 and KEY7.</p>
    <table>
     <thead><tr><th scope="col">number</th><th scope="col">object to change</th><th scope="col">BMSC</th><th scope="col">origin</th></tr></thead>
     <tbody>
      <tr><td><code>#xxx07</code></td><td>BGA-LAYER</td><td>Yes</td><td>BM98k extend: image objects overlying <code>#xxx04</code></td></tr>
      <tr><td><code>#xxx08</code></td><td>Extended BPM</td><td>No</td><td>bemaniaDX extend: real number BPM objects defined by <code>#BPMxx</code></td></tr>
      <tr><td><code>#xxx18-19</code></td><td>1P-side Visible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal extend</td></tr>
      <tr><td><code>#xxx28-29</code></td><td>2P-side Visible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal extend</td></tr>
      <tr><td><code>#xxx38-39</code></td><td>1P-side Invisible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal extend</td></tr>
      <tr><td><code>#xxx48-49</code></td><td>2P-side Invisible KEY6 / KEY7</td><td>Yes</td><td>FlashTerminal extend</td></tr>
     </tbody>
    </table>
    <p>Since many implementations did not support <code>#xxx[1-4]7</code>, they became a de facto non-standard command.</p>
   </td>
  </tr>
 </tbody>
</table>

</section>

<section id="BML" itemscope="itemscope">
<h3><a href="#BML">BML:</a></h3>

<p><cite>EZ2DJ</cite> had five keys (x2), one turntable (x2), two effector-buttons (x2), one footpedal (x2), and the feature of Long-Note.
 (<a href="https://en.wikipedia.org/wiki/EZ2DJ" title="EZ2DJ - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/EZ2DJ</span></a>)</p>

<dl>
 <dt>about Long-Note:</dt>
 <dd>
  <p>On BMS scene of Japan, generally the Long-Note is abbreviated as <dfn><abbr title="Long Note">LN</abbr></dfn>.
   This document follows that custom.</p>
  <p>LN is a note which needs to hold an input state for a definite period of time which was specified. For example, press and hold the key.</p>
  <p>The start point and the end point are set to each LN. In many games, each LN is displayed just like a long stick as a variable-length note.</p>
  <p>Action required of a player is dependent on the context of the game which a musical score imitates.</p>
  <p>Although LN is the operations which hold an input state, another game may require the operation which repeats an input at high speed.</p>
  <p>The another name and the feature about LN may be given in the original game. Some typical kinds are as follows:</p>
  <table>
   <thead><tr><th scope="col">formal name</th><th scope="col">the first appearance</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>Long Notes</td>
     <td><time itemprop="update" datetime="1999-04-20">1999-04-20</time>: Ez2DJ THE 1st TRACKS</td>
     <td><p>Do keydown at starting point and hold it.</p>
      <p><a class="external" rel="external" hreflang="ja" title="EZ2DJの歩み｜WGC_TENCHO｜note" href="https://note.com/wgc_tencho/n/nc7306a39a192">Keyup at end point <del datetime="2021-01-03T15:00:00+09:00">is unnecessary.</del>
       <ins datetime="2021-01-03T15:00:00+09:00">was needed at first, but no longer needed.</ins></a></p></td>
    </tr>
    <tr>
     <td>Long Notes</td>
     <td><time itemprop="update" datetime="2000-02-06">2000-02-06</time>: KEYBOARDMANIA</td>
     <td>Do keydown at starting point and hold it. Keyup at end point is necessary.</td>
    </tr>
    <tr>
     <td>Keep-kun (<span class="DBCS" lang="ja" xml:lang="ja">キープ君</span>)</td>
     <td><time itemprop="update" datetime="2000-04-20">2000-04-20</time>: pop'n music MICKEY TUNES</td>
     <td><p>Not variable-length note but fixed-length note is displayed.</p>
      <p>Pushed note is displayed like a Progress-bar. This is a required time gauge.</p></td>
    </tr>
    <tr>
     <td><img src="content/kintaro-ame.png" alt="(Name unknown)" width="100" height="42"></td>
     <td><time itemprop="update" datetime="2001-02-21">2001-02-21</time>: Taiko no Tatsujin</td>
     <td><p>All the objects that have length are objects which should be hit repeatedly.</p>
      <p>This is not a symbol which divides one action into keydown-keep-keyup.</p>
      <p>This is a symbol of countless keydown action. This is like a cookie-cutter.</p>
      <p>(Probably since this time, about each long obj, names correspond to natures.)</p></td>
    </tr>
    <tr>
     <td>freeze arrows</td>
     <td><time itemprop="update" datetime="2001-10-19">2001-10-19</time>: DDRMAX -DDR 6thMIX-</td>
     <td><p>Hold treading on a panel. Putting leg up at end point is unnecessary.</p>
      <p><a class="external" rel="external" hreflang="ja" title="【DDR用語の基礎知識】『フリーズアロー』" href="http://mp.i-revo.jp/user.php/rjmwurxs/entry/4.html">While it is less than quarter note, even if we change step, freeze arrows don't break off.</a></p>
      <p>Probably, the judgment is eased in consideration of the operation of “treading on a panel”.</p>
      <p>(In a sense, this is the combination of press&amp;hold and continuous-hits.)</p></td>
    </tr>
    <tr>
     <td>one rotating scratch</td>
     <td><time itemprop="update" datetime="2002-01-31">2002-01-31</time>: beatmania 7thMIX</td>
     <td><p>Rotating 360 degrees of turntables, by the time it reaches an end point must be completed.</p>
      <p>The more the angle turned in the section is close to 360 degrees, the more a score.</p>
      <p>Stopping rotation exactly at end point is unnecessary.</p></td>
    </tr>
    <tr>
     <td>Analog Notes</td>
     <td><time itemprop="update" datetime="2006-01-14">2006-01-14</time>: DJMAX Portable</td>
     <td><p>Continue turning the analog pad of <abbr title="PlayStation Portable">PSP</abbr>. While the input continues, a combo increases.</p>
      <p>It is necessary to continue an input until it arrives at end point.</p></td>
    </tr>
    <tr>
     <td>Holding Long Note</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>Hold finger on the circular note until the time line passes the blue line at the end of the note.</td>
    </tr>
    <tr>
     <td>Dragging Long Note</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>Drag the circular note along the path while keeping it on the time line.</td>
    </tr>
    <tr>
     <td>Chain Note</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>Hit all notes in the path when time line passes over them.</td>
    </tr>
    <tr>
     <td>Repeat Note</td>
     <td><time itemprop="update" datetime="2008-10-31">2008-10-31</time>: DJMAX TECHNICA</td>
     <td>Keep pressing the circular note each time the time line is on a little purple line that is part of this note.</td>
    </tr>
    <tr>
     <td>Charge Notes</td>
     <td><time itemprop="update" datetime="2009-10-21">2009-10-21</time>: beatmaniaIIDX 17 SIRIUS</td>
     <td>Do keydown at starting point and hold it. Keyup at end point is necessary.</td>
    </tr>
    <tr>
     <td>Backspin Scratch</td>
     <td><time itemprop="update" datetime="2009-10-21">2009-10-21</time>: beatmaniaIIDX 17 SIRIUS</td>
     <td>Do rotating at starting point and keep it. Backspin at end point is necessary.</td>
    </tr>
    <tr>
     <td>----</td>
     <td>touch-device series</td>
     <td>under investigation</td>
    </tr>
   </tbody>
  </table>
  <p>BMS apps other than [nanasi, HDX, Angolmois] are not judged an end point of LN. That is, keyup at end point is unnecessary.</p>
  <ul>
   <li>However, I think that this behavior is not suitable to <abbr title="User Interface">UI</abbr>
    of “expressing a rhythm as a point and relating a point with action”.</li>
   <li>In my personal opinion, if a game system does not force keyup, LN should not display an end point explicitly ---
    the appearance contrary to intuition should avoid.</li>
  </ul>
  <p>LN brings about confusion about how to count notes. This is troublesome for programmers and noters and musical score collectors.</p>
  <ul>
   <li>In some games, LN is counted as one note. That is, LN section (the pair which consists of a start point and an end point) is one note.</li>
   <li>In some games, a start point and an end point are counted as a respectively separate note.</li>
  </ul>
 </dd>
 <dt>historical circumstances:</dt>
 <dd>
  <p><time itemprop="update" datetime="1997-12-10">1997-12-10</time>: <cite>beatmania</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Beatmania" title="Beatmania - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania</span></a>)</p>
  <p><time itemprop="update" datetime="1998-09-28">1998-09-28</time>: <cite>pop'n music</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Pop%27n_Music" title="Pop&#39;n Music - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Pop'n_Music</span></a>)</p>
  <p><time itemprop="update" datetime="1998-11-18">1998-11-18</time>: <cite>Dance Dance Revolution Internet Ranking Version</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Dance_Dance_Revolution" title="Dance Dance Revolution - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Dance_Dance_Revolution</span></a>)</p>
  <p><time itemprop="update" datetime="1999-02-16">1999-02-16</time>: <cite>GUITARFREAKS</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Guitar_Freaks" title="Guitar Freaks - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Guitar_Freaks</span></a>)</p>
  <p><time itemprop="update" datetime="1999-02-26">1999-02-26</time>: <cite>beatmaniaIIDX</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Beatmania_IIDX" title="Beatmania IIDX - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Beatmania_IIDX</span></a>)</p>
  <p><time itemprop="update" datetime="1999-04-20">1999-04-20</time>: <cite>Ez2DJ THE 1st TRACKS -R U Ready to Insida DJ Box?-</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/EZ2DJ" title="EZ2DJ - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/EZ2DJ</span></a>)</p>
  <p><time itemprop="update" datetime="1999-07-10">1999-07-10</time>: <cite>drummania</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/DrumMania_XG" title="DrumMania XG - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/DrumMania_XG</span></a>)</p>
  <p><time itemprop="update" datetime="1999-09-24">1999-09-24</time>: <cite>pop'n stage</cite> started operation.
   (<a href="https://ja.wikipedia.org/wiki/Pop&#39;n_stage" title="Pop&#39;n stage - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="ja"><span itemprop="url">https://ja.wikipedia.org/wiki/Pop'n_stage</span></a>)</p>
  <p><time itemprop="update" datetime="2000-02-06">2000-02-06</time>: <cite>KEYBOARDMANIA</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Keyboardmania" title="Keyboardmania - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Keyboardmania</span></a>)</p>
  <p><time itemprop="update" datetime="2000-06-21">2000-06-21</time>: <cite>Dance Maniax</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Dance_Maniax" title="Dance Maniax - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Dance_Maniax</span></a>)</p>
  <p><time itemprop="update" datetime="2000-09-12">2000-09-12</time>: <cite>ParaParaParadise</cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Para_Para_Paradise" title="Para Para Paradise - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Para_Para_Paradise</span></a>)</p>
  <p><time itemprop="update" datetime="2001-02-21">2001-02-21</time>:
   <cite><span class="DBCS" lang="ja" xml:lang="ja">太鼓の達人</span></cite> started operation.
   (<a href="https://en.wikipedia.org/wiki/Taiko_no_Tatsujin" title="Taiko no Tatsujin - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Taiko_no_Tatsujin</span></a>)</p>
  <p>Many formats derived from BMS appeared and disappeared at this time.
   Probably, the idea which imitates LN was also contained in those some.</p>
  <p>In order to express the musical score of all the above games comprehensively,
   <cite><abbr title="music game quest">MGQ</abbr></cite> which is an extended format of BMS was proposed by <span itemprop="name">quest</span> in 2001.</p>
  <ul>
   <li>This format extended the channel number to the hexadecimal number. It is because <cite>KEYBOARDMANIA</cite> has 24KEYS (x2).</li>
   <li>This format newly reserved the channels for LN. It is because some games featured LN.</li>
   <li>This format defined the notation of LN. However, LN of MGQ form was un-intuitive and difficult to write.</li>
  </ul>
  <p><time itemprop="update" datetime="2001-09-29">2001-09-29</time>:
   In order to solve the problem of MGQ, <span itemprop="name">NvyU</span> proposed LN of <cite>RDM</cite> form. Moreover, it was implemented to RDM 1.21.</p>
  <ul>
   <li>This became a de-facto standard of LN in the present. This is notation which simplified MGQ.</li>
   <li>This notation uses <code>#xxx51-69</code> among the channels which MGQ proposed.</li>
   <li>All the implementations that support LN are implementing this notation.</li>
   <li>RDM in those days needed to specify 1 or 2 to <code>#LNTYPE</code>, in order to distinguish notation of RDM-LN and MGQ-LN.</li>
  </ul>
  <p><time itemprop="update" datetime="2002-02-22">2002-02-22</time>:
   RDM 1.61 also supported the notation of <code>#LNOBJ&nbsp;xx</code> as <cite>RDM type #2</cite>.</p>
  <ul>
   <li><code>#LNOBJ&nbsp;xx</code> is the command which simplified LN of RDM form further.
    <code>#LNOBJ&nbsp;xx</code> does not need the channel <code>#xxx51-69</code> any longer.</li>
   <li>The object of the index specified as <code>#LNOBJ</code> is defined as an end point symbol of LN.</li>
   <li>The object which is just before that by putting an end point on the channel <code>#xxx11-29</code> is interpreted as a LN start point.</li>
   <li>Implementation which does not support <code>#LNOBJ&nbsp;xx</code> interprets LN end point as a usual note.
    The file name extension BML was prepared as a filter so that implementation
    which does not support <code>#LNOBJ&nbsp;xx</code> might not misread a musical score.</li>
   <li>It is recommended that the musical score which uses <code>#LNOBJ&nbsp;xx</code> changes a filename extension into BML.</li>
   <li><p><strong class="red">Strict BML means the musical score which contains only <code>#LNOBJ&nbsp;xx</code> as LN.</strong></p>
    <p><strong class="red">LN of the channel <code>#xxx51-69</code> of a RDM notation is not included in definition of BML.</strong></p></li>
   <li><p>If the filename extension is changed into BMS or BME, strict BML can be edited by BMSC. (If all the indexes are hexadecimal numbers. )</p>
    <p>Originally, BML is the format defined in order to edit LN by BMSC.
     Therefore, <strong class="red">strict BML can become a subset of BME.</strong></p></li>
  </ul>
  <p><time itemprop="update" datetime="2003-08-17">2003-08-17</time>: RDM 1.7 defined <code>#LNTYPE&nbsp;1</code> as a default value.</p>
  <ul>
   <li>Thereby, the <code>#LNTYPE</code> declaration became unnecessary any longer. <code>#LNTYPE&nbsp;2</code> is required only when using MGQ-LN.</li>
   <li><p>Only the BMS implementation which supports both MGQ-LN and RDM-LN needs the <code>#LNTYPE</code> command in a real meaning.</p>
    <p>(For now: RDM, <del>MGQ,</del> WAview, in_bm2, ruvit, Angolmois)</p></li>
   <li><p>Quotation from <a href="https://nvyu.net/rdm/rby_ex.php" title="ruv-it! | support page" class="external" rel="external" hreflang="ko">ruv-it! | support page</a> (free translation by a quotation person):</p>
    <blockquote>
     <p class="ind1">RDM and ruvit are continuing support of MGQ-LN for two reasons.</p>
     <ol>
      <li>Because <cite>MGQ</cite> is a pioneer of LN.</li>
      <li>Because RDM (1.2 and below) was temporarily using it.</li>
     </ol>
     <p class="ind1">Most implementations do not support MGQ-LN any longer. If possible, please do not use MGQ-LN any longer.</p>
    </blockquote></li>
  </ul>
  <p>Some of implementations which do not support <code>#LNOBJ&nbsp;xx</code> read the musical score whose filename extension is BML.</p>
  <ul>
   <li>This is strictly a violation of the BML specification,
    but useful to the implementations which do not know the channel <code>#xxx51-69</code>.</li>
   <li><b><code>#LNOBJ</code> is BML</b> --- it is strictly right. However, that rightness is not so useful any longer nowadays.</li>
   <li><b>LN is BML</b> --- it is misunderstanding. But it is simple and intelligible and practical.</li>
  </ul>
 </dd>
</dl>

<table>
 <caption>strict BML:</caption>
 <tbody>
  <tr><th scope="row">origin</th><td>RDM</td></tr>
  <tr><th scope="row">support</th><td>RDM, nazo, nazoZZ, bme2wav, LR2, nanasi, ruvit, fgt++, fgt#, pomu2, uBMplay, PMSee-V, bmx2wav, iBMSC (3.0 or later), Angolmois</td></tr>
  <tr><th scope="row">channel</th><td>same as BME</td></tr>
  <tr>
   <th scope="row">header</th>
   <td>
    <table>
     <thead><tr><th scope="col">name &amp; value</th><th scope="col">summary</th><th scope="col">origin</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <td><code>#LNOBJ&nbsp;<var><mark>xx</mark></var></code></td>
       <td>using <code>#WAV<var><mark>xx</mark></var></code> as LN end point symbol</td>
       <td>RDM extend</td>
       <td>we should specify index by uppercase. (for compatibility)</td></tr>
     </tbody>
    </table>
   </td>
  </tr>
 </tbody>
</table>

<table>
 <caption>loose BML:</caption>
 <tbody>
  <tr><th scope="row">origin</th><td>WAview</td></tr>
  <tr>
   <th scope="row">support</th>
   <td><p>RDM, nazo, nazoZZ, bme2wav, LR2, nanasi, ruvit, fgt++, fgt#, pomu2, uBMplay, PMSee-V, bmx2wav, iBMSC, Angolmois</p>
    <p><del>DDR (only DDR mode),</del> WAview, in_bm2, BMSE, IIDXv, HDX, O2play, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?)</ins></p>
    <ul class="noMarginTop noMarginBtm">
     <li>DDR is supporting not <code>#LNOBJ&nbsp;xx</code> but RDM-notation <code>#xxx51-69</code> in ARROW mode.</li>
     <li>Since DDR does not meet requirements specification of BML, DDR does not support the filename extension BML. (= DDR is strictly based on regulation)</li>
    </ul>
   </td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td><p>In addition to the channels of BME.</p>
    <table>
     <thead><tr><th scope="col">number</th><th scope="col">object to change</th><th scope="col">origin</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <td><code>#xxx51-59</code></td>
       <td>1P-side LN Object</td>
       <td>MGQ extend</td>
       <td>It is implementation-dependent whether <code>#xxx57</code> and <code>#xxx67</code> are supported.</td>
      </tr>
      <tr>
       <td><code>#xxx61-69</code></td>
       <td>2P-side LN Object</td>
       <td>MGQ extend</td>
       <td>
        <dl class="noMarginTop noMarginBtm">
         <dt><code>#LNTYPE&nbsp;1</code>:: RDM-notation:</dt>
          <dd>
           <p>It will be a LN start point if the index which is not <code>00</code> is found.</p>
           <p>It will be a LN end point if the index which is not <code>00</code> is found next.</p>
          </dd>
         <dt><code>#LNTYPE&nbsp;2</code>:: MGQ-notation:</dt>
          <dd>
           <p>LN section will be opened when indexes other than <code>00</code> are found.</p>
           <p>LN section will be filled up with indexes other than <code>00</code>.</p>
           <p>LN section will be closed when the next <code>00</code> is found.</p>
          </dd>
        </dl>
       </td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr><th scope="row">header</th><td>same as BME</td></tr>
 </tbody>
</table>

</section>

<section id="PMS" itemscope="itemscope">
<h3><a href="#PMS">PMS:</a></h3>

<p><cite>pop'n music</cite> had nine colorful buttons, and dancing characters. (<a href="https://en.wikipedia.org/wiki/Pop%27n_Music" title="Pop&#39;n Music - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en"><span itemprop="url">https://en.wikipedia.org/wiki/Pop'n_Music</span></a>)</p>

<dl>
 <dt>historical circumstances:</dt>
 <dd>
  <p><time itemprop="update" datetime="1998-09-28">1998-09-28</time>: <cite>pop'n music</cite> started operation.</p>
  <p><time itemprop="update" datetime="2000-04-28">2000-04-28</time>:
   <cite>doremimania</cite> was released by <span itemprop="name">Koutaro Izumi</span> as a trainer which imitated <cite>KEYBOARDMANIA</cite>.</p>
  <ul>
   <li>This software proposed and implemented the suffix <strong>PMS</strong> as proprietary extension.</li>
   <li>In my guess, this PMS is an abbreviation of Piano-Music-Script. This notation completely differs from BMS. They are separate formats.</li>
   <li>Therefore, compatibility is not between “PMS which doremimania supports” and “PMS which is the subsets of BMS”.</li>
   <li>We are not concerned here with doremimania-PMS. (proxy for distribution of doremimania:
    <a class="external" rel="external" hreflang="ja" title="-FrojectD-" href="https://web.archive.org/web/*/http://www.geocities.co.jp/Athlete-Athene/7809/frojectd.html"><span itemprop="url">https://web.archive.org/web/*/http://www.geocities.co.jp/Athlete-Athene/7809/frojectd.html</span></a>)</li>
  </ul>
  <p><time itemprop="update" datetime="2001-09-05">2000-09-05</time>: In order to support 9-buttons (9KEYS),
   <span itemprop="name">Nekomi</span> released <b>feeling pomu</b> 1.41 Test5.
   (<cite><span class="DBCS" lang="ja" xml:lang="ja">ふぃーりんぐぽみゅ</span></cite>)</p>
  <ul class="noMarginTop noMarginBtm">
   <li>This software specializes in 9BUTTONS. The musical score of BMS or BME is automatically spread on nine lines at the time of a game start.</li>
   <li>This software proposed and implemented <strong>PMS</strong> which is the subsets of BMS format.
    PMS is a musical score which specializes in 9BUTTONS.</li>
   <li>PMS is the filename extension for displaying the channel <code>#xxx11-15</code> and <code>#xxx22-25</code> of BMS as pseudo-pop'n-music.</li>
   <li>Although the suffix PMS had already existed as proprietary extension of doremimania, it is unrelated to pomu-PMS.</li>
  </ul>
  <p><time itemprop="update" datetime="2002-09-23">2002-09-23</time>:
   <b>feeling pomu second</b> Ver 0.60 was released as an upgrade version of feeling pomu.
   (<cite><span class="DBCS" lang="ja" xml:lang="ja">ふぃーりんぐぽみゅせかんど</span></cite>)</p>
  <ul class="noMarginTop noMarginBtm">
   <li>On the support page, <span itemprop="name">Nekomi</span> is abbreviating “feeling pomu” as “<b class="DBCS" lang="ja" xml:lang="ja">ぽみゅ</b>”
    and “feeling pomu second” as “<b class="DBCS" lang="ja" xml:lang="ja">みゅに</b>”.</li>
   <li>pomu2 supported LN of both RDM-notation <code>#xxx51-69</code> and <code>#LNOBJ&nbsp;xx</code>, and supported the filename extension BML.</li>
   <li><p>More than PMS is a filter, it is required in order to force 9BUTTONS mode.
    It is because <strong class="red">9KEYS is BMS-DP</strong> substantially.</p>
    <ul>
     <li>The method of distinguishing between BMS-DP and 9KEYS does not exist other than the filename extension.</li>
     <li>Therefore, as for the musical score which specializes in 9KEYS, filename extension must be changed into PMS.</li>
     <li>Furthermore, implementation which supports PMS must be able to interpret LN, even if a filename extension is not BML.</li>
    </ul></li>
   <li><p>pomu2 also proposed and implemented 18BUTTONS (PMS-DP). This is the original feature which does not exist in the arcade versions.</p>
    <ul>
     <li>18KEYS uses all the channels <code>#xxx11-29</code> as objects which should be hit.
      <strong class="red">18KEYS is BME-DP</strong> substantially.</li>
     <li>Therefore, as for the musical score which specializes in 18KEYS, filename extension must be changed into PMS.</li>
    </ul></li>
  </ul>
  <p><time itemprop="update" datetime="2009-09-16">2009-09-16</time>:
   LR2 beta3 090916 extended “the channels which should be interpreted when the filename extension of a musical score is PMS”.</p>
  <ul class="noMarginTop noMarginBtm">
   <li>In short, LR2 interprets not only BMS-DP but <strong class="red">BME-SP</strong> as appropriate PMS.</li>
   <li>pomu2 is supporting this mapping from the beginning. nanasi interprets this mapping as foot pedal mode.</li>
   <li><p>LR2 (beta3 090916 and above) can be called from editor-apps.
     <span class="red">But when 9KEYS musical score under edit is previewed, LR2 does not apply the 9KEYS display.</span></p>
    <p><ins datetime="2014-02-07T18:30:00+09:00"><time datetime="2014-02-05">2014-02-05</time>:
     The method of solving this problem was proposed by <span itemprop="name">Misty.ls04</span>.
     (<a href="https://twitter.com/misty_ls04/status/431288455231193088" class="external" rel="external" hreflang="ja" title="Twitter / misty_ls04:"><span itemprop="url">https://twitter.com/misty_ls04/status/431288455231193088</span></a>)</ins></p>
    <p><ins datetime="2014-06-06T04:30:00+09:00"><time datetime="2014-06-01">2014-06-01</time>:
     “lr2_pmsview_helper” for solving this problem was released by <span itemprop="name">Misty.ls04</span>.
     See <a href="https://hitkey.nekokan.dyndns.info/diary1406.php#D140606" class="external" rel="external" hreflang="en">my article</a>.</ins></p></li>
  </ul>
 </dd>
</dl>

<table>
 <tbody>
  <tr><th scope="row">origin</th><td>pomu</td></tr>
  <tr>
   <th scope="row">support</th>
   <td>
    <table>
     <tbody>
      <tr><th scope="row">9KEYS (BMS-DP):</th><td>pomu2, WAview, in_bm2, LR2, nanasi, fgt++, fgt#, GDAC2, BMSE, uBMplay, PMSee-V, bmx2wav,
       iBMSC (3.0+), Angolmois (2.0a2 or later)</td></tr>
      <tr><th scope="row">9KEYS (BME-SP):</th><td>pomu2, LR2, GDAC2 (774gsc), PMSee-V, bmx2wav, Angolmois (2.0a2 or later)</td></tr>
      <tr><th scope="row">18KEYS (BME-DP):</th><td>pomu2, nanasi, GDAC2 (774gsc), bmx2wav, Angolmois (2.0a2 or later, by <code>--key-spec</code>)</td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">header</th>
   <td>In order to maintain compatibility, specifying <code>#PLAYER&nbsp;3</code> to PMS is recommended.</td>
  </tr>
  <tr>
   <th scope="row">channel</th>
   <td>
    <table>
     <thead>
      <tr>
       <td></td>
       <th scope="col">1</th>
       <th scope="col">2</th>
       <th scope="col">3</th>
       <th scope="col">4</th>
       <th scope="col">5</th>
       <th scope="col">6</th>
       <th scope="col">7</th>
       <th scope="col">8</th>
       <th scope="col">9</th>
       <th scope="col">remarks</th></tr>
     </thead>
     <tbody>
      <tr>
       <th scope="row">9KEYS (BMS-DP):</th>
       <td><code>11</code></td><td><code>12</code></td><td><code>13</code></td><td><code>14</code></td><td><code>15</code></td>
       <td><code>22</code></td><td><code>23</code></td><td><code>24</code></td><td><code>25</code></td><td>standard PMS</td>
      </tr>
      <tr>
       <th scope="row">9KEYS (BME-SP):</th>
       <td><code>11</code></td><td><code>12</code></td><td><code>13</code></td><td><code>14</code></td><td><code>15</code></td>
       <td><code>18</code></td><td><code>19</code></td><td><code>16</code></td><td><code>17</code></td><td>not known or well known</td>
      </tr>
      <tr>
       <th scope="row" rowspan="2" class="vam">18KEYS (BME-DP):</th>
       <td><code>11</code></td><td><code>12</code></td><td><code>13</code></td><td><code>14</code></td><td><code>15</code></td>
       <td><code>18</code></td><td><code>19</code></td><td><code>16</code></td><td><code>17</code></td><td>1P-side (left)</td>
      </tr>
      <tr>
       <td><code>21</code></td><td><code>22</code></td><td><code>23</code></td><td><code>24</code></td><td><code>25</code></td>
       <td><code>28</code></td><td><code>29</code></td><td><code>26</code></td><td><code>27</code></td><td>2P-side (right)</td>
      </tr>
     </tbody>
    </table>
    <ul>
     <li>Invisible <code>#xxx31-49</code> and LN <code>#xxx51-69</code> <ins datetime="2013-06-17T02:00:00+09:00">and Landmine <code>#xxxD1-E9</code></ins>
      follow mapping of visible-object channels.</li>
     <li><p><code>#xxx<mark>X7</mark></code> which was channels for FREE ZONE is used.</p>
      <ul>
       <li>BMSE: Since BMSE throws away <code>#xxx<mark>X7</mark></code>, edit is difficult.</li>
       <li><p>GDAC2 + 774gsc: For now, this is the best choice. But the response of GDAC2 is not good.</p>
        <p><a href="content/bmse_help_full/Capture/bmse_header_player3_pms4.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_player3_pms4.png</span></a></p></li>
       <li><p>BMSC: Edit can be begun most quickly. Because BMSC is the only editor which supports FREE ZONE.</p>
        <p><img src="content/bmsc-18keys.png" alt="18KEYS_by_BMSC" width="293" height="84"></p></li>
      </ul></li>
    </ul>
   </td>
  </tr>
 </tbody>
</table>

<!-- /h3: PMS -->
</section>

<hr>
<!-- /h2: About filename extensions of musical score file of BMS Format -->
</section>




<section id="TRENDS-IN-USE-OF-COMMANDS">
<h2><a href="#TRENDS-IN-USE-OF-COMMANDS">Trends in use of commands</a></h2>

<section id="MAJOR-EXTENDED-COMMAND">
<h3><a href="#MAJOR-EXTENDED-COMMAND">major extended command:</a></h3>
<table>
 <thead><tr><th scope="col">command line</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">channel</th></tr>
  <tr><td><code>#xxx07</code></td><td>BGA-LAYER</td><td>BM98k</td></tr>
  <tr><td><code>#xxx08</code></td><td>BPM-change « <code>#BPMxx&nbsp;<var>n</var></code></td><td>bemaniaDX</td></tr>
  <tr><td><code>#xxx09</code></td><td>STOP-sequence « <code>#STOPxx&nbsp;<var>n</var></code></td><td>DDR</td></tr>
  <tr><td><code>#xxx51-<del>5F</del><ins>59</ins></code></td>
   <td>1P-side LN (RDM-notation) « <code>#LNTYPE&nbsp;1</code> (omissible except O2mania)</td><td>MGQ</td></tr>
  <tr><td><code>#xxx61-<del>6F</del><ins>69</ins></code></td>
   <td>2P-side LN (RDM-notation) « <code>#LNTYPE&nbsp;1</code> (omissible except O2mania)</td><td>MGQ</td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">header</th></tr>
  <tr><td><code>#BPMxx&nbsp;<var>n</var></code></td><td>definition of real number BPM » <code>#xxx08</code></td><td>bemaniaDX</td></tr>
  <tr><td><code>#STOPxx&nbsp;<var>n</var></code></td>
   <td>definition of STOP sequence (1 corresponds 1/192 of measure as 4/4 meter) » <code>#xxx09</code></td><td>DDR</td></tr>
  <tr><td><code>#LNOBJ&nbsp;<var>xx</var></code></td>
   <td>definition of LN end point symbol (RDM-type #2) « <code>#WAVxx&nbsp;<var>filename</var></code></td><td>RDM</td></tr>
  <tr><td><code>#WAV<var>[01-ZZ]</var>&nbsp;<var>filename</var></code></td><td>index extended to Base36</td><td>bemaniaDX</td></tr>
  <tr><td><code>#BMP<var>[00-ZZ]</var>&nbsp;<var>filename</var></code></td><td>index extended to Base36</td><td>nanasi</td></tr>
  <tr><td><code>#WAVxx&nbsp;<var>oggfilename</var></code></td>
   <td>definition of Ogg to <code>#WAVxx</code>, and Alternative search of the homonymous files from which only a suffix differs</td><td>DDR</td></tr>
  <tr><td><code>#BMPxx&nbsp;<var>videofilename</var></code></td>
   <td>definition of Video to <code>#BMPxx</code>, and Alternative search which excepted the suffix of files</td><td>LR</td></tr>
  <tr><td><code>#SUBTITLE&nbsp;<var>string</var></code></td>
   <td>Note: This is a command different from “implicit subtitle (bemaniaDX extend)”.</td><td>nanasi</td></tr>
  <tr><td><code>#SUBARTIST&nbsp;<var>string</var></code></td><td>waveform-slicer, movie-maker, noter, etc.</td><td>LR</td></tr>
  <tr><td><code>#DIFFICULTY&nbsp;<var>[1-5]</var></code></td><td>difficulty kind of musical score</td><td>nanasi</td></tr>
  <tr><td><code>#STAGEFILE&nbsp;<var>imagefilename</var></code></td><td>splash in loading</td><td>BM98k</td></tr>
  <tr><td><code>#BANNER&nbsp;<var>imagefilename</var></code></td><td>display banner</td><td>nanasi</td></tr>
 </tbody>
</table>
</section>

<section id="EXTENDED-COMMAND-USED-OCCASIONALLY">
<h3><a href="#EXTENDED-COMMAND-USED-OCCASIONALLY">extended command used occasionally:</a></h3>
<table>
 <thead><tr><th scope="col">command line</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">channel</th></tr>
  <tr><td><code>#xxx99</code></td><td>TEXT-change « <code>TEXTxx&nbsp;"<var>string</var>"</code></td><td>pomu</td></tr>
  <tr><td><code>#xxxA0</code></td><td>RANK-change « <code>#EXRANKxx&nbsp;<var>n</var></code></td><td>nanasi</td></tr>
  <tr><td><code>#xxxD1-D9</code></td><td>1P-side landmine object « <code>#WAV00&nbsp;<var>soundfilename</var></code></td><td>nanasi</td></tr>
  <tr><td><code>#xxxE1-E9</code></td><td>2P-side landmine object « <code>#WAV00&nbsp;<var>soundfilename</var></code></td><td>nanasi</td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">header</th></tr>
  <tr><td><code>#WAV00&nbsp;<var>soundfilename</var></code></td><td>definition of sound of landmine explosion » <code>#xxxD1-E9</code></td><td>nanasi</td></tr>
  <tr><td><code>#BACKBMP&nbsp;<var>imagefilename</var></code></td><td>definition of background of musical score</td><td>DDR</td></tr>
  <tr><td><code>#EXRANKxx&nbsp;<var>n</var></code></td><td>definition of judge-range-value » <code>#xxxA0</code></td><td>nanasi</td></tr>
  <tr><td><code>#CHARFILE&nbsp;<var>charfilename</var></code></td><td>imitation of pop'n music character</td><td>pomu</td></tr>
  <tr><td><code>#COMMENT&nbsp;"<var>string</var>"</code></td><td>text displays on the song select list</td><td>pomu</td></tr>
  <tr><td><code>#TEXTxx&nbsp;"<var>string</var>"</code></td><td>text displays on playing</td><td>pomu</td></tr>
  <tr><td><code>#LNTYPE&nbsp;1</code></td><td>RDM-notation LN (O2mania requires this declaration) » <code>#xxx51-69</code></td><td>RDM</td></tr>
  <tr><td><code>%URL&nbsp;<var>string</var></code></td><td>BMSC automatically added</td><td>BMSManager</td></tr>
  <tr><td><code>%EMAIL&nbsp;<var>string</var></code></td><td>BMSC automatically added</td><td>BMSManager</td></tr>
 </tbody>
</table>
</section>

<section id="EXTENDED-COMMAND-USEFUL-AT-TEST-PLAY">
<h3><a href="#EXTENDED-COMMAND-USEFUL-AT-TEST-PLAY">extended command useful at test play:</a></h3>
<table>
 <thead><tr><th scope="col">command line</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr><th scope="rowgroup" colspan="3">header</th></tr>
  <tr><td><code>#PATH_WAV&nbsp;<var>path</var></code></td><td>definition of source directory</td>
   <td><del datetime="2013-07-02T18:00:00+09:00">GDAC2</del> <ins datetime="2013-07-02T18:00:00+09:00">BMEV</ins></td></tr>
  <tr><td><code>#SETRANDOM&nbsp;<var>n</var></code></td><td>generates a constant</td><td>pomu2</td></tr>
  <tr><td><code>#SETSWITCH&nbsp;<var>n</var></code></td><td>generates a constant</td><td>nanasi</td></tr>
 </tbody>
</table>
</section>

<hr>
<!-- /h2:Trends in use of commands -->
</section>




<section id="HEADER">
<h2><a href="#HEADER">&lt;HEADER&gt;</a></h2>


<section id="PLAYER" itemscope="itemscope">
<h3><code><a href="#PLAYER">#PLAYER&nbsp;<var>[1-4]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The number of players is defined.</li>
 <li>When this command is omitted, <code>1</code> is applied as a default.</li>
</ul>

<ul>
 <li><p>As a matter of fact, this value is not the number of players but a choice of game mode. The relation is as follows:</p>
  <table>
   <thead><tr>
    <th scope="col">command</th><th scope="col">summary</th><th scope="col">gauges</th><th scope="col">abbreviated name</th><th scope="col">remarks</th>
   </tr></thead>
   <tbody>
    <tr><td><code>#PLAYER&nbsp;1</code></td><td>1P</td><td>1 guage</td><td>Single Play, 1P, SP</td><td>default</td></tr>
    <tr><td><code>#PLAYER&nbsp;2</code></td><td>1P + 2P</td><td>2 guages</td><td>Couple Play, 2P</td><td>In recent years, this mode is not supported mostly.</td></tr>
    <tr><td><code>#PLAYER&nbsp;3</code></td><td>1P + 2P for 1P</td><td>1 guage</td><td>Double Play, DP</td>
     <td>Modern apps is implementing “CENTER DOUBLE”.</td></tr>
    <tr><td><code>#PLAYER&nbsp;4</code></td><td>1P vs 2P</td><td>2 guages</td><td>Battle Play</td><td>Only BM98 (BM98k) is supporting.</td></tr>
   </tbody>
  </table></li>
 <li><p><code>#PLAYER&nbsp;2</code> is the mode which plays the musical score for Double Play by two players simultaneously.
  This resembles an ensemble or a duet.</p>
  <ul>
   <li>“Couple Play” was deleted in <cite>beatmaniaIIDX 19 Lincle</cite> (<time itemprop="update" datetime="2011-09-15">2011-09-15</time>).</li>
   <li>Instead, <strong>“FREE PLUS”</strong> mode which plays “two pieces of musical scores for Single Play”
    simultaneously by two players was established newly.</li>
   <li>For example, a left-hand side player plays <a href="http://textage.cc/score/19/diavolo.html?1H900" title="&quot;TRANSCENDENTAL ETUDES&quot; DIAVOLO" class="external" rel="external" hreflang="ja">“DIAVOLO (SP-HYPER)”</a>,
    and a right-hand side player plays
    <a href="http://textage.cc/score/19/diavolo.html?2AC00" title="&quot;TRANSCENDENTAL ETUDES&quot; DIAVOLO" class="external" rel="external" hreflang="ja">“DIAVOLO (SP-ANOTHER)”</a>.</li>
  </ul></li>
 <li><p>“Battle Play” performs two “Single Play” simultaneously.</p>
  <ul>
   <li>This is the mode in which two players perform the same SP musical score simultaneously, and compete for a score.</li>
   <li><p>Therefore, if there is a musical score of <code>#PLAYER&nbsp;1</code>, it can cover with the play option by the client-side.</p>
    <p class="red">It is not necessary to prepare a musical score specially special for “Battle Play”.</p></li>
   <li>Since specification was meaningless, all the software after BM98 closed support of <code>#PLAYER&nbsp;4</code>.</li>
   <li><code>#PLAYER&nbsp;2</code> is the mode which can be covered by a client-side similarly.</li>
  </ul></li>
</ul>

<ul>
 <li><p>The play screen of beatmania's “Single Play” is the 3-column static layouts.</p>
  <pre class="lh100">+--------+ +--------+ +--------+
|1P side | |movie   | |2P side |
|notes   | |display | |notes   |
+--------+ +--------+ +--------+</pre>
  <ul>
   <li>Left column: display screen of 1P-side musical score</li>
   <li>Center column: movie screen</li>
   <li>Right column: display screen of 2P-side musical score</li>
  </ul>
  <p>As for beatmania of the arcade, this display layout is adopted as a conclusion of the physical design of a device.</p></li>
 <li><p>However, at BMS, there is not necessarily necessity which adopts this layout.</p>
  <ul>
   <li>It is because PC keyboard is not designed so that two persons can operate it simultaneously.</li>
   <li>The play style for which two people use one PC keyboard simultaneously is not welcomed any longer.</li>
   <li>That is, “Couple Play” and “Battle Play” are no longer welcomed. Instead, the on-line battle is beginning to spread.</li>
  </ul></li>
 <li><p>BM98, BM98de, DDR, bemaniaDX, DDR, and fgt++ are implementing this 3-column static layout as it is. Some skins of LR2 are also the same.</p>
  <p>But this layout will not almost be seen in other implementations.</p></li>
 <li><p>By these reasons, <code>#PLAYER&nbsp;2</code> and <code>#PLAYER&nbsp;4</code> are implementation-depending.</p>
  <ul>
   <li>For example, bemaniaDX interprets <code>#PLAYER&nbsp;2</code> and <code>#PLAYER&nbsp;4</code> as <code>#PLAYER&nbsp;3</code>.</li>
  </ul></li>
 <li><p>The beatmania type apps are implementing “Double Play” surely. It is <code>#PLAYER&nbsp;3</code>.</p>
  <ul>
   <li>It is because DP is in game mode which is very popular in beatmania.</li>
   <li><p>The layout of DP which 1P-side musical score and 2P-side musical score do not adjoin may be commonly called “TWIN MIX PLAY (TMP)”.</p>
    <ul>
     <li>Since early beatmania series was not supporting “CENTER DOUBLE”, DP was very difficult.</li>
    </ul></li>
   <li><p>The play screen of “CENTER DOUBLE” is the layout which 1P-side musical score and 2P-side musical score adjoin.</p>
    <pre class="lh100">+--------+ +--------+ +--------+        ┌┐+--------+ +--------+┌┐
|1P side | |2P side | |movie   |        └┘|1P side | |2P side |└┘
|notes   | |notes   | |display |   or   ┌┐|notes   | |notes   |┌┐
+--------+ +--------+ +--------+        └┘+--------+ +--------+└┘</pre>
    <p>The movie screen is displayed on spaces other than musical scores.</p>
    <p>Some implementations can display the movie by multi-views. (<a href="https://www.youtube.com/watch?v=FtQ8woowZiM" class="external" rel="external" title="beatmania IIDX 18 Resort Anthem - Class 皆伝(DP) - YouTube"><span itemprop="url">https://www.youtube.com/watch?v=FtQ8woowZiM</span></a>)</p></li>
   <li><p>“CENTER DOUBLE” appeared for the first time by <cite>beatmania complete MIX 2</cite>.
     (<time itemprop="update" datetime="2000-01-27">2000-01-27</time>)</p>
    <p>Therefore, some old BMS implementations are not supporting “CENTER DOUBLE”.</p></li>
  </ul></li>
</ul>

<ul>
 <li><p>Since <code>#PLAYER</code> does not bind channels, <code>#PLAYER&nbsp;1</code> and the channels <code>#xxx21-29</code> can be written side by side.</p>
  <table>
   <thead><tr><th scope="col">for example:</th><th scope="col">in nazobmplay:</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh120"><code>#PLAYER&nbsp;1
#00111:1100000000000000
#00121:2100000000000000
#00122:0022000000000000
#00123:0000230000000000
#00124:0000002400000000
#00125:0000000025000000
#00128:0000000000260000
#00129:0000000000002700
#00126:000000000000002S</code></pre></td>
     <td><img src="content/nazo-2p-bug.png" alt="in_nazobmplay" width="171" height="196"></td>
     <td><p>In implementation which depends for the rendering on the <code>#PLAYER</code> command, a problem occurs.</p>
      <p>Since it is <code>#PLAYER&nbsp;1</code>, “Single Play” is applied as game mode.</p>
      <p>However, naive implementation will also display the 2P-side objects.</p>
      <p>This bug of rendering is intentionally caused by some humorous musical scores.</p>
      <p>How to count the objects which player should hit is implementation-dependent.</p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>Modern implementation does not trust <code>#PLAYER</code> any longer.</p>
  <ul>
   <li>LR2, nanasi, ruvit, and pomu2 disregard <code>#PLAYER</code> and guess actual play mode by the parsed channels.</li>
   <li>Since this method does not make a naive mistake, it is better than dependent on <code>#PLAYER</code>.</li>
   <li><p>However, the method of guessing play mode by channels may not work.</p>
    <ul>
     <li><p>When the musical score is using only the channel <code>#xxx16</code>, it has a possibility that the following all corresponds:</p>
      <p>5KEYS, 7KEYS, 10KEYS, 14KEYS, 9KEYS (if the filename extension is PMS), 18KEYS...</p>
      <p>Implementation cannot judge which is the play mode which noter desires.</p></li>
     <li><p>When the channel <code>#xxx21-29</code> is not used but only <code>#xxx41-49</code> or <code>#xxx61-69</code> is used:</p>
      <p>Although visible objects do not exist in 2P-side of this musical score, noter wants the rendering to be carried out as DP.</p>
      <p>But old ruvit was interpreting this musical score as SP. (fixed in b5p6)</p></li>
    </ul></li>
   <li><p>For the moment, BMS format does not have the method of solving these problems theoretically.</p>
    <ul>
     <li>Therefore, LR2 and ruvit are processing the exceptional musical score by hardcode individually.</li>
     <li>Next-generation format will adopt notation which can specify play mode in detail in order to solve this problem theoretically.</li>
     <li>It will use identifiers like the <code>#OCT/FP</code> command as flags.</li>
    </ul></li>
  </ul></li>
 <li>In recent years, <code>#PLAYER</code> only exists for backward compatibility.</li>
</ul>

</section>


<section id="RANK">
<h3><code><a href="#RANK">#RANK&nbsp;<var>[0-3]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>definition of judgment level.</li>
 <li><p>When this command is omitted, <del datetime="2013-05-07T12:00:00+09:00"><code>3</code> is applied as a default.</del></p>
  <table>
   <tbody>
    <tr><th scope="row">Un-applying:</th><td>BMSC, HDX (unsupported <code>#RANK</code>),</td></tr>
    <tr><th scope="row">Apply <code>0</code>:</th><td>nBMplay, GDAC2,</td></tr>
    <tr><th scope="row">Apply <code>2</code>:</th><td>BM98, BM98de, MW, nazo, DDR, nanasi, LR2, ruvit, Angolmois, uBMplay, TechnicalGroove,</td></tr>
    <tr><th scope="row">Apply <code>3</code>:</th><td>BMSE, iBMSC,</td></tr>
   </tbody>
  </table></li>
 <li><p>The label related with a value is defined by specification.</p>
  <table>
   <thead><tr><th scope="col">name &amp; value</th><th scope="col">label</th><th scope="col">range in LR2</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#RANK&nbsp;0</code></td>
     <td>VERY HARD</td><td>+- 8ms</td>
     <td class="vam"><div class="rank0"><p>&amp;-(</p></div></td>
    </tr>
    <tr>
     <td><code>#RANK&nbsp;1</code></td>
     <td>HARD</td>
     <td>+-15ms</td>
     <td class="vam"><div class="rank1"><p>:-(</p></div></td>
    </tr>
    <tr>
     <td><code>#RANK&nbsp;2</code></td>
     <td>NORMAL</td>
     <td>+-18ms</td>
     <td class="vam"><div class="rank2"><p>:-)</p></div></td>
    </tr>
    <tr>
     <td><code>#RANK&nbsp;3</code></td>
     <td>EASY</td>
     <td>+-21ms</td>
     <td class="vam"><div class="rank3"><p>:-D</p></div></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>Each ranges of judgment level are implementation-dependent. The judgment system is also implementation-dependent.</p>
  <table>
   <thead><tr><th scope="col">judment system</th><th scope="col">support</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>per unit pixel</td>
     <td>Early implementations</td>
     <td><p>Judgment width is dependent on the scroll speed of a musical score.</p>
      <p>The judgment becomes severe as BPM goes up. The judgment becomes loose as BPM falls.</p></td>
    </tr>
    <tr>
     <td>per unit time</td>
     <td>DDR, uBMplay, pomu2, LR2, ...</td>
     <td>Whatever the BPM, judgment width is always invariable.</td>
    </tr>
    <tr>
     <td>dynamic pixel</td>
     <td>nanasi, ruvit, fgt++, ...</td>
     <td>Whenever BPM is changed, suitable judgment width is re-calculated.</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>A part of implementations disregard <code>#RANK</code>.</p>
  <ul>
   <li><p>D3beat disregards <code>#RANK</code> specification of a musical score and applies compulsorily the judgment difficulty which each user set up.</p>
    <p>Since this is probably inconvenient when <code>#RANK</code> is applied to a touch device as it is.</p></li>
   <li><p>O2mania <del>disregards <code>#RANK</code> specification of a musical score and applies compulsorily the judgment difficulty which each user set up.</del></p>
    <p>It seems that, as for a judgment level, only 3 kinds (Easy, Normal, Hard) exist. “Very Hard” is not found.</p></li>
  </ul></li>
</ul>

<section id="RANK-4">
<h4><code><a href="#RANK-4">#RANK&nbsp;4</a></code></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, <del class="red">ruvit</del>, fgt++, iBMSC (3.0+), Angolmois, Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>nanasigroove specification gave a label called VERY EASY to the value <code>4</code>.</li>
 <li><code>#RANK&nbsp;4</code> is a judgment still looser than <code>#RANK&nbsp;3</code>.</li>
 <li><p><ins datetime="2012-01-04T00:00:00+09:00">Although ruvit is supporting <code>#DEFEXRANK</code> and <code>#EXRANK</code>,
  <span class="red"><code>#RANK&nbsp;4</code> is not supporting.</span></ins></p>
  <ul>
   <li>In a song selection list,
    if the case of <code>#RANK&nbsp;3</code> or <code>#DEFEXRANK</code> is compared with the case of <code>#RANK&nbsp;4</code>, that is clear.</li>
   <li>It seems that ruvit applies a NORMAL judging (<code>#RANK&nbsp;2</code>) as a default value when <code>#RANK</code> of an invalid value is loaded.</li>
  </ul></li>
</ul>
</section>

<section id="RANK-RELATIVE">
<h4><a href="#RANK-RELATIVE">Relative&nbsp;<code>#RANK</code></a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>fgt</td></tr>
  <tr><th scope="row">support:</th><td>fgt, Angolmois, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>According to the help file of forgetalia, the initial value of a judgment level is “the value plus 2 of <code>#RANK</code>”. (?)</li>
 <li>Furthermore, it is written there that specification like <code>#RANK&nbsp;6</code> or <code>#RANK&nbsp;-1</code> is possible. (??)</li>
 <li><p>However, I was not able to understand this specification. Quotation from help file of forgetalia:</p>
  <blockquote class="ind1" lang="ja" xml:lang="ja">
   <p><code>#EXRANK</code> <span class="DBCS">と</span> <code>#RANK</code>
    <span class="DBCS">の区別はしていません。
     ジャッジの値でどちらかを決めています。</span></p>
   <p><span class="DBCS">また、通常時の判定幅は</span> (<code>#RANK+2</code>)
    <span class="DBCS">となっています。 つまり、</span><code>#RANK&nbsp;6</code>
    <span class="DBCS">とも</span> <code>#RANK&nbsp;-1</code>
    <span class="DBCS">ともできるわけです…。</span></p>
  </blockquote>
  <p>It was difficult for me to translate this mysterious Japanese into English.</p></li>
 <li><p>Relative <code>#RANK</code> of Angolmois 2.0 alpha 2 differs from forgetalia a little. Quotation from <a class="external" rel="external" hreflang="en" title="angolmois/INTERNALS.md at master · lifthrasiir/angolmois · GitHub" href="https://github.com/lifthrasiir/angolmois/blob/master/INTERNALS.md#game-settings">INTERNALS.md:</a></p>
  <p><code>±{BAD:144, GOOD:84, GREAT:48, COOL:14.4} / (1.5 - <var>#RANK-value</var> * 0.25)</code> milliseconds</p>
  <p>But, <q lang="en" xml:lang="en">Angolmois <code>#RANK</code> system is certainly ill-designed however, so it may change without a notice.</q></p></li>
  <li><p>In TechnicalGroove, <code>#RANK</code> is an alias of <code>#DEFEXRANK</code> and exists only for backward compatibility.</p>
   <ul>
    <li>“<code>25 * <var>#RANK-value</var> + 50</code>” is applied as a value of <code>#DEFEXRANK</code>. Including decimal fraction value. No limit.</li>
    <li>The Perfect GREAT range of “<code>#DEFEXRANK&nbsp;100</code>” is <code>±16</code> milliseconds
     (The value <code>±1</code> is equivalent to <code>±0.16</code> milliseconds).</li>
   </ul></li>
</ul>
</section>

<!-- /#RANK -->
</section>



<section id="DEFEXRANK">
<h3><code><a href="#DEFEXRANK">#DEFEXRANK&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, ruvit (2.0b3+), fgt++, iBMSC (3.0 / not <code>#DEFEXRANK</code> but <code>#EXRANK</code>),
    Sonorous, TechnicalGroove,</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Judgment difficulty can be defined in detail than <code>#RANK&nbsp;<var>[0-3]</var></code>.</li>
 <li>The initial value of a judgment is specified at percentage. The value <code>100</code> corresponds to <code>#RANK&nbsp;2</code> (label: NORMAL).<!--
   The correctness which a play should fill in a music play start time is specified at the percentage to a NORMAL judging. --></li>
 <li>A decimal fraction can also be specified as a value.</li>
 <li>When multiple <code>#RANK</code> and <code>#DEFEXRANK</code> are found, the line nearest to <abbr title="End Of File">EOF</abbr> is adopted.</li>
 <li>When this command is omitted, <code>#RANK</code> is applied as a default value.</li>
 <li>When both <code>#DEFEXRANK</code> and <code>#RANK</code> are omitted, <code>#RANK&nbsp;<ins>2</ins><!-- del)3(/del --></code> is applied.</li>
 <li><p>In nanasi, the zone and label of the value are associated as follows, and a corresponding icon is displayed on a song selection list:</p>
  <table id="DEFEXRANK-TABLE">
   <thead><tr>
    <td></td>
    <th scope="col">label</th>
    <th scope="col">standard</th>
    <th scope="col">corresponds on nanasi</th>
    <th scope="col">corresponds on fgt++</th>
    <th scope="col">corresponds on <span class="br">TechnicalGroove</span></th>
    <th scope="col">remarks</th>
   </tr></thead>
   <tbody>
    <tr>
     <td><img src="content/nanasi-judge-overhard.png" alt="" width="32" height="32"></td>
     <th scope="row">OVER HARD</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↑</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↑</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↑</var></code></td>
     <td>the label which only nanasi has</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-veryhard.png" alt="" width="32" height="32"></td>
     <th scope="row">VERY HARD</th>
     <td><code>#RANK&nbsp;0</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>48</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>60</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>50</mark></code></td>
     <td></td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-morehard.png" alt="" width="32" height="32"></td>
     <th scope="row">MORE HARD</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>the label which only nanasi has</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-hard.png" alt="" width="32" height="32"></td>
     <th scope="row">HARD</th>
     <td><code>#RANK&nbsp;1</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>64</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>80</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>75</mark></code></td>
     <td></td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-littlehard.png" alt="" width="32" height="32"></td>
     <th scope="row">LITTLE HARD</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>the label which only nanasi has</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-normal.png" alt="" width="32" height="32"></td>
     <th scope="row">NORMAL</th>
     <td><code>#RANK&nbsp;2</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>100</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>100</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>100</mark></code></td>
     <td><strong>reference value</strong> (= 100%)</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-littleeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">LITTLE EASY</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>the label which only nanasi has</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-easy.png" alt="" width="32" height="32"></td>
     <th scope="row">EASY</th>
     <td><code>#RANK&nbsp;3</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>120</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>120</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>125</mark></code></td>
     <td><del datetime="2014-06-10T20:00:00+09:00">default value when judgments are not specified</del></td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-moreeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">MORE EASY</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↕</var></code></td>
     <td>the label which only nanasi has</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-veryeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">VERY EASY</th>
     <td><code>#RANK&nbsp;4</code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>160</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>140</mark></code></td>
     <td><code>#DEFEXRANK&nbsp;<mark>150</mark></code></td>
     <td>only nanasi <del datetime="2013-01-16T22:00:00+09:00">and ruvit</del> and fgt++ support this</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-overeasy.png" alt="" width="32" height="32"></td>
     <th scope="row">OVER EASY</th>
     <td>-</td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↓</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↓</var></code></td>
     <td><code>#DEFEXRANK&nbsp;<var class="DBCS">↓</var></code></td>
     <td>the label which only nanasi has</td>
    </tr>
    <tr>
     <td><img src="content/nanasi-judge-random.png" alt="" width="32" height="32"></td>
     <th scope="row">RANDOM</th>
     <td>-</td>
     <td><code>#EXRANK<var>xx</var>&nbsp;<var>n</var></code></td>
     <td><code>#EXRANK<var>xx</var>&nbsp;<var>n</var></code></td>
     <td><code>#EXRANK<var>xx</var>&nbsp;<var>n</var></code></td>
     <td>when dynamic judgment changes exist</td>
    </tr>
   </tbody>
  </table></li>
 <li>Since the HI-SPEED option does not exist in fgt++, a judgment is considered to be defined a little loosely.</li>
 <li>In ruvit support page, I failed in investigating details, but the following description was found: “the range differs from nanasi slightly”</li>
 <li>For example, when <code>#DefExRank&nbsp;199.97</code> is specified,
  this musical score is started with “199.97% of judgment width of the NORMAL (<code>#RANK&nbsp;2</code>)”.</li>
 <li><p><ins>Although iBMSC 3.0 has a textbox of <code class="red">#EXRANK</code>, this is <code>#DEFEXRANK</code> in fact.</ins></p>
  <p><ins>When we use this, outputted BMS must be opened by a text editor
   and <code class="red">#EXRANK</code> must be rewritten to <code>#DEFEXRANK</code>.</ins></p></li>
</ul>

<section id="DEFEXRANK-0">
<h4><code><a href="#DEFEXRANK-0">#DEFEXRANK&nbsp;0</a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td><del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The judgment of non-SCRATCH lanes which should be performed is changed into “All or Nothing”.</li>
 <li>If a judgment system has five ranks [Perfect GREAT, GREAT, GOOD, BAD, POOR], only [Perfect GREAT, BAD, POOR] appear.</li>
 <li>Furthermore, “Perfect GREAT” of key-lanes permit only <strong class="red">1 frame</strong>.</li>
 <li>This is in same judgment mode as <cite>GAMBOL</cite> (Another) [beatmaniaIIDX].</li>
 <li>ditto: <code>#EXRANK<var>[01-ZZ]</var>&nbsp;0</code></li>
</ul>

</section>

</section>


<section id="EXRANKXX">
<h3><code><a href="#EXRANKXX">#EXRANK<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxxA0</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, ruvit (2.0b3+), fgt++, Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>changing correctness which a play should fill in arbitrary positions.</li>
 <li>A judgment is not affected, when a command is omitted, or when a definition is empty.</li>
 <li><table>
   <thead><tr><th scope="col">for example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
<pre class="lh120"><code>#RANK&nbsp;2
#EXRANKaa&nbsp;48
#EXRANKcc&nbsp;100
#114a0:aa0000cc</code></pre>
     </td>
     <td><p>In <code>#114</code>, judgment is changed into the same width as “VERY HARD” in nanasi.</p>
      <p>In the timing by which the 4th quarter note of <code>#114</code> is counted, judgment is changed into the same width as “NORMAL”.</p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>In nanasi, “RANDOM” is given as a label of judgment difficulty to the musical score in which <code>#EXRANK</code> was described.</p>
  <p>Moreover, an icon special to a song selection list is displayed.</p></li>
</ul>
</section>



<section id="TOTAL" itemscope="itemscope">
<h3><code><a href="#TOTAL">#TOTAL&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>When all the objects are processed by the best judgment, a gauge total amount increases to “<code><var>n</var></code>”.</li>
 <li>The increasing rate of a gauge is computed from this value.</li>
 <li>Although most implementations should support the value of a decimal fraction, I am not checking details.</li>
 <li><p>Although this command is not written to English-language edition BMS specification, it is written to the help file of BM98.</p>
  <ul>
   <li>Is this implicit requirements specification? Or isn't it implicit requirements specification?</li>
   <li>Although I cannot judge that, BMS player softwares of Japan are implementing <code>#TOTAL</code>
    <ins datetime="2014-06-25T07:30:00+09:00">mostly</ins>. <ins datetime="2014-06-25T07:30:00+09:00">(Excluding HDX)</ins></li>
  </ul></li>
 <li><p>For example, when <code>#TOTAL&nbsp;200</code> is specified, a gauge increases to a maximum of 200%.</p>
  <p><img src="content/bmse_header_total4.png" alt="image of gauge rate by #TOTAL" width="455" height="67"></p>
  <ul>
   <li>If the initial value of a gauge is 20%, a gauge will be 220%.</li>
   <li>A gauge will increase 0.5% per best judging, if the total of the object which should be hit is 400.
    (200 divided by 400 is 0.5)</li>
  </ul></li>
 <li>Since this is the rate of increase of a gauge, of course, an actual gauge does not exceed 100%.</li>
 <li><p>When <code>#TOTAL</code> is omitted, it is not prescribed by specification how it should act.</p>
  <ul>
   <li>In BM98, the value which added 200 to the total of visible objects is applied as a default value.</li>
   <li><p>This behavior is not certain in whether it is “specification of BMS format”,
     and whether it is “proprietary extension of BM98”.</p>
    <p>Not all the implementations are so although most implementations are based on the interpretation of BM98. For example:</p>
    <table>
     <thead><tr><th scope="col">body</th><th scope="col">default</th></tr></thead>
     <tbody>
      <tr><th scope="row">bm98</th><td><code>200+<var>NOTES</var></code></td></tr>
      <tr><th scope="row">bemaniaDX</th><td><code>200</code></td></tr>
      <tr><th scope="row">LR2</th><td><code>160</code>? (Note: NORMAL Gauge)</td></tr>
      <tr><th scope="row">ruvit</th><td><code>160</code>? (Note: NORMAL Gauge)</td></tr>
      <tr><th scope="row">nanasi</th><td><code>350</code></td></tr>
      <tr><th scope="row">fgt++</th><td><code>100+<var>NOTES</var>/8</code> (min: <code>#TOTAL&nbsp;125</code>)</td></tr>
      <tr><th scope="row">nazo</th><td><code>100+<var>NOTES</var></code>? (min: <code>#TOTAL&nbsp;130</code>?)</td></tr>
      <tr><th scope="row">TechnicalGroove</th><td><code><strong class="red">0</strong></code></td></tr>
     </tbody>
    </table></li>
   <li>Since the default values which apply differ according to software, <strong class="red">omitting <code>#TOTAL</code> is not recommended.</strong></li>
  </ul></li>
 <li><p>There is also an argument about a suitable calculation formula.</p>
  <ul>
   <li>The gauge increasing rate of <cite>beatmaniaIIDX</cite> is said to be “<code>7.605*<var>NOTES</var>/(0.01*<var>NOTES</var>+6.5)</code>”.</li>
   <li>(But in IIDX, <code>260</code> is applied when a value of <code>#TOTAL</code> becomes smaller than <code>260</code>. )</li>
   <li>However, another opinion also exists and DJMAX and O2Jam will become another argument.</li>
  </ul></li>
 <li><p>In a part of implementations, when a negative number is specified as a value of <code>#TOTAL</code>,
  if a note is hit correctly, a groove-gauge will decrease.</p>
  <ul>
   <li>nazo, nazoZZ, PMSee-V, ... (Although implementation of the same kind besides these may exist, I am not investigating about that.)</li>
  </ul></li>
 <li><p>This section described “the NORMAL gauge of beatmania / beatmaniaIIDX”.
  But, the following gauges exist in the present <cite>beatmaniaIIDX</cite>:</p>
  <table id="IIDXGAUGE">
   <thead><tr><th scope="col">name</th><th scope="col">the first appearance</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <th scope="row">NORMAL gauge</th>
     <td><time itemprop="update" datetime="1997-12-10">1997-12-10</time>: beatmania</td>
     <td>It is a stage clearance, if this gauge has reached a fixed quantity when one stage (musical piece) is completed.</td>
    </tr>
    <tr>
     <th scope="row">EXPERT gauge</th>
     <td><time itemprop="update" datetime="1998-09-28">1998-09-28</time>: beatmania 3rdMIX</td>
     <td>It is a stage clearance, if the gauge started from 100% and remains one or more scales at the time of the end of a stage.
      This is what is called a <a href="https://en.wikipedia.org/wiki/Health_%28gaming%29" title="Health (gaming) - Wikipedia, the free encyclopedia" class="external" rel="external" hreflang="en">Life bar</a>.
      (Although EXPERT mode existed from the 1st, it is from 3rdMIX that the EXPERT gauge was introduced. )</td>
    </tr>
    <tr>
     <th scope="row">HARD gauge</th>
     <td><time itemprop="update" datetime="2001-09-28">2001-09-28</time>: beatmaniaIIDX 6th style</td>
     <td>One of the options which players apply arbitrarily. A life bar with a large pace of decrease.
      In EXPERT mode, compared with usual, a gauge decreases easily and it becomes difficult to increase.</td>
    </tr>
    <tr>
     <th scope="row">EX-HARD gauge</th>
     <td><time itemprop="update" datetime="2011-09-15">2011-09-15</time>: beatmaniallDX 19 Lincle</td>
     <td>ditto, but more decrease. A decoration is conferred to the surviving player.</td>
    </tr>
    <tr>
     <th scope="row">HAZARD gauge</th>
     <td><time itemprop="update" datetime="2008-11-19">2008-12-19</time>: beatmaniaIIDX 16 EMPRESS</td>
     <td>It is set to STAGE FAILED when a combo is not connected.</td>
    </tr>
    <tr>
     <th scope="row">Grade gauge</th>
     <td><time itemprop="update" datetime="2002-03-27">2002-03-27</time>: beatmaniaIIDX 7th style</td>
     <td>The life bar specially customized for Grade-authorization mode.</td>
    </tr>
    <tr>
     <th scope="row">EX-Grade gauge</th>
     <td><time itemprop="update" datetime="2011-09-15">2011-09-15</time>: beatmaniallDX 19 Lincle</td>
     <td>ditto, but more decrease. This option is applied by inputting a specific command.</td>
    </tr>
   </tbody>
  </table>
  <p>These are the different contexts, respectively.</p></li>
 <li><code>#TOTAL</code> is the command implemented on <time itemprop="update" datetime="1998-08-10">August 10, 1998</time>.
  A life bar type gauge does not exist yet at this time.</li>
</ul>
</section>



<section id="VOLWAV">
<h3><code><a href="#VOLWAV">#VOLWAV&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th>
   <td>BM98k, DDR, WAview, bemaniaDX, Mac, Aqua, KbMedia, PMSee-V, BMSC, BMSE, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>All the sounds that a musical score uses are sounded with <code>n</code>% of original's.</li>
 <li>The volume of the original file is equivalent to <code>#VOLWAV&nbsp;100</code>.</li>
 <li>When this command is omitted, <code>100</code> is applied as a default.</li>
 <li>Since <code>#VOLWAV</code> is very dependent on implementation or hardware, we should not trust this.</li>
 <li>For now, this command is called what cannot be recommended.</li>
 <li><dl>
   <dt><code>#VOLWAV&nbsp;200</code></dt>
   <dd>The file which this musical score uses is sounded with 200% of original's.</dd>
  </dl></li>
</ul>

<section id="CHANGING-BGM-VOLUME">
<h4><a href="#CHANGING-BGM-VOLUME">changing&nbsp;BGM&nbsp;volume</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx97</code></td></tr>
  <tr><th scope="row">range:</th><td><code><var>[01-FF]</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>fgt</td></tr>
  <tr><th scope="row">support:</th><td>fgt (In fgt++/fgt#, this channel is removed. <span class="red">Obsolete?</span> )</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>The volume of BGM is dynamically changed on the level of 255.</li>
 <li><p>The integral value of [1-255] can be defined by a hexadecimal number. <code>00</code> is <a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">musical rest symbol</a>.</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#00197:003C
#00497:FF</code></pre></td>
     <td><p>BGM volume is changed into 60 in the position of the center of <code>#001</code>. (3C = 60)</p>
      <p>BGM volume returns to the volume of originals' at the forefront of <code>#004</code>. (FF = 255)</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>

<section id="CHANGING-KEY-VOLUME">
<h4><a href="#CHANGING-KEY-VOLUME">changing&nbsp;KEY&nbsp;volume</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx98</code></td></tr>
  <tr><th scope="row">range:</th><td><code><var>[01-FF]</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>fgt</td></tr>
  <tr><th scope="row">support:</th><td>fgt (In fgt++/fgt#, this channel is removed. <span class="red">Obsolete?</span> )</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>The volume of KEY SOUND (the object which players should perform) is dynamically changed on the level of 255.</li>
 <li><p>The integral value of [1-255] can be defined by a hexadecimal number. <code>00</code> is <a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">musical rest symbol</a>.</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#00198:003C
#00498:FF</code></pre></td>
     <td><p>KEY volume is changed into 60 in the position of the center of <code>#001</code>. (3C = 60)</p>
      <p>KEY volume returns to the volume of originals' at the forefront of <code>#004</code>. (FF = 255)</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>

<!-- /#VOLWAV -->
</section>



<section id="STAGEFILE" itemscope="itemscope">
<h3><code><a href="#STAGEFILE">#STAGEFILE&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98k</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The graphics file of 640x480 displayed at the time of file loading is defined. In short, this is splash screen.</li>
 <li>This command is omissible.</li>
 <li><p>When this command is omitted, it is expected that the default load screen of each implementation will be displayed.</p>
  <table>
   <caption>in nazobmplay:</caption>
   <tbody>
    <tr>
     <th scope="row">when <code>#STAGEFILE</code> is specified:</th>
     <td><a href="content/bmse_help_full/Capture/bmse_header_stagefile1.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_stagefile1.gif</span></a></td>
    </tr>
    <tr>
     <th scope="row">when <code>#STAGEFILE</code> is not specified:</th>
     <td><a href="content/bmse_help_full/Capture/bmse_header_stagefile2.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_header_stagefile2.gif</span></a></td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="BANNER">
<h3><code><a href="#BANNER">#BANNER&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, pomu2, LR2, fgt++, iBMSC (3.0+), PMSee-V (2.0.0+),
   Sonorous, TechnicalGroove(parsing-only),</td></tr>
 </tbody>
</table>

<div id="BANNERSAMP"><p>300x80</p></div>

<ul class="noMarginTop">
 <li>The graphics file of 300x80 used on a song selection list, a result screen, etc,, is specified.</li>
 <li>It is possible to specify the relative path (only low rank path) from “the directory where a BMS file exists”.</li>
 <li><del>It is also possible to specify MATERIALS (&lt;path&gt;filename).</del> <ins>nanasi removed support of MATERIALS.</ins></li>
 <li>The length of a path character string shall be a maximum of 260 bytes.</li>
 <li><p><del>In nanasi, when this command is omitted,
   “banner.bmp” is searched from “the directory of a BMS file,
   the same level, or a low level”, and this is applied when it exists.</del></p>
  <p><ins datetime="2012-01-13T00:00:00+09:00">(There was no such thing. It seems to already have been removed. )</ins></p></li>
</ul>
</section>



<section id="BACKBMP" itemscope="itemscope">
<h3><code><a href="#BACKBMP">#BACKBMP&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR, nanasi, LR2 (conditional), pomu2 (conditional), iBMSC (3.0+),
   Sonorous(parsing-only), TechnicalGroove(parsing-only),</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>In original specification, the graphics file of 640x480 displayed on the background of a play screen is specified.</p>
  <ul>
   <li>DDR and nanasi are based on original specification.</li>
  </ul></li>
 <li><p>If a definition is given in the skin of a body-side, LR2 and pomu2 can use this command.</p>
  <ul>
   <li>In “OVER ACTiVE DX+” which is a skin for LR2, it is used as a definition for title pictures in many cases.</li>
   <li>e.g. <a title="[LR2] OVER ACTiVE DX+ 2.50 DEMO / the fifth act / Hate+ - YouTube" class="external" rel="external" href="https://www.youtube.com/watch?v=5Q8pAA9O8Aw"><span itemprop="url">https://www.youtube.com/watch?v=5Q8pAA9O8Aw</span></a></li>
   <li>Aside from <code>#STAGEFILE</code>,
    the graphics file of the middle of the screen which shows the information about music before a play is <code>#BACKBMP</code>.</li>
   <li>With this command, it makes it possible to ornament a musical score with arbitrary fonts and arbitrary layouts.</li>
   <li>But, this is the behavior which is not in specification and the size of a graphics file is dependent on each skin.</li>
   <li><ins datetime="2014-06-06T04:30:00+09:00"><a class="external" rel="external" hreflang="ja" title=".REDのskin置き場 BACKBMPについて" data-old-href="http://www.geocities.jp/red_without_right_stick/backbmp/index.html" href="http://right-stick.sub.jp/backbmp/index.html">“OVER ACTiVE DX+”'s <code>#BACKBMP</code> specification</a></ins></li>
  </ul></li>
</ul>
</section>



<section id="CHARFILE" itemscope="itemscope">
<h3><code><a href="#CHARFILE">#CHARFILE&nbsp;<var>characterfilename.chp</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, PMChr-V, Sonorous(parsing-only), TechnicalGroove(parsing-only),</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The character file similar to <cite>pop'n music</cite>.</li>
 <li>I am sorry, I am ignorant about this specification.</li>
 <li>For now, <code>#CHARFILE</code> is a pomu2 proprietary extension.
  However, the next-generation version LunaticRave may support <code>#CHARFILE</code>.</li>
</ul>

<table>
 <tbody>
  <tr>
   <th scope="row">For example:</th>
   <td>
    <a title="Feeling PoMu - YouTube" class="external" rel="external" href="https://www.youtube.com/watch?v=14skmXXCjOQ"><span itemprop="url">https://www.youtube.com/watch?v=14skmXXCjOQ</span></a>
   </td>
  </tr>
  <tr>
   <th scope="row">sample download:</th>
   <td>
    <a title="Colorful Channel official website ++ download" class="external" rel="external" hreflang="ja" href="https://pmcc.nekokan.dyndns.info/pmcc2/download.html"><span itemprop="url">https://pmcc.nekokan.dyndns.info/pmcc2/download.html</span></a>
   </td>
  </tr>
  <tr>
   <th scope="row">official guidance:</th>
   <td>
    <a title="続！てきとうなキャラ作成講座" class="external" rel="external nofollow" hreflang="ja" href="https://web.archive.org/web/*/http://m-nekomi.cool.ne.jp/newpage/mu2/Make2.htm"><span itemprop="url">https://web.archive.org/web/*/http://m-nekomi.cool.ne.jp/newpage/mu2/Make2.htm</span></a>
   </td>
  </tr>
  <tr>
   <th scope="row">unofficial guidance:</th>
   <td>
    <a title="シュークリーム分が" class="external" rel="external" hreflang="ja" href="https://web.archive.org/web/20140103231405/http://storyof.namidaame.com/yy_pce.htm"><span itemprop="url">https://web.archive.org/web/20140103231405/http://storyof.namidaame.com/yy_pce.htm</span></a><!--
    (a title="&#x30B7;&#x30E5;&#x30FC;&#x30AF;&#x30EA;&#x30FC;&#x30E0;&#x5206;&#x304C;" class="external" rel="external" hreflang="ja"
     href="http://storyof.namidaame.com/yy_pce.htm")(span itemprop="url")http://storyof.namidaame.com/yy_pce.htm (/span)(/a) -->
   </td>
  </tr>
  <tr>
   <th scope="row">charfile viewer:</th>
   <td>PMChr-V.zip:
    <a title="ポニラボ" class="external" rel="external" hreflang="ja" href="https://sakukoba.ninja-x.jp/ponila/"><span itemprop="url">https://sakukoba.ninja-x.jp/ponila/</span></a><!--
    (a title="&#x307D;&#x307F;&#x3085;&#x30C4;&#x30FC;&#x30EB;" class="external" rel="external" hreflang="ja"
     href="http://sakukoba.ninja-x.jp/pomu_pms/tool.html")(span itemprop="url")http://sakukoba.ninja-x.jp/pomu_pms/tool.html (/span)(/a) --></td>
  </tr>
 </tbody>
</table>
</section>



<section id="PLAYLEVEL">
<h3><code><a href="#PLAYLEVEL">#PLAYLEVEL&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The definition of the difficulty which should be displayed on a song selection list.</li>
 <li><p>It is implementation-dependent how difficulty is displayed. The following is the example.</p>
  <ul>
   <li>Difficulty is expressed by some star marks (<span class="DBCS">★★★★☆☆☆</span>)
    in some implementations based on the context of <cite>beatmania</cite>.</li>
   <li>Difficulty is expressed by 12 steps of bar graphs in some implementations based on the context of the latest <cite>beatmaniaIIDX</cite>.</li>
   <li><p>Difficulty is expressed by 99 steps of integral values in some implementations based on the context of <cite>DrumMania</cite>.</p>
    <p>(Note: It is expressed in 1000 steps by <code>xx.yy</code> type now. )</p></li>
  </ul></li>
 <li>Usually, an integral value is defined.</li>
 <li><p>In BM98, when this command is omitted, <code>3</code> is applied as a default.</p>
  <p>Although this is not the behavior specified by specification, a great portion of implementation has followed this.</p></li>
 <li>The standard of the difficulty which each level should express is not indicated in specification. It seems context-dependent.</li>
</ul>

<section id="PLAYLEVEL-0">
<h4><code><a href="#PLAYLEVEL-0">#PLAYLEVEL&nbsp;0</a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>so-so</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>In some apps, the value <code>0</code> is displayed as special difficulty.</li>
 <li>For example, BM98 displays question mark instead of star marks.</li>
 <li>By BMS by which <code>#RANDOM</code> or <code>#SWITCH</code> was plotted, since difficulty is changed sharply,
  the example to which the value <code>0</code> was set also exists.</li>
 <li>The value <code>0</code> may be specified as a certain kind of a symbol.</li>
</ul>
</section>

<section id="PLAYLEVEL-STRING">
<h4><code><a href="#PLAYLEVEL-STRING">#PLAYLEVEL&nbsp;<var>string</var></a></code></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, iBMSC (3.0+), TechnicalGroove, (investigation is insufficient)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>A character string can be specified as the value of <code>#PLAYLEVEL</code>.
  e.g. <code>#PLAYLEVEL&nbsp;<mark class="DBCS" lang="ja" xml:lang="ja">安心</mark></code></li>
 <li>Categorization of difficulty can also be detailed as shown in <code>#PLAYLEVEL&nbsp;<mark>12.4</mark></code>.</li>
</ul>
</section>

<!-- /#PLAYLEVEL -->
</section>



<section id="DIFFICULTY" itemscope="itemscope">
<h3><code><a href="#DIFFICULTY">#DIFFICULTY&nbsp;<var>[1-5]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, LR2, iBMSC (3.0+), Sonorous, TechnicalGroove,</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>We can sort and filter musical scores using this meta-information.</li>
 <li>In the implementation which supports this command,
  it is expected that “filtering a song selection list at the kind of musical score” will be possible.</li>
 <li>This command is omissible.</li>
 <li>When this command is omitted, filtering by the classification or the difficulty of a musical score cannot be expected.</li>
 <li>Even if filtering does not function, simple sort by a play level or alphabetical order may be possible.</li>
 <li><p>For example:</p>
  <table>
   <thead><tr><th scope="col">filename</th><th scope="col">add description</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>himiko_1p_beginner.bms</td>
     <td><code>#DIFFICULTY&nbsp;1</code></td>
     <td>the musical score of low difficulty (EASY/BEGINNER/LIGHT/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_normal.bms</td>
     <td><code>#DIFFICULTY&nbsp;2</code></td>
     <td>the musical score of standard difficulty (NORMAL/STANDARD/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_hyper.bms</td>
     <td><code>#DIFFICULTY&nbsp;3</code></td>
     <td>the musical score of high difficulty (HARD/HYPER/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_another.bms</td>
     <td><code>#DIFFICULTY&nbsp;4</code></td>
     <td>the musical score of quite a high difficulty (EX/ANOTHER/etc.)</td>
    </tr>
    <tr>
     <td>himiko_1p_blackanother.bms</td>
     <td><code>#DIFFICULTY&nbsp;5</code></td>
     <td>so-called the fucking musical score
      (<span class="DBCS" lang="ja" xml:lang="ja">糞譜面</span>[kusofumen])
      or INSANE (<span class="DBCS" lang="ja" xml:lang="ja">発狂</span>[hakkyou])
      /etc)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>Another example:</p>
  <table>
   <thead><tr><th scope="col">filename</th><th scope="col">add description</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td>astro_EZ.bms</td><td><code>#DIFFICULTY&nbsp;1</code></td><td>EASY</td></tr>
    <tr><td>astro_NM.bms</td><td><code>#DIFFICULTY&nbsp;2</code></td><td>NORMAL</td></tr>
    <tr><td>astro_HD.bms</td><td><code>#DIFFICULTY&nbsp;3</code></td><td>HARD</td></tr>
    <tr><td>astro_MX.bms</td><td><code>#DIFFICULTY&nbsp;4</code></td><td>MAXIMUM</td></tr>
    <tr><td>astro_SC.bms</td><td><code>#DIFFICULTY&nbsp;5</code></td><td>SUPER-CRAZY</td></tr>
   </tbody>
  </table></li>
 <li><p>In Japan, <strong class="red">kusofumen</strong> forms the special genre.</p>
  <ul>
   <li><p>The directivity which raises the density of a musical note. So-called <strong>INSANE</strong>
    (<span class="DBCS" lang="ja" xml:lang="ja">発狂</span>).</p>
    <p><a href="https://nekokan.dyndns.info/~lobsak/genocide/" title="GENOCIDE - bms難易度表 -" class="external" rel="external" hreflang="ja">bms<span class="DBCS" lang="ja" xml:lang="ja">難易度表</span></a>
     (BMS difficulties review) is one of this type of the typical examples, and it is very popular.</p>
    <p>This is a huge database of the musical scores classified by many users' active argument.</p>
    <p>Various musical scores are proposed, argued about them and classified.</p>
    <p>In a rumor, <abbr title="Internet Ranking">IR</abbr>-playcount of the musical score recorded on this table increases to usual 100 or more times.</p></li>
   <li><p>There are also many sites derived from the difficulty table. The site which makes a speciality of LN/turntables/etc. e.g.:</p>
    <ul>
     <li><a href="http://ukita2.web.fc2.com/" class="external" rel="external" hreflang="ja" title="ロングノートBMSを推進する会"><span class="DBCS" lang="ja" xml:lang="ja">ロングノート</span>BMS<span class="DBCS" lang="ja" xml:lang="ja">を推進する会</span></a>:
      (It means “The society which promotes Longnote BMS” )</li>
     <li><a href="http://dpbms.at-ninja.jp/" title="あ！" class="external" rel="external" hreflang="ja"><span class="DBCS" lang="ja" xml:lang="ja">発狂</span>DP<span class="DBCS" lang="ja" xml:lang="ja">難易度表</span></a>: “Insane DPBMS Difficulty Table”</li>
     <li><a href="http://achusi.main.jp/overjoy/" title="One more lovely" class="external" rel="external" hreflang="ja">Overjoy</a>:
      They are called the <strong>Gorilla Human</strong>.</li>
    </ul></li>
   <li>The player which loves tricks, such as stop-sequences, change of BPM, and the forced option of popnmusic flavor, also exists.</li>
   <li><p>The type which points out the blind spot in the specification of a BMS format, also exists.</p>
    <p>Directivity, such as a certain kind of humor and joke, is also included.
    <a class="external" rel="external nofollow" hreflang="ja" href="https://web.archive.org/web/*/http://soflan.hp.infoseek.co.jp/">kusofumen lovers</a> is one of the typical examples.</p></li>
  </ul></li>
 <li><p><code>#DIFFICULTY</code> is frequently used, in order to mainly unify the form of BMS included in a package etc. For example:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">BMS Starter Pack 2009</th>
     <td><a title="BMS Starter Pack 2009" class="external" rel="external" hreflang="ja" href="http://www.yamajet.com/bmssp/"><span itemprop="url">http://www.yamajet.com/bmssp/</span></a><!--
      (a title="BMS Starter Pack 2009" class="external" rel="external" hreflang="ja" href="http://starterpack.bms.ms/guide.html"
      )(span itemprop="url")http://starterpack.bms.ms/guide.html (/span)(/a)
      (span itemprop="url" class="external u")http://starterpack.bms.ms/guide.html (/span)
      (download is impossible now) https://www50.atwiki.jp/bmswiki/pages/18.html ??? --></td>
    </tr>
    <tr>
     <th scope="row">Toy Musical Series</th>
     <td><a title="Toy Musical Series Gateway" class="external" rel="external" hreflang="ja" href="http://toymusical.net/"><span itemprop="url">http://toymusical.net/</span></a></td>
    </tr>
    <tr>
     <th scope="row">Colorful Canvas &amp; Colorful Channel</th>
     <td><a title="Colorful Channel official website ++ download" class="external" rel="external" hreflang="ja" href="https://pmcc.nekokan.dyndns.info/pmcc2/download.html"><span itemprop="url">https://pmcc.nekokan.dyndns.info/pmcc2/download.html</span></a></td>
    </tr>
   </tbody>
  </table></li>
 <li><ins datetime="2014-06-25T07:30:00+09:00">According to
  <a href="https://hitkey.nekokan.dyndns.info/diary1405.php#D140529">my investigation</a>,
  in the BMS event “<a href="http://scytheleg.sakura.ne.jp/tempyou/event/sen-goku3/" class="external" rel="external" hreflang="ja">sen-goku 3rd</a>”,
  more than half of the registered works used this command.</ins></li>
</ul>

<section id="DIFFICULTY-GROUPING-BY-FILENAME">
<h4><a href="#DIFFICULTY-GROUPING-BY-FILENAME">grouping&nbsp;by&nbsp;filename</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu2</td></tr>
  <tr><th scope="row">support:</th><td>pomu2</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>By naming filenames in accordance with the defined rule, an executable file recognizes the group of difficulty.</p>
  <table>
   <caption>[The suffix to a base name by hyphen-minus and fixed
    <ins datetime="2014-06-25T07:30:00+09:00">lowercase</ins> keywords]</caption>
   <thead><tr><th scope="col">filename</th><th scope="col">corresponds on:</th><th scope="col">group</th></tr></thead>
   <tbody>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-n</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;2</code></td><td><b>N</b>ORMAL</td></tr>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-h</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;3</code></td><td><b>H</b>YPER</td></tr>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-ex</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;4</code></td><td><b>EX</b>TRA</td></tr>
    <tr><td><pre><var>pmsname</var><mark><strong class="red">-p</strong></mark>.pms</pre></td><td><code>#DIFFICULTY&nbsp;5</code></td><td><b>P</b>LUS</td></tr>
   </tbody>
  </table></li>
 <li><p>If my memory is exact, the application with the function similar to this exists besides pomu2.
   <del datetime="2014-02-04T07:00:00+09:00">But I cannot remember it now.</del></p>
  <p><ins datetime="2014-02-04T07:00:00+09:00">Possibly that may be the <code>*.lr</code> file of Lunatic Rave.
   Although I did not know in detail about that, <a href="https://web.archive.org/web/20140819141616/http://forums.outphase.com/showthread.php?t=514&amp;page=12" data-old-href="http://forums.outphase.com/showthread.php?t=514&amp;page=12" class="external" rel="external" hreflang="en" title="a new bms player &quot;LunaticRave&quot; - Page 12 - outphase.com">the page which is reproducing details</a> was able to be found.</ins></p></li>
</ul>
<!-- /#DIFFICULTY-GROUPING-BY-FILENAME -->
</section>

<section id="DIFFICULTY-GROUPING-BY-SUBTITLE">
<h4><a href="#DIFFICULTY-GROUPING-BY-SUBTITLE">grouping&nbsp;by&nbsp;subtitle</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td><del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove</del></td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>When all the following conditions are fulfilled, virtual <code>#DIFFICULTY</code> value is set automatically.</p>
  <ul>
   <li>Effective <code>#DIFFICULTY</code> command does not exist.</li>
   <li><code><a href="#SUBTITLE">#SUBTITLE</a></code> or <a href="#TITLE-IMPLICIT-SUBTITLE">implicit subtitle</a> exists.</li>
   <li>A subtitle contains one of the following keywords (case-insensitive).</li>
  </ul>
  <table>
   <thead><tr><th scope="col">Grouping</th><th scope="col">Keywords</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#DIFFICULTY&nbsp;1</code></td>
     <td>“Easy”, “Beginner”, “Light”, “Simple”, “5Button”,
      “[B]”, “(B)”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;2</code></td>
     <td>“Normal”, “Standard”, “[N]”, “(N)”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;3</code></td>
     <td>“Hyper”, “Hard”, “Extend”, “[H]”, “(H)”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;4</code></td>
     <td>“Maniac”, “Extra”, “EX”</td>
    </tr>
    <tr>
     <td><code>#DIFFICULTY&nbsp;5</code></td>
     <td>“Insane”, “Another”, “Plus”, “[A]”, “(A)”</td>
    </tr>
   </tbody>
  </table></li>
 <li>TechnicalGroove is also supporting <code>#DIFFICULTY&nbsp;6</code> or more positive integral value. (But deprecated.)</li>
 <li>TechnicalGroove is also supporting <code>#DIFFICULTY&nbsp;0</code>. However, the meaning of the value <code>0</code> is not clarified.</li>
</ul>
<!-- /#DIFFICULTY-GROUPING-BY-SUBTITLE -->
</section>

<!-- /#DIFFICULTY -->
</section>



<section id="TITLE" itemscope="itemscope">
<h3><code><a href="#TITLE">#TITLE&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>defining the title of the music.</li>
 <li><p>When this command is omitted, it is not prescribed by specification how implementation should act.</p>
  <ul>
   <li>For example, nanasi will do a forced termination, if BMS by which this command was omitted is draganddropped to an executable file.</li>
  </ul></li>
 <li><p>Specification has not specified the maximum of the length of a text.</p>
  <ul>
   <li>Example of too long a title:
    <a class="external" rel="external" hreflang="ja" href="http://dee.manbow.org/event/event.cgi?action=More_def&amp;num=127&amp;event=60" title="【詳細情報】 No.127 zhyming-zhyming - [left field/breakbeats] SUPER ULTRA HYPER SPECIAL GOLDEN GORGEOUS MARVELOUS STRONG ECCENTRIC / Coco"><span itemprop="url">http://dee.manbow.org/event/event.cgi?action=More_def&amp;num=127&amp;event=60</span></a></li>
   <li><p>In BMSE, at least 10000 or more characters can be inputted. But other apps cannot necessarily display this.</p>
    <p><a href="content/bmse_help_full/Capture/textlength43679.txt" type="text/plain" hreflang="ja"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/textlength43679.txt</span></a></p></li>
   <li>DDR will do a forced termination, if it exceeds 500 bytes. (It is indicated on the document)</li>
  </ul></li>
 <li><p>In some implementations, texts are trimmed. (nanasi, LR2, etc..)</p>
  <ul>
   <li>For example, “<code>#TITLE&nbsp;&nbsp;&nbsp;&nbsp;ABC&nbsp;&nbsp;&nbsp;</code>” will be displayed on a screen as “ABC”.</li>
   <li>BMSE does not trim texts. The editor which does not perform change which noter does not plan is desirable.</li>
  </ul></li>
 <li><p>When a text contains a multi-byte character, the problem of a character encoding may occur.</p>
  <ul>
   <li>ruvit, iBMSC, <ins datetime="2013-07-30T22:00:00+09:00">IIDXv, HDX, Sonorous, BGAEncAdv, and TechnicalGroove</ins>
    are supporting some character sets other than <abbr title="American Standard Code for Information Interchange">ASCII</abbr>.</li>
   <li>Moreover, the next-generation version of LR2 has adopted not
    <abbr title="American Standard Code for Information Interchange">ASCII</abbr> but
    <abbr title="UCS/Unicode Transformation Format">UTF</abbr>-16<abbr title="Little-Endian">LE</abbr> (with <abbr title="Byte Order Mark">BOM</abbr>)
    as a default character set.</li>
   <li>For example, such apps can define values, such as
    <code>#TITLE&nbsp;LOVE<span class="DBCS loveshine">♡</span>SHINE</code>.</li>
   <li>I am not knowledgeable about the multilingual support situations of other apps.</li>
   <li><p>In the <abbr title="HyperText Markup Language">HTML</abbr>5 specification (Working Draft), support for the UTF-7 and UTF-32 character sets has been removed.
    (<a class="external" rel="external" hreflang="en" title="HTML 5" href="https://www.w3.org/TR/2008/WD-html5-20080122/"><span itemprop="url">https://www.w3.org/TR/2008/WD-html5-20080122/</span></a>)</p>
    <blockquote class="ind1">
     <p>Authors should not use JIS_X0212-1990, x-JIS0208, and encodings based on EBCDIC.</p>
     <p>Authors should not use UTF-32. Authors must not use the CESU-8, UTF-7, BOCU-1 and SCSU encodings. [CESU8] [UTF7] [BOCU1] [SCSU]</p></blockquote>
    <p>UTF-7 and UTF-32 may become an obstacle when assuming the case where a BMS file is used in a web application.</p></li>
  </ul></li>
</ul>

<section id="TITLE-IMPLICIT-SUBSTRING">
<h4><a href="#TITLE-IMPLICIT-SUBSTRING">implicit&nbsp;substring&nbsp;(<code>#TITLE</code>)</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>When a character string special to value of <code>#TITLE</code> or value of <code>#GENRE</code> is found,</p>
  <p>the label corresponding to each is displayed on song select list and play screen.</p></li>
 <li>The display of the label to a play screen is performed only in the Arrow-mode.</li>
 <li><p>The value is case-insensitive.</p>
  <table>
   <thead><tr><th scope="col">substring to search:</th><th scope="col">label:</th></tr></thead>
   <tbody>
    <tr><td>Basic, Light</td><td>Basic</td></tr>
    <tr><td>Another, Trick, Standard</td><td>Another</td></tr>
    <tr><td>Maniac, SSR, Heavy</td><td>SSR</td></tr>
   </tbody>
  </table></li>
 <li><span class="red">When the song title contains these words, it is clear that this function does not work well.</span></li>
 <li><ins datetime="2013-05-07T12:00:00+09:00">Label “Basic” is applied at the time of keyword duplication.</ins></li>
</ul>
</section>

<section id="TITLE-IMPLICIT-SUBTITLE">
<h4><a href="#TITLE-IMPLICIT-SUBTITLE">implicit&nbsp;subtitle:</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, nazo, nazoZZ, LR2, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>When the text defined as a value of <code>#TITLE</code> contains delimiter characters, that part is interpreted as a subtitle.</li>
 <li><p>In a song selection list, a load screen, etc., it is expected that a subtitle will be displayed in a form different from the main title.</p>
  <table>
   <thead><tr><th scope="col">example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#TITLE&nbsp;main<mark>-</mark>sub<mark>-</mark></code></td>
     <td>hyphen-minus (<a class="external" rel="external" hreflang="en" title="Unicode Character &#39;HYPHEN-MINUS&#39; (U+002D)" href="https://www.fileformat.info/info/unicode/char/002d/index.htm"><span itemprop="url">https://www.fileformat.info/info/unicode/char/002d/index.htm</span></a>)</td>
    </tr>
    <tr>
     <td><code>#TITLE&nbsp;main<mark class="DBCS">～</mark>sub<mark class="DBCS">～</mark></code></td>
     <td><del>wave dash (<a class="external" rel="external" hreflang="en" title="Wave dash - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Wave_dash"><span itemprop="url">https://en.wikipedia.org/wiki/Wave_dash</span></a>)</del>
      <ins>fullwidth-tilde (<a class="external" rel="external" hreflang="en" title="Tilde - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Tilde#Japanese"><span itemprop="url">https://en.wikipedia.org/wiki/Tilde#Japanese</span></a>)?</ins></td>
    </tr>
    <tr><td><code>#TITLE&nbsp;main<mark>(</mark>sub<mark>)</mark></code></td><td>parenthesis (bemaniaDX is also supporting the fullwidth-parenthesis ??)</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>[</mark>sub<mark>]</mark></code></td><td>bracket</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>&lt;</mark>sub<mark>&gt;</mark></code></td><td>less than / greater than</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>␣␣</mark>sub</code></td><td>halfwidth-space *2 or more (bemaniaDX only?)</td></tr>
    <tr><td><code>#TITLE&nbsp;main<mark>"</mark>sub<mark>"</mark></code></td><td>straight double quote
     (LR2 <ins datetime="2013-07-30T22:00:00+09:00">and TechnicalGroove</ins> only)</td></tr>
   </tbody>
  </table></li>
 <li>The problem is that this specification has not defined the priority of delimiters.</li>
 <li><p>When two or more kinds of delimiter characters are intermingled, an interpretation is implementation-dependent.</p>
  <table>
   <caption>For example: <code>#TITLE&nbsp;while<mark>(</mark>1<mark>)</mark>&nbsp;{&nbsp;LOVE&nbsp;<mark>--</mark>&nbsp;}</code></caption>
   <thead><tr><th scope="col">implementation</th><th scope="col">maintitle</th><th scope="col">subtitle</th></tr></thead>
   <tbody>
    <tr><td>bemaniaDX</td><td><code>while</code></td><td><code>(1)&nbsp;{&nbsp;LOVE&nbsp;--&nbsp;}</code></td></tr>
    <tr><td>nazo / nazoZZ</td><td><code>while(1)&nbsp;{&nbsp;LOVE&nbsp;</code></td><td><code>--&nbsp;}</code></td></tr>
    <tr><td>LR2</td><td><code>while(1)&nbsp;{&nbsp;LOVE&nbsp;--&nbsp;}</code></td><td>(empty)</td></tr>
   </tbody>
  </table></li>
 <li>About the problem of a text with a difficult interpretation, specification does not give a hint.</li>
 <li>Moreover, the method of deterring this troublesome behavior does not exist.</li>
 <li><code>#SUBTITLE</code> command was proposed in order to solve these problems probably.</li>
</ul>
</section>

<!-- /#TITLE -->
</section>



<section id="SUBTITLE">
<h3><code><a href="#SUBTITLE">#SUBTITLE&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, LR2, iBMSC (3.0+), Sonorous, TechnicalGroove, diff</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The implicit subtitle of <code>#TITLE</code> did not work in many cases.</li>
 <li>In such a case, if a <code>#SUBTITLE</code> is defined explicitly, it will succeed.</li>
 <li>It can omit, when not using <code>#SUBTITLE</code>.</li>
 <li>In LR2 <ins datetime="2013-07-30T22:00:00+09:00">and TechnicalGroove</ins>,
  an implicit subtitle of <code>#TITLE</code> is adopted when <code>#SUBTITLE</code> is omitted.</li>
 <li><ins datetime="2013-07-30T22:00:00+09:00">In LR2, when <code>#SUBTITLE</code> and an implicit subtitle contend,
  an implicit subtitle string is not displayed.</ins></li>
</ul>

<section id="SUBTITLES">
<h4><a href="#SUBTITLES">Multiplex&nbsp;<code>#SUBTITLE</code>s</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>Sonorous</td></tr>
  <tr><th scope="row">support:</th><td>Sonorous</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>Two or more subtitles can be defined. The example which compared parsing result is the following:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">Sonorous</th><th scope="col">LR2, nanasi, iBMSC</th></tr></thead>
   <tbody class="lh100">
    <tr>
     <td><pre><code>#TITLE&nbsp;title
#SUBTITLE&nbsp;(5keys)
#SUBTITLE&nbsp;[Beginner]
#ARTIST&nbsp;artist</code></pre></td>
     <td><pre><code>title
(5keys)
[Beginner]
artist</code></pre></td>
     <td><pre><code>title

[Beginner]
artist</code></pre></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#SUBTITLES -->
</section>

<!-- /#SUBTITLE -->
</section>



<section id="ARTIST">
<h3><code><a href="#ARTIST">#ARTIST&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Definition of Artist.</li>
 <li>What is “Artist”? It is not indicated in specification.</li>
</ul>
</section>



<section id="SUBARTIST">
<h3><code><a href="#SUBARTIST">#SUBARTIST&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>LR2</td></tr>
  <tr><th scope="row">support:</th><td>LR2, nanasi, iBMSC (3.0+), Sonorous, TechnicalGroove, diff</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>We may use this command, in order to display the BGA creator, a noter, and other cooperators.</li>
 <li>In the implementation which supports this command,
  it is expected that <code>#SUBARTIST</code> will be displayed in a different form from <code>#ARTIST</code>.</li>
 <li>When this command is omitted, only <code>#ARTIST</code> is adopted.</li>
</ul>

<section id="SUBARTISTS">
<h4><a href="#SUBARTISTS">Multiplex&nbsp;<code>#SUBARTIST</code>s</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td>TechnicalGroove, Sonorous</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>Two or more helper names can be defined. The example which compared parsing result is the following:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">TechnicalGroove</th><th scope="col">LR2, nanasi, iBMSC</th></tr></thead>
   <tbody class="lh100">
    <tr>
     <td><pre><code>#TITLE&nbsp;title
#ARTIST&nbsp;artist
#SUBARTIST&nbsp;MOVIE:&nbsp;m
#SUBARTIST&nbsp;NOTER:&nbsp;n
#SUBARTIST&nbsp;TESTR:&nbsp;t</code></pre></td>
     <td><pre><code>title
artist
MOVIE:&nbsp;m
NOTER:&nbsp;n
TESTR:&nbsp;t</code></pre></td>
     <td><pre><code>title
artist


TESTR:&nbsp;t</code></pre></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#SUBARTISTS -->
</section>

<!-- /#SUBARTIST -->
</section>



<section id="MAKER">
<h3><code><a href="#MAKER">#MAKER&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, Sonorous(parsing-only), TechnicalGroove(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>When a music composer differs from a BMS maker, we may define a BMS maker's name. This value is meta-information.</li>
 <li>This value is not displayed from the start of a game to an end.</li>
</ul>
</section>



<section id="GENRE">
<h3><code><a href="#GENRE">#GENRE&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Definition of the genre of music.</li>
 <li>When this command is omitted, an empty value is set.</li>
</ul>

<section id="GENLE">
<h4><code><a href="#GENLE">#GENLE&nbsp;<var>string</var></a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>uBMplay</td></tr>
  <tr><th scope="row">support:</th><td>uBMplay, Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>In order to cope with typo.</li>
</ul>
</section>

<section id="GENRE-IMPLICIT-SUBSTRING">
<h4><a href="#GENRE-IMPLICIT-SUBSTRING">implicit&nbsp;substring&nbsp;(<code>#GENRE</code>)</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>When a character string special to value of <code>#TITLE</code> or value of <code>#GENRE</code> is found,</p>
  <p>the label corresponding to each is displayed on song select list and play screen.</p></li>
 <li>The display of the label to a play screen is performed only in the Arrow-mode.</li>
 <li><p>The value is case-insensitive.</p>
  <table>
   <thead><tr><th scope="col">substring to search:</th><th scope="col">label:</th></tr></thead>
   <tbody>
    <tr><td>Basic, Light</td><td>Basic</td></tr>
    <tr><td>Another, Trick, Standard</td><td>Another</td></tr>
    <tr><td>Maniac, SSR, Heavy</td><td>SSR</td></tr>
   </tbody>
  </table></li>
 <li><ins datetime="2013-05-07T12:00:00+09:00">Label “Basic” is applied at the time of keyword duplication.</ins></li>
</ul>
</section>

<!-- /#GENRE -->
</section>



<section id="COMMENT" itemscope="itemscope">
<h3><code><a href="#COMMENT">#COMMENT&nbsp;"<var>string</var>"</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, nanasi, PMSee-V, BM-A4, beat arranger, iBMSC (3.0+),
   Sonorous, TechnicalGroove(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>This text is displayed on a song select list.</li>
 <li>A double quote is needed in order to express a null character sequence.</li>
 <li>But, a musical score without a double quote also exists in a part of old BMS.
  (e.g. <cite><span class="DBCS" lang="ja" xml:lang="ja">はーとのしっぽ</span></cite>:
   <!-- span itemprop="url" class="u external">http://nekomimi.name/bms/nm28_nm07.zip</span --><span itemprop="url" class="u external">http://necoco.2-d.jp/bms/nm28_nm07.zip</span>)</li>
 <li>Therefore, a developer should not be premised on a double quote in parsing.</li>
 <li>This command is omissible.</li>
</ul>

<section id="COMMENTS">
<h4><a href="#COMMENTS">Multiplex&nbsp;<code>#COMMENT</code>s</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>Sonorous</td></tr>
  <tr><th scope="row">support:</th><td>Sonorous</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li><p>Two or more comments can be defined. The example which compared parsing result is the following:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">Sonorous</th><th scope="col">LR2, nanasi, iBMSC</th></tr></thead>
   <tbody class="lh100">
    <tr>
     <td><pre><code>#TITLE&nbsp;title
#COMMENT&nbsp;Legacy&nbsp;comment
#COMMENT&nbsp;"Current&nbsp;comment"</code></pre></td>
     <td><pre><code>title
Legacy&nbsp;comment
Current&nbsp;comment</code></pre></td>
     <td><pre><code>title

Current&nbsp;comment</code></pre></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#COMMENTS -->
</section>

<!-- /#COMMENT -->
</section>



<section id="TEXTXX">
<h3><code><a href="#TEXTXX">#TEXT<var>[00-ZZ]</var>&nbsp;"<var>string</var>"</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx99</code></td></tr>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, nanasi, Sonorous(parsing-only),
   <del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove(skin-dependent)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Arbitrary texts are displayed at the arbitrary times.</li>
 <li><p>In nanasi, <code>#TEXT00</code> is displayed when a mistake is made. (pomu2 is not supporting <code>#TEXT00</code>.)</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#TEXT00&nbsp;"MISS!!"
#TEXTaa&nbsp;"SIROMARU&nbsp;eats&nbsp;only&nbsp;the&nbsp;bread&nbsp;crust"
#TEXTbb&nbsp;""
#10099:aabbaabb</code></pre></td>
     <td class="vab">A text blinks in <code>#100</code>.</td>
    </tr>
   </tbody>
  </table>
  <p><ins datetime="2012-01-16T02:15:00+09:00">In practice,
   the same result is brought even if it deletes the line of <code>#TEXTbb&nbsp;""</code>.</ins></p></li>
</ul>
</section>



<section id="SONGXX">
<h3><code><a href="#SONGXX">#SONG<var>[01-ZZ]</var>&nbsp;"<var>string</var>"</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx99</code></td></tr>
  <tr><th scope="row">origin:</th><td>pomu</td></tr>
  <tr><th scope="row">support:</th><td>pomu2, Sonorous(parsing-only),
   <del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove(skin-dependent)</del></td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">This command is obsolete. We should not use this command any more.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Outdated, although it is a command equivalent to <code>#TEXT<var>[01-ZZ]</var></code>.</li>
 <li><b class="red"><code>#SONG<var>[01-ZZ]</var></code> is obsolete.</b> Use of <code>#TEXT<var>[01-ZZ]</var></code> is recommended now.</li>
 <li>Priority is given to the contents of <code>#TEXT<var>[01-ZZ]</var></code> when the same index overlaps
  in <code>#TEXT<var>[01-ZZ]</var></code> and <code>#SONG<var>[01-ZZ]</var></code>.</li>
 <li><ins datetime="2013-07-30T22:00:00+09:00">Sonorous <del datetime="2014-06-10T20:00:00+09:00" class="hide">and TechnicalGroove</del> does not distinguish <code>#TEXT</code> and <code>#SONG</code>.
  Priority is given to the line near <abbr title="End Of File">EOF</abbr> when an index overlaps.</ins></li>
</ul>
</section>



<section id="LANDMINE" itemscope="itemscope">
<h3><a href="#LANDMINE">landmine</a></h3>

<table>
 <tbody>
  <tr><th scope="row">header:</th><td><code>#WAV00&nbsp;<var>soundfilename</var></code></td></tr>
  <tr><th scope="row">channel:</th><td><code>#xxx<var>D1-E9</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+),
   Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The object in which a gauge will decrease if it touches.</p>
  <ul>
   <li>e.g. <cite><span class="DBCS" lang="ja" xml:lang="ja">ガバディ</span></cite> (GABBAR-D):
    <a class="external" rel="external" title="ToyMusical PlayMovie - ガバディ[H] - YouTube" href="https://www.youtube.com/watch?v=fnkWsyvvOrw"><span itemprop="url">https://www.youtube.com/watch?v=fnkWsyvvOrw</span></a></li>
   <li>Although a hearing is difficult, “<i>dosukoi</i>” is sounded if a red object prickly with prickles is touched.</li>
   <li><i>Dosukoi</i> is sumo exclamation. <span class="DBCS">【doθkói】</span></li>
  </ul></li>
 <li><p>The file assigned to <code>#WAV00</code> sounded when a landmine explodes.</p>
  <ul>
   <li>Landmines do not explode in PMSee-V.</li>
  </ul></li>
 <li><p>When channel <code>#xxx<var>D1-E9</var></code> is used without assigning to <code>#WAV00</code>:</p>
  <ul>
   <li>nanasi, LR2, and uBMplay sound an implementation's own explosion sound file.</li>
   <li>fgt++ and Angolmois do not have a default explosion sound file.
    Therefore, if landmine is touched, a gauge will decrease, without an explosion sounding.</li>
  </ul></li>
 <li><p>The amount of gauge reduction is defined by <code>[01-ZZ]</code>.</p>
  <ul>
   <li>The gauge of a value/2 decreases.</li>
   <li><code>ZZ</code> is made “STAGE FAILED / GAMEOVER” compulsorily.</li>
  </ul>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#WAV00&nbsp;explode.wav
#001D3:0000001E</code></pre></td>
     <td class="vab">The landmine which does plundering a gauge -<ins>25</ins>% is placed.
      // 1E (base36) = 50 (decimal)</td>
    </tr>
   </tbody>
  </table></li>
 <li>Since LR2 which is “a de facto standard in a BMS scene of Japan” supported landmine, it is calmly in fashion.</li>
 <li>The feature of landmine is the ability to <strong>force keyup to players.</strong>
  This capability will use cruel power by combining with LN or a characteristic pattern.</li>
 <li><p><strong class="red">Usually, the explosion sound of a landmine cannot be changed.</strong> However:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#wav00&nbsp;bomb.wav
#wav11&nbsp;visible.wav
#wav33&nbsp;invisible.wav

#00111:00000011
#00131:33
#001D1:1E</code></pre></td>
     <td><ul>
      <li>If an invisible object is piled up, another sound may be able to be reproduced.</li>
      <li>However, this behavior is implementation-dependent and has neither compatibility nor certainty.</li>
      <li>Although it is dependent on timing, it is possible at Angolmois and LR2.</li>
      <li>nanasi reproduces both an invisible object and a landmine object.</li>
     </ul></td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="PATH-WAV">
<h3><code><a href="#PATH-WAV">#PATH_WAV&nbsp;<var>path</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td><del datetime="2013-07-02T18:00:00+09:00">GDAC2</del> <ins datetime="2013-07-02T18:00:00+09:00">BMEV (?)</ins></td></tr>
  <tr><th scope="row">support:</th><td><del datetime="2013-07-02T18:00:00+09:00">GDAC2,</del> BMEV, WAview, in_bm2, uBMplay, IIDXv, Angolmois,
   Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The path of the directory where <del datetime="2013-07-02T18:00:00+09:00">wav</del> files exist can be defined.</li>
 <li>(Probably a relative path cannot be specified. )</li>
 <li><p>It assumes being used by the test play function of BMS-editor apps.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#PATH_WAV&nbsp;C:\WINDOWS\Media
#WAV01&nbsp;onestop.mid
#WAV02&nbsp;chimes.wav
#WAV03&nbsp;chord.wav
#BMP01&nbsp;..\..\img\koala.bmp</code></pre></td>
     <td><p>The prefix of path is specified.</p>
      <p>Reference file of <code>#WAV01</code> is “C:\WINDOWS\Media\onestop.mid”.</p>
      <p>Reference file of <code>#WAV02</code> is “C:\WINDOWS\Media\chimes.wav”.</p>
      <p>Reference file of <code>#WAV03</code> is “C:\WINDOWS\Media\chord.wav”.</p>
      <p>Reference file of <code>#BMP01</code> is “C:\img\koala.bmp”.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>When we release BMS, we should comment out <code>#PATH_WAV</code>.</li>
 <li><p>In WAview, in_bm2, and uBMplay <ins datetime="2013-07-03T12:00:00+09:00">(1.5.1 and below)</ins>,
   a delimiter is required as a suffix of a value. For example:</p>
  <p><code>#PATH_WAV&nbsp;C:\WINDOWS\Media<mark><strong class="red">\</strong></mark></code></p></li>
</ul>
</section>



<section id="BPM">
<h3><code><a href="#BPM">#BPM&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The definition of Beat-Per-Minute of music. This is used as an initial value of the scroll speed of a musical score.</li>
 <li><p>When this command is omitted, <code>130</code> is applied as a default.
  But if it is a decent musical score, <code>#BPM</code> should not omit.</p>
  <ul>
   <li>Although BMS specification defines <code>130</code> as the default value, some implementations do not meet BMS specification.</li>
   <li>nanasi applies <code>150</code>.</li>
   <li>fgt++ applies <code>30</code>.</li>
   <li>nazo, nazoZZ, BMSC, BMSE, iBMSC, and BMSV apply <code>120</code>.</li>
   <li>fgt#, pomu2, nBMplay, and o2play apply <code>0</code>. That is, a musical score does not scroll.</li>
   <li>In the case of LR2, the display slot of BPM continues turning at high speed. That is, a musical score does not scroll.</li>
  </ul></li>
 <li><p>In almost all implementation, not only an integer but a decimal fraction can be specified to the value <code><var>n</var></code>.</p>
  <ul>
   <li>However, the following softwares are excluded : BMSV, BMS2WAV, otama, Galli, KbMediaPlayer (bmse.kpi), fgt</li>
  </ul></li>
</ul>

<section id="CHANGING-BPM-BASIC-FORMAT">
<h4><a href="#CHANGING-BPM-BASIC-FORMAT">changing&nbsp;BPM&nbsp;(basic&nbsp;format)</a></h4>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx03</code></td></tr>
  <tr><th scope="row">range:</th><td><code><var>[01-FF]</var></code></td></tr>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>mostly</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The integral value of [1-255] can be defined by a hexadecimal number. <code>00</code> is <a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">musical rest symbol</a>.</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#00103:00FE</code></pre></td>
     <td>BPM is changed into 254 in the position of the center of <code>#001</code>. (FE = 254)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>In BMSE, both are saved when the place on which the channel <code>#xxx03</code>'s object was put is loaded with the channel <code>#xxx08</code>'s object.</p>
  <table>
   <thead>
    <tr>
     <th scope="col">For example</th>
     <th scope="col">remarks</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#BPM01&nbsp;256
#00103:00FF
#00108:0001</code></pre></td>
     <td class="vab">It is implementation-dependent how this is interpreted.</td>
    </tr>
   </tbody>
  </table></li>
 <li>In iBMSC, both are saved, but it warns kindly:
  <img src="content/ibmsc-error-mark.png" alt="Error Check (notice invalid objects)" width="27" height="26" class="vam"></li>
</ul>
</section>

<!-- /#BPM -->
</section>



<section id="BPMXX" itemscope="itemscope">
<h3><code><a href="#BPMXX">#BPM<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx08</code></td></tr>
  <tr><th scope="row">origin:</th><td>bemaniaDX version 0.72.0768 (<time datetime="2000-07-15">2000-07-15</time>)</td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="2">index range:</th></tr>
  <tr><th scope="row"><code><var>[01-99]</var></code>:</th>
   <td>bemaniaDX (origin) // decimal index only, but <code>#xxx08:<em class="red">[01-2R]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-73]</var></code>:</th>
   <td>BGAEnc (origin) // 255 base-36 indexes, but <code>#xxx08:<em class="red">[01-FF]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-FF]</var></code>:</th>
   <td>MGQ (origin), BM98de (<code>#BPM<em class="red">01</em></code> has a bug), DDR, RDM, MW (<code>#BPM<em class="red">FF</em></code> has a bug),
    nazo, Mac?, <del>Aqua?</del>, GALLI, WAview, <del>BGAEnc</del>, KbMedia, nazoZZ, O2mania</td></tr>
  <tr><th scope="row"><code><var>[01-FZ]</var></code>:</th><td>BMEV (origin)</td></tr>
  <tr><th scope="row"><code><var>[01-ZZ]</var></code>:</th>
   <td>nanasi (origin), LR2, fgt++, fgt#, ruvit, pomu2, uBMplay, PMSee-V, BMSE, iBMSC, DTXC, bme2wav, bmx2wav,
    Aqua (?), IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove, diff, in_bm2, O2play, </td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BPM is changed in arbitrary positions. (Hereafter, I abbreviate this “extended BPM change command” as “exBPM”, in this document.)</li>
 <li><p>This command mainly defines the value of a decimal fraction, or the value of over255BPM. That is, the <b>real number BPM</b> is defined.</p>
  <table>
   <thead><tr><th scope="col">For example</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BPMII&nbsp;256
#BPMzz&nbsp;155.5
#00108:IIzzIIzz</code></pre>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>BMSE cannot reuse the scroll-object given a definition. A previous example will be rewritten as follows, if saved by BMSE.</p>
  <table>
   <thead><tr><th scope="col">For example</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BPM01&nbsp;256
#BPM02&nbsp;155.5
#BPM03&nbsp;256
#BPM04&nbsp;155.5
#00108:01020304</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>Therefore, in BMSE, the exBPM object can read and write only 1295 pieces at the maximum.</li>
   <li>When setting 1295 kinds of values infinitely, we have to use the means which is not BMSE.</li>
   <li>(Channel 03 can be infinitely read and written, although a value is limited to 255 kinds. )</li>
  </ul></li>
 <li><p>BMSE tries whether it can do and to support all of <code><var>[01-FF]</var></code>,
  and <code><var>[01-FZ]</var></code>, and <code><var>[01-ZZ]</var></code> by following methods.</p>
  <ul>
   <li>BMSE defines the index of <code>#BPMxx</code> by <code><var>[01-FF]</var></code>,
    if the used real number BPM change object is less than 255 pieces.</li>
   <li>BMSE defines the index of <code>#BPMxx</code> by <code><var>[01-ZZ]</var></code>,
    if the used real number BPM change object is 256 or more pieces.</li>
  </ul></li>
 <li><p>The definition slot of iBMSC is <del>restricted to 255 pieces</del> <ins>can be changed into 1295 pieces at “General Options”</ins>.</p>
  <p>And, iBMSC can reuse the scroll-object given a definition.</p></li>
 <li>When a negative number is defined as a value, the direction of scrolling is reversed in some implementations.
  (<a title="DPU9 - YouTube" class="external" rel="external" href="https://www.youtube.com/watch?v=R4S7BKEB0vs"><span itemprop="url">https://www.youtube.com/watch?v=R4S7BKEB0vs</span></a>)</li>
 <li><p>Since the range of a value is not defined by specification, the interpretation of negative BPM is implementation-dependent.</p>
  <table>
   <tbody>
    <tr><th scope="row">reverse:</th>
     <td>bemaniaDX, BM98de, RDM, nazo, nazoZZ, O2mania, LR2, ruvit, fgt++, fgt#, uBMplay, PMSee-V, <del>IIDXv</del>, Angolmois, Sonorous</td></tr>
    <tr><th scope="row">original:</th><td>bme2wav, bmx2wav</td></tr>
    <tr><th scope="row">ignore:</th><td>KbMedia, GALLI (only minus sign is ignored), <del>LR2 (partial)</del>, nanasi, pomu2</td></tr>
    <tr><th scope="row">apply <code>130</code>:</th><td>DDR, WAview, in_bm2</td></tr>
    <tr><th scope="row">apply <code>0</code>:</th><td>iBMSC, DTXC</td></tr>
    <tr><th scope="row">editable:</th><td>BMSE</td></tr>
    <tr><th scope="row">finish:</th><td>BGAEncAdv<del datetime="2014-02-27T18:00:00+09:00">, TechnicalGroove</del>
     <del datetime="2013-08-04T07:20:00+09:00">(All the audio objects which exist behind a negative BPM object are sounded simultaneously.)</del></td></tr>
   </tbody>
  </table>
  <ul>
   <li>BPM of a negative number is the stage effect originating in the bug of <del datetime="2014-02-27T18:00:00+09:00">nazo</del> bemaniaDX,
    and is not requirements specification.</li>
   <li>In ruvit and fgt++ and Angolmois and Sonorous, even if scrolling is reversed, it can move to a results display screen as usual.</li>
   <li>In other software which supports negative BPM, the <kbd>ESC</kbd> key may have to be pressed. (cannot escape from a musical score)</li>
   <li><p><del datetime="2013-01-16T19:00:00+09:00">Although LR2 does not support BPM of a negative number fundamentally, famous kusofumen is exceptionally hardcoded.</del></p>
    <p>(e.g. <cite>Sofa $15 -&gt; $1</cite>, <cite>U9</cite>, etc. )</p></li>
   <li>Although there is no duty to implement reverse scrolling,
    a possibility that the value of a negative number will be specified should be taken into consideration.</li>
  </ul></li>
 <li>See also: <a href="exbpm-object.html" hreflang="en">Extended BPM - BMS Command</a></li>
</ul>
</section>



<section id="EXBPMXX">
<h3><code><a href="#EXBPMXX">#EXBPM<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx08</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, pomu2, PMSee-V, Sonorous, BGAEncAdv, TechnicalGroove,
   <ins datetime="2014-05-12T12:00:00+09:00">HDX</ins></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Equivalent to <code>#BPMxx&nbsp;<var>n</var></code></li>
 <li>This is an alias for avoiding the bug of BMSC.</li>
 <li>BMSC will mix up <code>#BPMxx&nbsp;<var>n</var></code> and <code>#BPM&nbsp;<var>n</var></code>, and will parse BMS by the mistaken interpretation.</li>
</ul>
</section>



<section id="BASEBPM">
<h3><code><a href="#BASEBPM">#BASEBPM&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>LR</td></tr>
  <tr><th scope="row">support:</th><td>LR (In LR2, support for the <code>#BASEBPM</code> has been removed ?)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BPM used as the standard of the speed which scrolls is defined.</li>
 <li><p>Scroll speed is determined from the “greatest value among BPM change objects”, or the value of <code>#BASEBPM</code>.</p>
  <ul>
   <li>LR2 has an optional function in which a HI-SPEED option can be set up automatically.</li>
   <li>When using this function, usually, a HI-SPEED option is determined based on “greatest value among BPM change objects”.</li>
   <li>However, for example, in “the musical score which accelerates only the very short section suddenly”,
    this function will bring about a disappointing result.</li>
   <li>In that case, <code>#BASEBPM</code> can define “an expedient alternative standard”.</li>
  </ul></li>
</ul>
</section>



<section id="STOPXX">
<h3><code><a href="#STOPXX">#STOP<var>[01-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx09</code></td></tr>
  <tr><th scope="row">origin:</th><td>DDR Ver.0.50 beta2 <time datetime="2001-12-24">2001-12-24</time></td></tr>
 </tbody>
 <tbody>
  <tr><th scope="rowgroup" colspan="2">index range:</th></tr>
  <tr><th scope="row"><code><var>[01-99]</var></code>:</th>
   <td>pomu2 (origin) // decimal index only, but <code>#xxx09:<em class="red">[01-2R]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-73]</var></code>:</th>
   <td>RDM (origin) // 255 base-36 indexes, but <code>#xxx09:<em class="red">[01-FF]</em></code></td></tr>
  <tr><th scope="row"><code><var>[01-73]</var></code>:</th>
   <td>fgt (origin) // 255 base-36 indexes, but <code><em class="red">[41, 45-4F, 4H]</em></code> have bugs</td></tr>
  <tr><th scope="row"><code><var>[01-FF]</var></code>:</th>
   <td>DDR (origin), nazo, nazoZZ, GALLI, WAview, PMSee-V, <del datetime="2014-02-27T20:00:00+09:00">pomu2?, O2mania</del></td></tr>
  <tr>
   <th scope="row"><code><var>[01-ZZ]</var></code>:</th>
   <td>nanasi (origin), LR2, ruvit, fgt++, fgt#, BMSE, uBMplay, in_bm2, bme2wav, BGAenc, bmx2wav, iBMSC, IIDXv, HDX, Angolmois,
    Sonorous, BGAEncAdv, TechnicalGroove, diff</td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>DDR-type STOP sequence is defined.</li>
 <li>STOP sequence is an object which stops scrolling of a musical score for a definite period of time.</li>
 <li>Progress of the defined time will resume scrolling of a musical score.</li>
 <li><del>Let the resolution of general implementation be the unit 1.</del></li>
 <li><del>That is,</del> <ins>Let the</ins> “a musical note having the time value of 1/192 of a whole note” in 4/4 meter <ins>be the unit 1</ins>.</li>
 <li>That is, <code>192nd&nbsp;note&nbsp;*&nbsp;1&nbsp;===&nbsp;#STOP<var>xx</var>&nbsp;1</code></li>
 <li><p>This value must not be subject to the influence of the channel <code>#xxx02</code> (command which changes the length of measure).</p>
  <p>It is because a “musical note” is a unit which is unrelated to the length of measure.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
<pre><code>#STOP11&nbsp;96
#STOP22&nbsp;96
#00109:0011
#00202:0.5
#00209:0022</code></pre>
     </td>
     <td>
      <p>The value <code>96</code> is <code>192nd&nbsp;note&nbsp;*&nbsp;96</code>.</p>
      <p>In <code>#001</code> and <code>#002</code>, time to stop is the same.</p>
      <p>The old version of WAview and the old version of pomu had a bug for which stop time depends on channel <code>#xxx02</code>.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>Since it is based on a musical note, time to stop is dependent on “the value of BPM at the time of stopping”.</p>
  <table>
   <thead>
    <tr>
     <th scope="col">Scrolling stops for 1 second:</th>
     <th scope="col">Scrolling stops for 0.5 second:</th>
     <th scope="col">Scrolling stops for 0.25 second:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre><code>#BPM&nbsp;60
#STOP33&nbsp;48
#00109:33</code></pre></td>
     <td><pre><code>#BPM&nbsp;120
#STOP44&nbsp;48
#00109:44</code></pre></td>
     <td><pre><code>#BPM&nbsp;240
#STOP55&nbsp;48
#00109:55</code></pre></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>When two or more objects are located in the same time line, a STOP object needs to be evaluated latest.</p>
  <ul>
   <li>When a STOP object and a voice object are put on the same timing, a sound is sounded first and then scrolling is stopped.</li>
   <li>When a STOP object and a BPM object are put on the same timing, BPM is changed first and then scrolling is stopped.</li>
  </ul></li>
 <li>Although almost all implementations have followed this behavior, <del datetime="2014-02-27T20:00:00+09:00">only pomu2</del>
  <ins datetime="2014-02-27T20:00:00+09:00">some implementations</ins> may bring a different result from others.</li>
 <li><p>Theoretically, stop time is boundlessly extensible if small BPM and big STOP are combined.</p>
  <p><img src="content/bmse_main_bpmcosmo.png" alt="BPM1.250001 + STOP2.147484E+9" width="223" height="37">
   BPM <code>1.250001</code> + STOP <code>2147483647</code></p>
  <p><img src="content/68years.png" alt="68 years or more of stop" width="231" height="60">
  STOP time: about <time datetime="P68Y35DT2H50M">68-years 35-days 2-hours 50-minutes</time> (However, apps other than uBMplay will do forced termination.)</p></li>
 <li><p>When the value of a negative number is defined, some implementations skip scrolling of a musical score.</p>
  <table>
   <tbody>
    <tr><th scope="row">skip:</th>
     <td><del datetime="2014-02-27T20:00:00+09:00">RDM</del>, nazo, nazoZZ, fgt, fgt++, fgt#, pomu2, uBMplay, IIDXv, HDX, Angolmois (Rust), BGAEnc</td></tr>
    <tr><th scope="row">warn:</th><td>PMSee-V</td></tr>
    <tr><th scope="row">slide:</th><td>bme2wav, bmx2wav</td></tr>
    <tr><th scope="row">apply <code>-1</code>:</th><td>LR2 (few skip), RDM</td></tr>
    <tr><th scope="row">apply <code>0</code>:</th><td>DDR, iBMSC</td></tr>
    <tr><th scope="row">apply <code>0.1</code>:</th><td>nanasi</td></tr>
    <tr><th scope="row">ignore:</th><td><del datetime="2014-02-27T20:00:00+09:00">LR2, nanasi,</del> WAview, in_bm2, ruvit, Angolmois (C), Sonorous</td></tr>
    <tr><th scope="row">forced termination:</th><td><del datetime="2014-02-27T20:00:00+09:00">ruvit</del></td></tr>
    <tr><th scope="row">apply absolute value:</th><td>BGAEncAdv, TechnicalGroove</td></tr>
   </tbody>
  </table></li>
 <li id="FRACTIONAL-STOP"><p>Some implementations parse the value of decimal fraction.</p>
  <table>
   <tbody>
    <tr><th scope="row">apply fractional value:</th><td><del datetime="2014-02-27T20:00:00+09:00">RDM,</del>
     ruvit, nanasi, fgt#, iBMSC, IIDXv, HDX, BGAEncAdv, TechnicalGroove</td></tr>
    <tr><th scope="row">integerized (skip fraction):</th><td>DDR, WAview, in_bm2, bme2wav, LR2, fgt++, Angolmois, Sonorous,
     <ins datetime="2014-02-27T20:00:00+09:00">RDM, BGAEnc, GALLI, pomu2, PMSee-V</ins></td></tr>
    <tr><th scope="row">integerized (rounding off):</th><td>nazo, nazoZZ, uBMplay, BMSE</td></tr>
    <tr><th scope="row">sharply out of order:</th><td><del datetime="2014-02-27T20:00:00+09:00">GALLI, pomu2, PMSee-V</del></td></tr>
    <tr><th scope="row">conversion is stopped:</th><td>bmx2wav</td></tr>
   </tbody>
  </table>
  <ul>
   <li>Essentially, <code>#STOP</code> should receive neither a negative number nor a decimal fraction.
    <ins datetime="2013-07-30T22:00:00+09:00">[Note: my opinion]</ins></li>
   <li>BMSE &amp; iBMSC which forbids the input of the unjust value is smart.</li>
  </ul></li>
 <li><p>BMSE cannot reuse the scroll-object given a definition. iBMSC can reuse the scroll-object given a definition.</p>
  <ul>
   <li>Therefore, in BMSE, the STOP object can read and write only 1295 pieces at the maximum.</li>
   <li>When setting 1295 kinds of values infinitely, we have to use the means which is not BMSE.</li>
  </ul></li>
 <li>BMSE defines the index of <code>#STOPxx</code> by <code><var>[01-FF]</var></code>, if the used STOP object is less than 255 pieces.</li>
 <li>BMSE defines the index of <code>#STOPxx</code> by <code><var>[01-ZZ]</var></code>, if the used STOP object is 256 or more pieces.</li>
 <li>See also: <a href="exstop.html" hreflang="en">STOP Sequence - BMS Command</a></li>
</ul>
</section>



<section id="STP">
<h3><code><a href="#STP">#STP&nbsp;<var>xxx</var>.<var>yyy</var>&nbsp;<var>zzzz</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, Angolmois, Sonorous</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>bemaniaDX-type STP sequence is defined.</p>
  <table>
   <tbody>
    <tr><th scope="row"><code><var>xxx</var></code></th><td><code><var>[000-399]</var></code></td>
     <td>measure (Angolmois &amp; Sonorous: <code><var>[000-999]</var></code>)</td></tr>
    <tr><th scope="row"><code><var>yyy</var></code></th><td><code><var>[000-999]</var></code></td><td>position in measure (yyy/1000)</td></tr>
    <tr><th scope="row"><code><var>zzzz</var></code></th><td></td><td>stop time (ms)</td></tr>
   </tbody>
  </table></li>
 <li><p>The following example stops 4500-millisecond time in total.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#STP&nbsp;001.500&nbsp;&nbsp;500
#STP&nbsp;001.500&nbsp;4000</code></pre></td>
     <td>
      <p>in the middle position of <code>#001</code>, stops 500ms</p>
      <p>duplication definition can be carried out at the same place. add stop time 4000ms</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>If a bemaniaDX-type STP sequence is not used, there will be no necessity of describing.</li>
 <li><p>Although not described by specification, detail is as follows.</p>
  <ul>
   <li>It is necessary to specify <code>xxx</code> and <code>yyy</code> in three-figure numbers. Omission of <code>0</code> is not allowed.</li>
   <li>It is necessary to describe a period as a delimiter between <code>xxx</code> and <code>yyy</code>.</li>
   <li><p>Between <code>yyy</code> and <code>zzzz</code>, half-width spaces, tabs, or full-width spaces is required as a delimiter.</p>
    <p>This delimiter must be one or more characters, and must be less than seven characters.</p></li>
   <li>When a period and <code>yyy</code> are omitted, it is interpreted as <code>#STP&nbsp;xxx.000&nbsp;zzzz</code>.</li>
   <li><p>We may describe characters other than a number after <code>zzzz</code>. These are commented out in parsing.</p>
    <p>However, since internal processing is not clear, the expectation cannot perform being thrown away as a comment.</p></li>
   <li><p>Although it seems that the position <code>yyy</code> is divided evenly into <code>1000</code>,
     the value of <code>960</code> or more is disregarded in practice.</p>
    <p>A bug has even a possibility of not responding.</p></li>
   <li><p>bemaniaDX is not supporting <code>#400</code> or more.</p>
    <p>It will get buggy, if it tries to write a music side in the same way as other implementations.</p></li>
   <li><p>It will be ignored if an <code>#STP</code> sentence is overlapped in large quantities.</p>
    <p>But, duplicate limits are not shown in specification.</p></li>
  </ul></li>
 <li>The STP sequence of Angolmois &amp; Sonorous operates rather than that of bemaniaDX as expected.</li>
</ul>
</section>



<section id="LNTYPE-1">
<h3><code><a href="#LNTYPE-1">#LNTYPE&nbsp;1</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx51-69</code></td></tr>
  <tr><th scope="row">origin:</th><td>RDM</td></tr>
  <tr><th scope="row">support:</th><td>RDM (1.3+), WAview, in_BM2, ruvit, Angolmois, Sonorous, o2mania</td></tr>
  <tr>
   <th scope="row">omissible:</th>
   <td>
    <p>RDM (1.7+), DDR (Arrow mode only), nazo, nazoZZ, WAview, in_BM2, bme2wav, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins></p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, iBMSC, uBMplay, PMSee-V (1.1.6+), IIDXv, bmx2wav, o2play, HDX, Angolmois,
     Sonorous, TechnicalGroove, diff</p>
   </td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#LNTYPE</code> declares notation of <abbr title="Long Note">LN</abbr> on which a musical score is based.</li>
 <li>In LN channel <code>#xxx51-69</code>, when value of <code>#LNTYPE</code> is <code>1</code>, RDM-type is chosen in RDM-type and MGQ-type.</li>
 <li><p>When this command is omitted, RDM-type is applied implicitly.</p>
  <ul>
   <li>However, MGQ.exe is excluded. It is because MGQ.exe is unrelated to the specification of RDM.</li>
  </ul></li>
 <li>In the applications which implemented both RDM-type and MGQ-type, this declaration has a clear meaning.</li>
 <li>In the applications which does not implement MGQ-type, this declaration is meaningless.</li>
</ul>
<ul class="noMarginTop">
 <li>MGQ type has already been exterminated.</li>
 <li>All the apps that support LN are implementing RDM-type.</li>
 <li>Therefore, the necessity of describing <code>#LNTYPE&nbsp;1</code> explicitly does not exist any longer.</li>
 <li>This declaration remains only for backward compatibility.</li>
</ul>
<ul class="noMarginTop">
 <li><p>Specification has not specified the priority when RDM-type <code>#xxx51-69</code> and <code>#LNOBJ</code> compete.</p>
  <ul>
   <li>In pomu2, When <code>#xxx51-69</code> and <code>#LNOBJ</code> compete,
    there is a bug from which the channel <code>#xxx51-69</code> changes to <code>#xxx11-29</code> altogether.</li>
   <li>In LR2, when <code>#xxx51-69</code> and <code>#LNOBJ</code> compete,
    parsing result may change delicately by whether <code>#LNTYPE</code> exists or not.</li>
  </ul></li>
 <li>In DDR, a compile error is returned when a musical score reaches to an end, while an end point symbol is not found.</li>
 <li>In BMSE, if the object of the channel <code>#xxx51-69</code> is moved to BGM area, BMSE will be forced termination.</li>
 <li>In iBMSC, <del>not <code>#LNTYPE&nbsp;1</code> but <code>#LNTYPE&nbsp;01</code> is added automatically.</del>
  <ins datetime="2012-01-13T00:00:00+09:00">Fixed in Version 3.0 Delta</ins></li>
 <li><strong class="red">In o2mania, <code>#LNTYPE&nbsp;1</code> is not omissible.</strong>
  <code>1</code> and <code>01</code> are received as a valid value. <code>001</code> is an invalid value.</li>
</ul>

<dl>
 <dt>details:</dt>
 <dd>
  <p>RDM-notation can be regarded as the syntax sugar of MGQ-notation. <code>#LNTYPE&nbsp;1</code> is <b class="u">RDM-type #1 LN</b>.</p>
  <p>It is opened from the position where notes other than <code>00</code> appear. (LN start point symbol)</p>
  <p>It is closed in the position where notes other than <code>00</code> appear next. (LN end point symbol)</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNTYPE&nbsp;1
#00151:00<mark>220000</mark>
#06451:<mark>0000000000</mark>33</code></pre></td>
     <td><p>This declaration is omissible in implementations other than O2mania.</p>
      <p>LN section is started in <code>#001</code>.</p>
      <p>When any objects other than an end point are not inserted between this LN section, this LN section is closed in <code>#064</code>.</p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>This example forms one LN section with the length of <code>#001-064</code>.</p>
  <p>One LN section may be counted as “one object”, and may be counted as “two objects”. It is implementation-dependent.
   Most implementations count it as one object.</p>
  <p>A sound will be sounded with a starting position if the file is defined to <code>#WAV22</code>.</p>
  <p>A sound is not sounded with an ending position even when the file is defined to <code>#WAV33</code>.
   In <code>#LNTYPE&nbsp;1</code>, the sound of an ending position is always disregarded.</p>
  <p>The <code>#WAV</code>-index of a starting position and that of an ending position are not always the same.
   However, if a BMS editor is used, they will become the same in almost all cases.</p>
 </dd>
</dl>

<section id="KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1" itemscope="itemscope">
<h4><a href="#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">Keyup&nbsp;sounding&nbsp;at&nbsp;endpoint&nbsp;of&nbsp;LN&nbsp;(<code>#LNTYPE&nbsp;1</code>)</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx51-69</code></td></tr>
  <tr><th scope="row">origin:</th><td>HDX</td></tr>
  <tr><th scope="row">support:</th><td>HDX, IIDXv, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul>
 <li><p>When the index of the starting position of LN differs from the index of an ending position, sound which is different in each position is played.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#WAVaa&nbsp;onkeydown.wav
#WAVbb&nbsp;onkeyup.wav
#00151:00<mark>aa00</mark>bb</code></pre></td>
     <td><p>Audio file for starting position of LN</p>
      <p>Audio file for ending position of LN</p>
      <p><code>onkeydown.wav</code> sounds at a starting position. <code>onkeyup.wav</code> sounds at an ending position.</p></td>
    </tr>
   </tbody>
  </table></li>
 <li>If it combines with the game system which judges the ending position of LN, the <a class="external" rel="external" title="BEATMANIA IIDX 17 SIRIUS - Almagest (A CLEAR w. HANDS) - YouTube" href="https://www.youtube.com/watch?v=NlXhaZUrB6M">“backspin scratch”</a> (<cite>beatmania IIDX</cite>) may be simulated.</li>
</ul>
</section>

</section>



<section id="LNTYPE-2" itemscope="itemscope">
<h3><code><a href="#LNTYPE-2">#LNTYPE&nbsp;2</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx51-8C</code></td></tr>
  <tr><th scope="row">origin:</th><td>RDM</td></tr>
  <tr><th scope="row">support:</th><td>RDM (1.3+), WAview, in_BM2, ruvit, Angolmois, Sonorous</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">This command is obsolete. We should not use this command any more.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#LNTYPE</code> declares notation of <abbr title="Long Note">LN</abbr> on which a musical score is based.</li>
 <li>In LN channel <code>#xxx51-8C</code>, when value of <code>#LNTYPE</code> is <code>2</code>, MGQ-type is chosen in RDM-type and MGQ-type.</li>
 <li><p>When this command is omitted, RDM-type is applied implicitly.</p>
  <ul>
   <li>However, MGQ.exe is excluded. It is because MGQ.exe is unrelated to the specification of RDM.</li>
   <li>Therefore, MGQ.exe disregards <code>#LNTYPE</code>. MGQ.exe always interprets <code>#xxx51-8C</code> as MGQ-notation LN.</li>
  </ul></li>
 <li><p>MGQ format is a subspecies (subset) of BMS and can emulate the musical score of <cite>KEYBOARDMANIA</cite>. 24 KEYS *2 is prepared.</p>
  <ul>
   <li><del datetime="2011-10-24T00:00:00+09:00">1P-side LN: channel <code>#xxx51-5C</code> and <code>#xxx61-6C</code></del></li>
   <li><del datetime="2011-10-24T00:00:00+09:00">2P-side LN: channel <code>#xxx71-7C</code> and <code>#xxx81-8C</code></del></li>
  </ul></li>
 <li><p>MGQ format is obsolete. We should not use MGQ-LN any longer.</p>
  <ul>
   <li>In order to play a game like <cite>KEYBOARDMANIA</cite>, some formats more suitable than MGQ are devised.</li>
   <li>For example, <cite>Synthesia</cite> is supporting “direct scorize from MIDI” and 87KEYS. <a class="external" rel="external" title="John Stump vs. UN Owen Was Her? (Synthesia) - YouTube" href="https://www.youtube.com/watch?v=euadl2uWy_g"><span itemprop="url">https://www.youtube.com/watch?v=euadl2uWy_g</span></a></li>
  </ul></li>
 <li>In WAview and in_bm2, MGQ-LN is not parsed correctly. It is against the specification of RDM at least.</li>
 <li>In RDM and ruvit, when the last note is MGQ-LN, it is not parsed correctly. (probably bug)</li>
</ul>

<dl>
 <dt>details:</dt>
 <dd>
  <p><code>#LNTYPE&nbsp;2</code> is <b class="u">MGQ-notation LN</b>.</p>
  <p>It is opened from the position where notes other than <code>00</code> appear.</p>
  <p>It is connected when continuing except <code>00</code>.</p>
  <p>It is closed when <code>00</code> appears.</p>
  <p>If “the note of the last in previous measure” is not <code>00</code>
   and “the note of the beginning in current measure” moreover is not <code>00</code>,
   MGQ-LN is connected extending over bar-line.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNTYPE&nbsp;2
#00151:00<mark>22zzzz</mark>
#00251:<mark>zz</mark>
#00351:<mark>zz</mark>
<mark>...</mark>
#06351:<mark>zz</mark>
#06451:<mark>zzzzzzzz33</mark>00
#06551:<mark>00</mark>
#06511:0011</code></pre></td>
     <td>
      <p><strong class="red">declaration cannot be omitted</strong></p>
      <p>LN start &amp; endure LN</p>
      <p>The symbol of continuation of LN cannot be omitted</p>
      <p>The symbol of continuation of LN cannot be omitted</p>
      <p>it cannot be omitted...</p>
      <p>it cannot be omitted...</p>
      <p>There is no necessity that the last is <code>33</code>. <code>33</code> may be other indexes.</p>
      <p>explicit LN end point symbol <code>00</code> (omissible)</p>
      <p>in order to avoid a bug of RDM/ruvit ... the note of the last of each line must be non-MGQ-LN</p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>This example expresses the same musical score as the example of <code>#LNTYPE&nbsp;1</code>. (<code>#06511:0011</code> is excluded.)</p>
  <p>In RDM and ruvit, sounding in a starting position and an ending position also becomes the same as the example of <code>#LNTYPE&nbsp;1</code>.</p>
  <p>(Since WAview and in_bm2 are buggy, I cannot judge them. )</p>
  <p>We must be very patient when using a MGQ-LN.</p>
 </dd>
 <dt>Note<ins datetime="2013-03-12T18:00:00+09:00" class="red">: Angolmois version 798422870970 (<time datetime="2013-03-10T01:54:46+09:00">March 10, 2013</time>) or earlier</ins></dt>
 <dd>
  <p>Although <a href="https://nvyu.net/rdm/rby_ex.php" class="external" rel="external" hreflang="ko" title="ruv-it! | support page">implementation of ruvit</a> is as above-mentioned, the MGQ specification which <cite><a href="https://cosmic.mearie.org/2005/03/bmsguide/" class="external" rel="external" hreflang="ko" title="TokigunStudio: Guide to understand BMS format">Guide to understand BMS format</a></cite> explains is more complicated.</p>
  <p>I without MGQ.exe cannot verify the validity of these documents.</p>
  <p>At least, in order to obtain the same parsing result by both ruvit and Angolmois <ins datetime="2013-03-12T18:00:00+09:00" class="red">798422870970 (<time datetime="2013-03-10T01:54:46+09:00">March 10, 2013</time>) or earlier</ins>, we have to describe as follows.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNTYPE&nbsp;2
#00151:00<mark>222222</mark>
#00251:<mark>22</mark>
#00351:<mark>22</mark>
<mark>...</mark>
#06351:<mark>22</mark>
#06451:<mark>2222222222</mark>00
#06551:<mark>00</mark>
#06511:0011</code></pre></td>
     <td>
      <p><strong class="red">declaration cannot be omitted</strong></p>
      <p>LN start &amp; endure LN (<strong class="red">all indexes must be the same</strong>)</p>
      <p>The symbol of continuation of LN cannot be omitted</p>
      <p>The symbol of continuation of LN cannot be omitted</p>
      <p>it cannot be omitted...</p>
      <p>it cannot be omitted...</p>
      <p>The last index must also be the same as first index</p>
      <p>explicit LN end point symbol <code>00</code> (omissible)</p>
      <p>in order to avoid a bug of RDM/ruvit ... the note of the last of each line must be non-MGQ-LN</p>
     </td>
    </tr>
   </tbody>
  </table></dd>
 <dd><ins datetime="2013-03-12T18:00:00+09:00">[Angolmois version 798422870970 (<time datetime="2013-03-10T01:54:46+09:00">March 10, 2013</time>) or later]
  Even when different indexes continued, parser was changed so that the same parsing result as ruvit might be derived.</ins></dd>
</dl>
</section>



<section id="LNOBJ">
<h3><code><a href="#LNOBJ">#LNOBJ&nbsp;<var>xx</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-29</code></td></tr>
  <tr><th scope="row">origin:</th><td>RDM</td></tr>
  <tr>
   <th scope="row">support:</th>
   <td><p>RDM (1.61+), nazo, nazoZZ, <del>WAview</del> <ins>(buggy)</ins>, <del>in_bm2</del> <ins>(buggy)</ins>, bme2wav,</p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, uBMplay, PMSee-V, bmx2wav, iBMSC (3.0+), Angolmois, Sonorous, TechnicalGroove</p></td>
  </tr>
  <tr><th scope="row">sound or not:</th><td>bmx2wav (changable)</td></tr>
  <tr><th scope="row">sound as BGM:</th><td>RDM (1.61+), ruvit, <del datetime="2013-08-01T06:00:00+09:00">Angolmois (limited to autoplay) ?,</del> </td></tr>
  <tr><th scope="row">sound as KEY:</th><td>TechnicalGroove (Keyup sounding)</td></tr>
  <tr><th scope="row">multiple <code>#LNOBJ</code>:</th><td>TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>RDM-type #2 LN is applied when this command is described.</li>
 <li>One of the indexes of <code>#WAV</code> is specified to XX. Arbitrary <code>#WAV</code>-index is used as a termination mark of LN.</li>
 <li>If one <code>#WAV</code>-index is consumed, it can edit with no distinction from usual channel <code>#xxx11-29</code>.</li>
 <li>Therefore, <code>#LNOBJ</code> was frequently used for the time when BMS editors other than BMSC did not exist.</li>
 <li>In order to avoid the bug of BMSE, this command is still used frequently.
  (If the LN of <code>#xxx51-69</code> is moved to BGM, BMSE will do forced termination.)</li>
 <li><p>In implementation which does not support <code>#LNOBJ</code>, it becomes usual channel <code>#xxx11-29</code>.</p>
  <ul>
   <li>In order to avoid becoming a musical score which is against noter's will, changing a filename extension into BML is recommended.</li>
   <li><p>Strictly speaking, it is a mistake that implementation which does not support <code>#LNOBJ</code> supports the filename extension BML.</p>
    <ul>
     <li>Implementation which does not support the filename extension BML since <code>#LNOBJ</code> is not supported,
      although <code>#xxx51-69</code> is supported: DDR</li>
     <li>Loose group which does not support <code>#LNOBJ</code> but supports the filename extension BML: WAview, in_bm2, IIDXv, HDX, <del>iBMSC,</del> O2play</li>
    </ul></li>
   <li>Although BMSE is not supporting <code>#LNOBJ</code> explicitly, <code>#LNOBJ</code> can be edited in the “Expand” tab.</li>
  </ul></li>
 <li>In <code>#LNOBJ</code>, it is better to write <code>#WAV</code>-index with uppercase,
  since nanasi and fgt++ have a bug which does not recognize lowercase.</li>
</ul>

<dl>
 <dt>details:</dt>
 <dd>
  <p><code>#LNOBJ</code> is a syntax sugar of RDM-type #1, and it is <b class="u">RDM-type #2 LN</b>.</p>
  <p>The note of <code>#WAV</code>-index defined to <code>#LNOBJ</code> is used as a termination mark (closing symbol) of LN.</p>
  <p>When a termination mark is found, the visible object in front of that is interpreted as the LN start point.</p>
  <p>The musical score using <code>#LNOBJ</code> does not need declaration of <code>#LNTYPE</code>.</p>
  <p>When a termination mark passes the line which judges,
   <b class="red">the file of the <code>#WAV</code>-index defined as <code>#LNOBJ</code> is sounded as BGM.</b></p>
  <ul>
   <li>This behavior is based on the specification of RDM,
    <!-- but implementation which does not sound a termination mark also exists. -->
    but most implementations do not sound a termination mark.</li>
   <li>Compatibility will be maintained if the index of “empty <code>#WAV</code>” is defined to <code>#LNOBJ</code>.</li>
  </ul>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#LNOBJ&nbsp;ZZ
#00111:00<mark>220000</mark>
#06411:<mark>0000000000</mark>zz</code></pre></td>
     <td>
      <p>In order to avoid the bug of nanasi and fgt++, <code>#WAV</code>-index is specified by uppercase.</p>
      <p>This example expresses the same musical score as the example of <code>#LNTYPE&nbsp;1</code>.</p>
      <p>However, a termination mark may be sounded if the file was defined to <code>#WAVzz</code>. (implementation-dependent)</p>
     </td>
    </tr>
   </tbody>
  </table>
 </dd>
</dl>

<section id="KEYUP-SOUNDING-AT-LNOBJ" itemscope="itemscope">
<h4><a href="#KEYUP-SOUNDING-AT-LNOBJ">Keyup&nbsp;sounding&nbsp;at&nbsp;endpoint&nbsp;of&nbsp;LN (<code>#LNOBJ</code>)</a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-29</code></td></tr>
  <tr><th scope="row">origin:</th><td>TechnicalGroove</td></tr>
  <tr><th scope="row">support:</th><td>TechnicalGroove</td></tr>
 </tbody>
</table>
<ul>
 <li><p>This is <code>#LNOBJ</code> implementation of <a href="#KEYUP-SOUNDING-AT-ENDPOINT-OF-LNTYPE1">HDX extension</a>. For example:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#WAVaa&nbsp;onkeydown1.wav
#WAVbb&nbsp;onkeyup1.wav
#WAVcc&nbsp;onkeydown2.wav
#WAVdd&nbsp;onkeyup2.wav
#LNOBJ&nbsp;BB
#LNOBJ&nbsp;DD
#00111:00<mark>aa00</mark>bb
#00213:00<mark>cc00</mark>dd</code></pre></td>
     <td><p>Audio file for starting position of LN (1)</p>
      <p>Audio file for ending position of LN (1)</p>
      <p>Audio file for starting position of LN (2)</p>
      <p>Audio file for ending position of LN (2)</p>
      <p>Definition of LN termination object (1)</p>
      <p>Definition of LN termination object (2) (<strong class="red">multiple LNOBJ</strong>)</p>
      <p><code>onkeydown1.wav</code> sounds at a starting position. <code>onkeyup1.wav</code> sounds at an ending position.</p>
      <p><code>onkeydown2.wav</code> sounds at a starting position. <code>onkeyup2.wav</code> sounds at an ending position.</p></td>
    </tr>
   </tbody>
  </table></li>
</ul>
<!-- /#KEYUP-SOUNDING-AT-LNOBJ -->
</section>

<!-- /#LNOBJ -->
</section>



<section id="OCT-FP" itemscope="itemscope">
<h3><code><a href="#OCT-FP">#OCT/FP</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (, BMSE, Angolmois, Sonorous), uBMplay (1.5.0+), TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>BMS to which this command was written is interpreted as OCTAVE MODE.</li>
 <li>This command does not have a value.</li>
</ul>

<dl>
 <dt>about OCT/FP: <a title="idee&#39;s page" class="external" rel="external nofollow" hreflang="ja" href="https://web.archive.org/web/*/http://www.diana.dti.ne.jp/~idee/octave.html"><span itemprop="url">https://web.archive.org/web/*/http://www.diana.dti.ne.jp/~idee/octave.html</span></a></dt>
 <dd>
  <p>OCT/FP is Octave mode / Foot Pedal mode. This format was proposed by <span itemprop="name">idee</span> in 2002 (2003?).</p>
  <p>Octave mode uses 13-keys and 2 turntables. And 1 foot pedal can be used as an option.</p>
  <p>This is the mode which changed the appearance of 14KEYS (the double play of 7KEYS and 1 SCRATCH).</p>
  <p>The channels which this mode uses are completely the same as 14KEYS.</p>
  <p>This format expresses 14KEYS as pseudo-OCT/FP by using nazo which can change appearance flexibly.</p>
  <p>The way of thinking of this format resembles <cite>Project2DX</cite>.</p>
  <p>BMSE is supporting edit of the musical score of OCT/FP by method of theme files.</p>
 </dd>
</dl>

<ul class="noMarginTop">
 <li>nanasi cannot distinguish 14KEYS and OCT/FP. It is because nanasi guesses the mode from the used channels.</li>
 <li>Therefore, nanasi needs this <code>#OCT/FP</code> command as an identifier.</li>
 <li>When this command is found, nanasi always carries out the rendering of the BMS as OCT/FP.</li>
 <li><p>Apps other than nanasi <ins datetime="2013-07-03T12:00:00+09:00">and uBMplay 1.5.0+</ins> <ins datetime="2013-07-30T22:00:00+09:00">and TechnicalGroove</ins>
  ignore this command.</p>
  <ul>
   <li>BMSE isolates <code>#OCT/FP</code> command into “Expand” tab.</li>
   <li><p>It is necessary to change the theme file of BMSE manually. The procedure of changing theme files of BMSE:</p>
    <ol>
     <li>Choose the “Basic” tab of the upper right position of a BMSE window.</li>
     <li>Select the pull down menu <code>#PLAYER</code>.</li>
     <li>Choose the menu item “13 keys (oct/fp)”.</li>
     <li><ins datetime="2013-08-01T18:00:00+09:00">Choose the menubar item “<u>O</u>ptions”.</ins></li>
     <li><ins datetime="2013-08-01T18:00:00+09:00">Choose child menu item “Select <u>T</u>heme”.</ins></li>
     <li><ins datetime="2013-08-01T18:00:00+09:00">Choose descendant menu item “<u>D</u>efault (for oct/fp)”</ins></li>
    </ol></li>
   <li><p>Angolmois can apply the rendering of OCT/FP by command-line option.
     (<code>--key-spec '<var>Leftside string</var>' '<var>Rightside string</var>'</code>)</p>
    <p>E.g.: <code>$ angolmois.exe --key-spec '21p 16s 11a 12b 13a 14b 15a 18b 19a 22b 23a 24b 25a 28b 29a 26s' ''</code></p></li>
   <li><ins datetime="2013-08-01T18:00:00+09:00">Sonorous may be able to apply the rendering of OCT/FP by <code>#LANES</code> extension.</ins></li>
   <li><del datetime="2014-06-10T20:00:00+09:00"><ins datetime="2013-08-01T18:00:00+09:00">TechnicalGroove applies original mode “9KEYS/FP” (if the lanes 6-7 are not used).</ins></del></li>
  </ul></li>
 <li>The musical score of OCT/FP is not seen mostly in recent years.
  <ins datetime="2013-07-01T18:00:00+09:00">( e.g. <cite><a title="bms同窓会 No.29 - Microcosm" class="external" rel="external" hreflang="ja" href="http://bit192.ddns.net/temp/newevent/detail.php?num=29">Microcosm</a></cite>
   from <a href="http://bit192.ddns.net/temp/newevent/" class="external" rel="external" hreflang="ja" lang="ja" xml:lang="ja" title="bms同窓会(仮)">bms同窓会(仮)</a><!--
   (cite)(a title="bms&#x540C;&#x7A93;&#x4F1A; No.29 - Microcosm" class="external" rel="external"
    hreflang="ja" href="http://bmsd_bmsec.bit192.ath.cx/detail.php?num=29")Microcosm(/a)(/cite)
   from (a href="http://bmsd_bmsec.bit192.ath.cx/" class="external" rel="external" hreflang="ja" lang="ja" xml:lang="ja"
    title="bms&#x540C;&#x7A93;&#x4F1A;(&#x4EEE;)")bms&#x540C;&#x7A93;&#x4F1A;(&#x4EEE;)(/a) --> )</ins></li>
</ul>
</section>



<section id="OPTION">
<h3><code><a href="#OPTION">#OPTION&nbsp;<var>optionID</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, HDX (v0.99+), IIDXv (v2.14+), Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The playing option defined by the BMS side is compulsorily applied to the player side.</li>
 <li>When the usual command overlaps, “a line with the largest row number” is adopted, but <code>#OPTION</code> is allowed duplicate (partial).</li>
 <li><p>In order to prepare for a possibility that other apps will support, attaching vendor-prefix is recommended.</p>
  <!-- The vendor-prefix of nanasi is (code)774:(/code). -->
  <table>
   <thead><tr><th scope="col">vendor</th><th scope="col">prefix</th></tr></thead>
   <tbody>
    <tr><td>nanasi</td><td><code>774:</code></td></tr>
    <tr><td>HDX, IIDXv</td><td><code>charatbeatHDX:</code></td></tr>
    <tr><td><del datetime="2014-06-10T20:00:00+09:00">TechnicalGroove</del></td><td><del datetime="2014-06-10T20:00:00+09:00">none</del></td></tr>
   </tbody>
  </table>
  <p><del datetime="2014-06-10T20:00:00+09:00">Note:
   TechnicalGroove disregards vendor-prefixes and applies only the option which can be used.</del></p></li>
 <li>Supposing the specification of a BMS format is standardized, <code><var>optionID</var></code> without vendor-prefix may also be supported.</li>
 <li><p>Since two or more <code>#OPTION</code> can be described, specification like the following examples can be performed:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#OPTION&nbsp;774:HI-SPEED_x99.75
#OPTION&nbsp;774:HI-SPEED_x0.77
#OPTION&nbsp;774:CHANGE-HS_RANDOM
#OPTION&nbsp;774:CHANGE-HS_COMBO-UP
#OPTION&nbsp;774:HIDDEN_DEEPMIST
#OPTION&nbsp;774:HIDDEN_OFF
#OPTION&nbsp;774:RANDOM_ALL+
#OPTION&nbsp;774:RANDOM_MIRROR
#OPTION&nbsp;774:NOTES_DOUBLE
#OPTION&nbsp;774:NOTES_DBLCOPY
#OPTION&nbsp;774:CRAZY_STAR
#OPTION&nbsp;774:CRAZY_SPIN
#OPTION&nbsp;774:CRAZY_CLONE
#OPTION&nbsp;774:CRAZY_GREAT2BAD
#OPTION&nbsp;774:CRAZY_XYWAVE2
#OPTION&nbsp;774:CRAZY_3DWAVE
#OPTION&nbsp;774:CRAZY_DARK2
#OPTION&nbsp;774:CRAZY_FADEOUT
#OPTION&nbsp;774:CRAZY_RD-SIZE
#OPTION&nbsp;774:CRAZY_ADDMINE
#OPTION&nbsp;774:AUTOPLAY_LINE</code></pre></td>
     <td id="REMARKS-OF-OPTION">
      <pre>Priority is given to the line nearest to <abbr title="End Of File">EOF</abbr> when the same series overlaps.
Not <code>x99.75</code> but <code>x0.77</code> is applied. <code>x0.77</code> is a value applicable only from the BMS side.

Not <code>RANDOM</code> but <code>COMBO-UP</code> is applied. (because these are the same series)

Not <code>DEEPMIST</code> but <code>OFF</code> is applied. <code>OFF</code> cancels application of an option.

Not <code>ALL+</code> but <code>MIRROR</code> is applied. (because these are the same series)

Not <code>DOUBLE</code> but <code>DBLCOPY</code> is applied. <code>NOTES</code> series cannot be used in <code>#CHANGEOPTION</code>.
<code>CRAZY</code> series can apply two or more options.
At the usual play, it can apply only 1 option.
Only by specifying <code>#OPTION</code>, two or more <code>CRAZY</code> options are applicable.





In <code>CRAZY</code> series, “The option which acts on a judgment”
  and <code>ADDMINE</code> cannot be used by <code>#CHANGEOPTION</code>.
<code>AUTOPLAY</code> series is invalid at <code>#OPTION</code> and <code>#CHANGEOPTION</code>. (That is, this line is invalid.)</pre>
     </td>
    </tr>
   </tbody>
  </table>
  <p>In this example, a total of <b class="red">14 options</b> are applied compulsorily.</p></li>
 <li>In nanasi and pomu2, search of the implemented option is prepared as a meta-game.
  <ul>
   <li>The hidden option is released as an incentive fee in trial mode.</li>
   <li><p>If the game's element of a type which forces an option from the BMS side is accepted,</p>
    <p>it may cause a stir in the directivity of the unilinear difficulty production of a rhythm game.</p></li>
  </ul></li>
</ul>
</section>



<section id="CHANGEOPTIONXX">
<h3><code><a href="#CHANGEOPTIONXX">#CHANGEOPTION<var>[01-ZZ]</var>&nbsp;<var>optionID</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxxA6</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi 1.550</td></tr>
  <tr><th scope="row">support:</th><td>nanasi 1.550+, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>Playing options are dynamically changed from the BMS side.</li>
 <li><ins datetime="2013-05-07T12:00:00+09:00">Dynamic option change channels have the same character (multiline) as BGM channels,
  in order to enable change of two or more options simultaneously.</ins></li>
 <li><p>Some options cannot apply a dynamic change.</p>
  <ul>
   <li>Each series of <code>HI-SPEED</code>, <code>CHANGE-HS</code>, <code>HIDDEN</code>, and <code>CRAZY</code> can be used mostly.</li>
   <li>Each series of <code>GAMELEVEL</code>, <code>BASE-SPEED</code>, <code>RANDOM</code>, <code>NOTES</code>, <code>EXTRA</code>,
    and <code>AUTOPLAY</code> cannot use.</li>
   <li>In <code>CRAZY</code> series, <code>GOOD2BAD</code>, <code>GREAT2BAD</code>, <code>HELLJUDGE</code>,
    and <code>ADDMINE</code> cannot use.</li>
   <li><code>CRAZY</code> series can apply two or more options.</li>
  </ul>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#changeoption01&nbsp;774:HIDDEN_STEALTH
#changeoption02&nbsp;774:HIDDEN_OFF
#changeoption03&nbsp;774:HI-SPEED_x0.25
#032a6:00000001
#034a6:02
#034a6:03</code></pre>
     </td>
     <td>
      <p>In this example, in the timing by which the 4th quarter note of <code>#032</code> is counted,
       notes will be in the state where it is not displayed at all.</p>
      <p>And at the moment of reaching <code>#034</code>, the state of <code>STEALTH</code> will be canceled, notes will be displayed again
       (in the compressed form).</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>As for <code><var>optionID</var></code> of nanasi: [See also: <a href="option.html">option.htm</a>]</p>
  <table>
   <thead><tr><th scope="col">category</th><th scope="col">older than 1.500</th><th scope="col">newer than 1.500</th></tr></thead>
   <tbody>
    <tr><td><code>GAMELEVEL</code></td><td><code>774:GTP-EASY</code></td><td><code>774:GAMELEVEL_BEGINNER</code></td></tr>
    <tr><td><code>HI-SPEED</code></td><td><code>774:HSP-1.0</code></td><td><code>774:HI-SPEED_x1.00</code></td></tr>
    <tr><td><code>CHANGE-HS</code></td><td><code>774:HSP-COMBO</code></td><td><code>774:CHANGE-HS_COMBO-UP</code></td></tr>
    <tr><td><code>HIDDEN</code></td><td><code>774:HID-STEALTH</code></td><td><code>774:HIDDEN_STEALTH</code></td></tr>
    <tr><td><code>RANDOM</code></td><td><code>774:RND-MIRROR</code></td><td><code>774:RANDOM_MIRROR</code></td></tr>
    <tr><td><code>NOTES</code></td><td><code>774:CRA-CPDOUBLE</code></td><td><code>774:NOTES_COPY</code></td></tr>
    <tr><td><code>CRAZY</code></td><td><code>774:CRA-NORMAL</code></td><td><code>774:CRAZY_OFF</code></td></tr>
    <tr><td><code>EXTRA</code></td><td><code>774:GLV-VERYHARD</code></td><td><code>774:EXTRA_VERYHARD</code></td></tr>
   </tbody>
  </table>
  <ul>
   <li>The command which cancels an option was changed into <code>OFF</code> from <code>NORMAL</code>.</li>
   <li>nanasi 1.552 is supporting both old <code><var>optionID</var></code> and new <code><var>optionID</var></code>.</li>
   <li><ins datetime="2013-09-18T07:00:00+09:00">However, <strong class="red"><code>#CHANGEOPTION</code>
    disregards old <code><var>optionID</var></code></strong>.</ins></li>
  </ul></li>
</ul>
</section>



<section id="WAVXX" itemscope="itemscope">
<h3><code><a href="#WAVXX">#WAV<var>[00-ZZ]</var>&nbsp;<var>soundfilename</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx01</code></td><td>BGM (duplicatable)</td><td>mostly</td></tr>
  <tr><td><code>#xxx11-19</code></td><td>1P Visible Note</td><td>mostly (as for from <code>17</code> to <code>19</code>, partially)</td></tr>
  <tr><td><code>#xxx21-29</code></td><td>2P Visible Note</td><td>mostly (as for from <code>27</code> to <code>29</code>, partially)</td></tr>
  <tr><td><code>#xxx31-39</code></td><td>1P Invisible Note</td><td>mostly (as for from <code>37</code> to <code>39</code>, partially)</td></tr>
  <tr><td><code>#xxx41-49</code></td><td>2P Invisible Note</td><td>mostly (as for from <code>47</code> to <code>49</code>, partially)</td></tr>
  <tr>
   <td><code>#xxx51-59</code></td>
   <td>1P Long Note</td>
   <td><p>RDM, DDR (Arrow mode only), nazo, nazoZZ, WAview, in_BM2, bme2wav, o2mania, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins></p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, iBMSC, uBMplay, PMSee-V, bmx2wav, o2play, IIDXv, HDX, Angolmois, Sonorous, TechnicalGroove, diff</p>
    <p>(as for <code>57</code>, partially)</p></td>
  </tr>
  <tr>
   <td><code>#xxx61-69</code></td>
   <td>2P Long Note</td>
   <td><p>RDM, DDR (Arrow mode only), nazo, nazoZZ, WAview, in_BM2, bme2wav, o2mania, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins></p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, BMSE, iBMSC, uBMplay, PMSee-V, bmx2wav, o2play, IIDXv, HDX, Angolmois, Sonorous, TechnicalGroove, diff</p>
    <p>(as for <code>67</code>, partially)</p></td>
  </tr>
  <tr><td><code>#xxx97</code></td><td>BGM volume</td><td>forgetalia</td></tr>
  <tr><td><code>#xxx98</code></td><td>KEY volume</td><td>forgetalia</td></tr>
  <tr><td><code>#xxxD1-D9</code></td><td>1P Landmine</td>
   <td><p>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+), Sonorous, TechnicalGroove</p>
    <p>(as for <code>D7</code>, partially)</p></td></tr>
  <tr><td><code>#xxxE1-E9</code></td><td>2P Landmine</td>
   <td><p>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+), Sonorous, TechnicalGroove</p>
    <p>(as for <code>E7</code>, partially)</p></td></tr>
  <tr><td><code>#xxx10</code></td><td class="N">Reserved</td><td>pomu2, Angolmois
   (If specified by <code>--key-spec</code>, it will be as Visible Note. Otherwise, it will be as BGM.),
   Sonorous(?), TechnicalGroove(?)</td></tr>
  <tr><td><code>#xxx1A-1Z</code></td><td class="N">1P Visible Ex</td><td><p>pomu2, BMS List Sorter, bme2wav, bmx2wav, Angolmois (<code>--key-spec</code>),
    Sonorous(?), TechnicalGroove</p>
   <p>as BGM: {BM98, BMSV, nBMplay, PMSee-V}(<code>1A-1F</code>), BM98de, DDR, MW, MW2, RDM, ruvit, nazoZZ</p></td></tr>
  <tr><td><code>#xxx20</code></td><td class="N">Reserved</td><td>pomu2, Angolmois
   (If specified by <code>--key-spec</code>, it will be as Visible Note. Otherwise, it will be as BGM.),
   Sonorous(?), TechnicalGroove(?)</td></tr>
  <tr><td><code>#xxx2A-2Z</code></td><td class="N">2P Visible Ex</td><td>pomu2, BMS List Sorter, bme2wav, bmx2wav, Angolmois (<code>--key-spec</code>),
   Sonorous(?), TechnicalGroove</td></tr>
  <tr><td><code>#xxx30-6Z</code></td><td class="N">Inv / LN Ex</td><td>The above-mentioned extended support situation is followed</td></tr>
  <tr><td><code>#xxxD0-EZ</code></td><td class="N">Landmine Ex</td><td>Angolmois (<code>--key-spec</code>), Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>
<table>
 <thead><tr><th scope="col">index range:</th><th scope="col">origin</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>[01-FF]</code>&nbsp;(255)</td><td>BM98</td><td>BM98, otama, nBMplay, BMSC, BMSV, bmse.kpi</td></tr>
  <tr><td><code>[01-FZ]</code>&nbsp;(575)</td><td>BM98de</td><td>BM98de, DDR, RDM, MW, nazo, BMEV, bms2wav, BMSprinter</td></tr>
  <tr><td><code>[01-SF]</code>&nbsp;(1023)</td><td>PMSee-V</td><td><del datetime="2013-01-16T22:00:00+09:00">PMSee-V</del>, SMB</td></tr>
  <tr><td><code>[01-ZZ]</code>&nbsp;(1295)</td><td>bemaniaDX</td>
   <td><p>bemaniaDX, Mac, <ins datetime="2014-02-07T18:30:00+09:00">Aqua (?),</ins> GALLI, WAview, in_bm2, bme2wav, nazoZZ, DXEmu, o2play, O2mania,</p>
    <p>LR2, nanasi, ruvit, fgt++, fgt#, pomu2, uBMplay, IIDXv, HDX, PMSee-V (v2.1.0+), Angolmois, Sonorous, TechnicalGroove,</p>
    <p>GDAC2, BMSE, iBMSC, bmx2wav, woslicerII, woslicerIII, diff</p></td>
  </tr>
  <tr><td><code>00</code>&nbsp;(Landmine)</td><td>nanasi</td>
   <td>nanasi, LR2, fgt++, GDAC2+774gsc, PMSee-V (v1.11.0+), Angolmois, uBMplay (1.5.0+), Sonorous, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul>
 <li>A sound file is defined. <strong class="red">WAV</strong>-file is supported almost certainly.</li>
 <li>It is implementation-dependent which file type is supported.</li>
 <li><code>#WAVxx</code> is omissible, but when it omits, a sound does not sound.</li>
 <li><p>A single file is assignable to two or more indexes. <strong class="red">Multiplex definition</strong> is a very important technique.</p>
  <table>
   <tbody>
    <tr>
     <td><pre><code>#WAV<mark>01</mark>&nbsp;aaa.wav
#WAV<mark>02</mark>&nbsp;aaa.wav
#WAV<mark>03</mark>&nbsp;aaa.wav
#WAV<mark>04</mark>&nbsp;aaa.wav</code></pre></td>
     <td>The example which defined aaa.wav to four slots.</td>
    </tr>
   </tbody>
  </table></li>
</ul>

<section id="WAVXX-MULTIPLEX-DEFINITION">
<h4><a href="#WAVXX-MULTIPLEX-DEFINITION">Multiplex&nbsp;definition</a></h4>

<ul>
 <li><p><strong>Usually, the polyphony of <code>#WAV</code> is 1.</strong>
  However, <strong class="red">if two or more <code>#WAV</code>-indexes are nested, polyphony will increase.</strong></p>
  <table>
   <thead><tr><th scope="col">image</th><th scope="col">code</th><th scope="col">remark</th></tr></thead>
   <tbody>
    <tr>
     <td><img src="content/bmse_material_multidef4.png" alt="not_multidef_1" width="133" height="206"></td>
     <td><pre><code>#00101:<mark>01</mark>
#00101:<mark>01</mark>
#00101:<mark>01</mark>
#00101:<mark>01</mark></code></pre></td>
     <td>aaa.wav actually sounded with this example is 1 piece.</td>
    </tr>
    <tr>
     <td><img src="content/bmse_material_multidef1.png" alt="not_multidef_2" width="133" height="206"></td>
     <td><pre><code>#00111:<mark>01</mark>00000000000000
#00112:00<mark>01</mark>000000000000
#00113:0000<mark>01</mark>0000000000
#00114:000000<mark>01</mark>00000000</code></pre></td>
     <td><p>Whenever next aaa.wav is sounded with this example, the sound of previous aaa.wav is interrupted.</p>
      <p>When sound is interrupted, an obstructive noise may occur.</p></td>
    </tr>
    <tr>
     <td>
      <img src="content/bmse_material_multidef5.png" alt="multidef_1" width="133" height="206"></td>
     <td><pre><code>#00101:<mark>01</mark>
#00101:<mark>02</mark>
#00101:<mark>03</mark>
#00101:<mark>04</mark></code></pre></td>
     <td><p>aaa.wav actually sounded with this example is 4 piece.</p>
      <p>That is, the volume of aaa.wav is quadrupled.</p></td>
    </tr>
    <tr>
     <td><img src="content/bmse_material_multidef2.png" alt="multidef_2" width="133" height="206"></td>
     <td><pre><code>#00111:<mark>01</mark>00000000000000
#00112:00<mark>02</mark>000000000000
#00113:0000<mark>03</mark>0000000000
#00114:000000<mark>04</mark>00000000</code></pre></td>
     <td>The sound of aaa.wav is not interrupted.</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>The example of practical use:</p>
  <table>
   <thead><tr><th scope="col">1</th><th scope="col">2</th><th scope="col">3</th><th scope="col">4</th><th scope="col">5</th></tr></thead>
   <tbody>
    <tr>
     <td><img src="content/bmse_material_multidef8.png" alt="multidef_for_tremolo" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidef9.png" alt="multidef_for_preventNoise" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidefa.png" alt="multidef_for_prolong" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidefb.png" alt="multidef_for_turnUpVol" width="133" height="206"></td>
     <td><img src="content/bmse_material_multidef7.png" alt="not_multidef" width="43" height="206"></td>
    </tr>
   </tbody>
  </table>
  <ol>
   <li>In order to prevent generating of “unintentional noise” in a tremolo etc ...
    In the case of quiet music, this is an indispensable technique.</li>
   <li>In order not to generate the noise by the play which mistook timing.
    It is effective to the bassdrum (and what not) in which deep reverberation was applied.</li>
   <li><p>In order to sound a short sound as a pseudo-long sound. The size of archives may be able to be reduced.</p>
    <p>However, to a visible object, we should use a real long sound. It is because players will be disappointed if pseudo-long sound breaks off on the way.</p></li>
   <li>In order to enlarge volume. However, when using this method, we have to warn against generating clipping (a form of waveform distortion).</li>
   <li>A method using <b>non-multiplexed definition</b> intentionally. For example:
    <q><a class="external" rel="external" title="Kamen Rider Decade Rider Kick - YouTube" href="https://www.youtube.com/watch?v=9xEdEV5_QhE">FINAL ATTACK RIDE <mark>D-D-D-</mark>DECADE</a></q> // wow, scratchy.</li>
  </ol></li>
</ul>
</section>

<section id="WAVXX-ABOUT-WAV">
<h4><a href="#WAVXX-ABOUT-WAV">about&nbsp;WAV:</a></h4>
<ul>
 <li>The quantization bit rate of a wav file has the example for which PCM 8/16/24bit and IEEE Float 16/32bit were used in BMS. Most is PCM 16bit.</li>
 <li><p>The sampling frequency of a wav file has the example for which 8000 to 48000 Hz was used in BMS. Most is 11025 / 22050 / 44100 Hz.</p>
  <ul>
   <li><cite lang="ja" xml:lang="ja" class="DBCS">オートメーション工場</cite>
    (automation factory, <span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)
     uses all following WAVs: 8000 / 11025 / 12000 / 13275 / 16000 / 22050 / 24000 / 44100 Hz</li>
   <li>Angolmois cannot reproduce correctly the sampling frequency which is not 11025 / 22050 / 44100 Hz. This is restriction of SDL_mixer.</li>
  </ul></li>
 <li><p>There is implementation which has restricted the length of wav which can be used.</p>
  <ul>
   <li>LR2 forbids that “musical score by which the sound file longer than 60 seconds was defined” is registered into the Internet Ranking.</li>
   <li>Furthermore, LR2 has the function to convert BMS into MP3. But when BMS is using the sound file longer than 60 seconds, LR2 forbids this function.</li>
   <li>These are the counter-measure against BMS which breaks copyright. (cracking of the data of a commercial title, etc)</li>
   <li>Therefore, as implicit custom of LR2-user, <strong class="red">sound file longer than 60 seconds is seldom no longer used.</strong></li>
  </ul></li>
 <li><p>It seems that uBMplay does not sound wav with larger file size than about 65500 Kilo Bytes.</p>
  <ul>
   <li>(If it is a 44100Hz 16bit stereo, 65500KB is the length for about 10 minutes. )</li>
   <li>Probably this is restrictions of a programming language.</li>
  </ul></li>
 <li><p>It is not necessarily the case that, BMS use only always normal WAV.</p>
  <ul>
   <li>WAV by which meta-information other than a <code>&lt;fmt &gt;</code> chunk is superfluously added to the header or the footer (e.g. Loop tag)</li>
   <li>The <strong class="red">zero byte <code>&lt;data&gt;</code> chunk</strong> which specific waveform slicer software (such as older woslicerII) may output</li>
   <li>RIFF WAV which is non-linear PCM; above-mentioned <i>IEEE Float</i> format, below-mentioned <i>mu-law</i> format, etc.</li>
  </ul>
  <p>The tolerant software may be able to sound these. However, the software which returns an error also exists.</p></li>
</ul>
</section>

<section id="WAVXX-ABOUT-OGG">
<h4><a href="#WAVXX-ABOUT-OGG">about&nbsp;OGG:</a></h4>
<ul>
 <li><p>The modern implementation is supporting <strong class="red">OGG</strong>.
  (<a class="external" rel="external" hreflang="en" title="Ogg - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Ogg"><span itemprop="url">https://en.wikipedia.org/wiki/Ogg</span></a>)</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR?</td></tr>
    <tr><th scope="row">support:</th><td>DDR, LR2, nanasi, ruvit, fgt++, fgt#, pomu2, nazoZZ, iBMSC, uBMplay, PMSee-V, o2play, bmx2wav,
     IIDXv(Note), HDX<del datetime="2013-08-01T18:00:00+09:00">(Note)</del>, Angolmois, Sonorous, TechnicalGroove, woslicerII, woslicerIII</td></tr>
   </tbody>
  </table>
  <ul>
   <li>Note: (In IIDXv being a default<del datetime="2013-08-01T18:00:00+09:00">, and in HDX being changing the configuration,</del>)
    WAV files after decoding are cached. Be careful of the capacity of Hard Disk Drives.</li>
   <li><ins datetime="2013-08-01T18:00:00+09:00">[HDX v1.00 or later] Removed configuration “WAV cache after decoding”</ins></li>
  </ul></li>
 <li><p>BMSE can sound OGG, if DirectShow Filters is applied. (This is unofficial behavior. Formal support is not made. )</p>
  <p>e.g. One of next: [<a class="external" rel="external" hreflang="en" title="Codecs.com | Downloads for RadLight Ogg Media DirectShow filter 1.0.0.2" href="http://www.free-codecs.com/radlight_ogg_media_directshow_filter_download.htm">RadLight Ogg Media DirectShow filters</a>] or
   <!-- Free-Codecs.com :: Download RadLight Ogg Media DirectShow filter 1.0.0.2
    : RadLight Ogg Media DirectShow filter suite enables playback of Ogg and OGM files
     http://www.free-codecs.com/RadLight_Ogg_Media_DirectShow_filter_download.htm -->
   [<a class="external" rel="external" hreflang="en" title="Directshow Filters for Ogg Vorbis, Speex, Theora and FLAC: Home" href="http://www.xiph.org/dshow/">Open Codecs</a>]<!-- or
   [(a class="external" rel="external" hreflang="en" title="Index of /authors/VA022257/ogm"
    href="http://hp.vector.co.jp/authors/VA022257/ogm/")OggDS(/a)] --></p></li>
 <li>OGG can exchange a high quality sound in handy size, and is very convenient.</li>
 <li>However, since OGG needs to be decoded at the time of a play, it is a weak point that very many memories are needed compared with WAV.</li>
 <li>For this reason, the user which changes all OGGs into WAV by its hand exists comparatively.</li>
 <li>It seems that some implementations cannot sound very long OGG. (<del datetime="2013-01-18T19:00:00+09:00">PMSee-V, etc.</del>)
  (<ins datetime="2013-01-18T19:00:00+09:00">PMSee-V 2.1.2+ can play</ins>)</li>
 <li>Although it may be my misapprehension, OGG encoded on 64-bit OS may not sound on 32-bit OS.</li>
</ul>
</section>

<section id="WAVXX-ABOUT-MINOR-FORMATS">
<h4><a href="#WAVXX-ABOUT-MINOR-FORMATS">about&nbsp;minor&nbsp;formats:</a></h4>
<ul>
 <li><p>Some implementations are supporting <strong class="red">MP3</strong>. (setting aside whether it is explicit or implicit)</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR?</td></tr>
    <tr><th scope="row">support:</th>
     <td><p>DDR, RDM, MW, bemaniaDX, nazo, nazoZZ, Mac, Aqua, otama, WAview, in_bm2,</p>
      <p>LR2, ruvit, pomu2, BMSE, iBMSC, uBMplay, MyO2, IIDXv(Note-1), HDX<del datetime="2013-08-01T18:00:00+09:00">(Note-1)</del>,
       Angolmois(Note-2), Sonorous(Note-2), TechnicalGroove</p></td></tr>
   </tbody>
  </table>
  <ul>
   <li>Note-1: (In IIDXv being a default<del datetime="2013-08-01T18:00:00+09:00">, and in HDX being changing the configuration,</del>)
    WAV files after decoding are cached. Be careful of the capacity of Hard Disk Drives.</li>
   <li>Note-2: Although depended on environment, the regulation of a reproducable format is severer.</li>
  </ul></li>
 <li>However, since a sound is delayed a little at the time of a play, use of MP3 tends to be avoided.</li>
 <li><p>In some implementations, a <strong class="red">MIDI</strong> file can be defined to <code>#WAVxx</code>, and it can sound.</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR?</td></tr>
    <tr><th scope="row">support:</th><td>DDR?, LR2, IIDXv, HDX, TechnicalGroove</td></tr>
    <tr><th scope="row">conditional:</th>
     <td><p>BMSE, iBMSC (If the following registry keys have “Mid”, it will sound.)</p>
      <p><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows&nbsp;NT\CurrentVersion\MCI&nbsp;Extensions</code></p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>However, since it is dependent on hardware too much and sound is delayed, MIDI is hardly used.</p>
  <ul>
   <li>IIDXv emulates a MIDI performance in the software side in order to avoid these problems.</li>
   <li>Of course, IIDXv is also supporting the hardware sound source.</li>
   <li><p>Although IIDXv is also supporting the MIDI performance by a BEEP sound source,
     <del datetime="2013-05-07T12:00:00+09:00">this function cannot be used in <ins>64bit</ins> Windows7.</del></p>
    <p><ins datetime="2013-05-07T12:00:00+09:00">In HDX 0.99 and above,
     the MIDI reproduction by BEEP was attained by including “inpout32.sys” &amp; “inpoutx64.sys” drivers
     (for limited administrator).</ins></p></li>
  </ul></li>
 <li><p>MIDI can be sounded only with a BGM channel <code>#xxx01</code> when MIDI is defined as <code>#WAV</code> in IIDXv or HDX.</p>
  <ul>
   <li>When there are two or more MIDI-BGM objects, the 1st piece is sounded and others are disregarded.</li>
  </ul></li>
 <li><p>Implementation which supports <strong>ADPCM, AAC, MP2, mu-Law,
  XA <small>(“<a href="http://dtxmania.net/wiki.cgi?page=qa_xa" class="external" rel="external" hreflang="ja">WAV to XA</a>”,
  <a href="http://dtxmania.net/wiki.cgi?page=qa_xa_e" class="external" rel="external" hreflang="en">reference</a>)</small>,
  FLAC, MOD (file format), </strong> etc. besides these exists.</p>
  <ul>
   <li>However, since there is a problem of portability, only WAV and OGG are used in fact.</li>
  </ul></li>
</ul>
</section>

<section id="WAVXX-ALTERNATIVE-SEARCH">
<h4><a href="#WAVXX-ALTERNATIVE-SEARCH">Alternative&nbsp;Search:</a></h4>

<ul>
 <li><p>Modern apps are implementing <strong class="red">alternative search of filename extensions</strong>.</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>DDR</td></tr>
    <tr><th scope="row">support:</th>
     <td>bemaniaDX, DDR, in_bm2, LR2, nanasi, ruvit, fgt++, fgt#, nazoZZ, pomu2, uBMplay, PMSee-V, bmx2wav,
      IIDXv, HDX, Angolmois, Sonorous, TechnicalGroove</td></tr>
   </tbody>
  </table>
  <ol>
   <li>First, the file defined in BMS is searched with a filename as it is.</li>
   <li><p>If not found, “the file from which a file-type with the same base name as a definition differs” is searched.</p>
    <p>At this time, the priority of the file-type searched is implementation-dependent.</p></li>
   <li>If found, the file will be applied.</li>
  </ol></li>
 <li><p>For example: <code>#WAV01&nbsp;sample.wav</code></p>
  <ul>
   <li>In bemaniaDX, file is searched in order of the following: <code>sample.wav</code> -&gt; <code>sample.mp3</code></li>
   <li>In DDR, file is searched in order of the following: <code>sample.wav</code> -&gt; <code>sample.mp3</code> -&gt; <code>sample.ogg</code></li>
   <li><p><del datetime="2013-08-01T18:00:00+09:00">In uBMplay,
     when two or more files with the same base name exist, only the file found at the very beginning is applied.</del></p>
    <p><ins datetime="2013-08-01T18:00:00+09:00">[uBMplay 1.4.6 or earlier]
     Supposing <code>sample.bmp</code> also exists, <code>sample.bmp</code> will match ahead of <code>sample.ogg</code>.</ins></p>
    <p><ins datetime="2013-08-01T18:00:00+09:00">[uBMplay 1.5.0 or later] This bug has been fixed.</ins></p></li>
   <li>In LR2, other directories are searched, when a relative path is defined and a file does not exist in the appointed directory.</li>
   <li>In bmx2wav, although “<code>sample.ogg</code> defined as <code>sample.wav</code>” is searched,
    “<code>sample.wav</code> defined as <code>sample.ogg</code>” is not searched.</li>
   <li>[Angolmois-Rust, Sonorous]
     Supposing <code>sample.rar</code> also exists, <code>sample.rar</code> will match ahead of <code>sample.wav</code>.</li>
  </ul></li>
 <li><p>This function is very convenient.</p>
  <p>It is because it can be compatible in the ease of editing of WAV, and the ease of distributing of OGG, without affecting MD5 of BMS.</p>
  <ul>
   <li>This is advantageous in the Internet-Ranking.</li>
   <li>LR2IR and nazoIR are checking the identity of BMS by MD5.</li>
   <li><p>Suppose that BMS is here. The definition of the sound of a musical score file is as follows.</p>
    <table><tbody><tr><td><pre><code>#WAV01&nbsp;foo.wav
#WAV02&nbsp;bar.wav</code></pre></td></tr></tbody></table></li>
   <li><p>Since size is huge, the WAV version is changed into OGG so that it may be easy to distribute.</p>
    <p>Here is “the WAV version BMS of the highest sound quality”, and the “the OGG version BMS of moderate sound quality”.</p></li>
   <li><p>The definition of the sound of the musical score file of the OGG version is replaced as follows.</p>
    <table><tbody><tr><td><pre><code>#WAV01&nbsp;foo.ogg
#WAV02&nbsp;bar.ogg</code></pre></td></tr></tbody></table></li>
   <li>In order to satisfy both “the player which asks for quality”, and “the player which searches for the optimal thing”,
    both the WAV version and the OGG version are distributed.</li>
   <li>However, since the portion of the definition was changed, MD5 of a musical score file is not the same.</li>
   <li><p>When the musical score file of a WAV version differs from the musical score file of an OGG version,
    a troublesome problem will arise in IR.</p>
    <ul>
     <li>The registration place of IR is separately divided with the WAV version and the OGG version.</li>
     <li>As a result, it will be visible as if IR page had few people who played the BMS.</li>
    </ul></li>
   <li><p>But, if alternative file-searching is used:</p>
    <ul>
     <li>The creator side can use the same musical score file for both the WAV version and the OGG version.</li>
     <li>The player side can choose WAV version or OGG version freely. It is also free that the player side changes OGG into WAV.</li>
    </ul></li>
  </ul></li>
 <li>However, although it is rare, this function has the danger that the mistaken file will be read.</li>
</ul>
</section>

<section id="WAVXX-EMPHASIZING">
<h4><a href="#WAVXX-EMPHASIZING">Emphasizing:</a></h4>

<ul>
 <li><p>A part of applications can differentiate the volume of BGM and KEY.</p>
  <table>
   <tbody>
    <tr><th scope="row">origin:</th><td>LunaticRave (?)</td></tr>
    <tr><th scope="row">support:</th><td>LR2, fgt, fgt++, Angolmois, Sonorous, TechnicalGroove, ... (under investigation)</td></tr>
   </tbody>
  </table></li>
 <li>By turn down the volume of BGM at the time of play, KEY-notes are emphasized relatively.</li>
 <li>TechnicalGroove emphasizes the head portion of waveform of KEY-notes.
</li>
 <li>Each volume may be controllable.</li>
</ul>
</section>

<!-- /#WAV -->
</section>



<section id="WAVCMD" itemscope="itemscope">
<h3><code><a href="#WAVCMD">#WAVCMD&nbsp;<var>commandID</var>&nbsp;<var>#WAV-index</var>&nbsp;<var>value</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-49</code></td></tr>
  <tr><th scope="row">origin:</th><td>MacBeat</td></tr>
  <tr><th scope="row">support:</th><td>MacBeat, Sonorous(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>As an option when sounding the file read by <code>#WAV</code>, a pitch, volume, and audio playback time are defined.</li>
 <li>This is pseudo-MOD. (<a class="external" rel="external" hreflang="en" title="MOD (file format) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/MOD_%28file_format%29"><span itemprop="url">https://en.wikipedia.org/wiki/MOD_%28file_format%29</span></a>)</li>
 <li>BMS containing this command needs to change a filename extension into <b class="red">MBM</b> (MacBeatMod)
  because in order to avoid the influence on the software which does not support <code>#WAVCMD</code>.</li>
</ul>

<dl>
 <dt><code><var><strong>commandID</strong></var></code>:</dt>
 <dd>
  <p>The parameter to change is specified.</p>
  <table>
   <tbody>
    <tr><th scope="row"><code>00</code></th><td>setting pitch</td></tr>
    <tr><th scope="row"><code>01</code></th><td>setting volume</td></tr>
    <tr><th scope="row"><code>02</code></th><td>setting audio playback time</td></tr>
   </tbody>
  </table>
 </dd>
 <dt><code><var><strong>#WAV-index</strong></var></code>:</dt>
 <dd>
  <p>The audio to operate is specified. The index of <code>#WAV</code> defined in advance is specified.</p>
  <p><code>[01-FF]</code> (255)</p>
  <p>MacBeat is supporting only the hexadecimal number <code>#WAV</code>-index.</p>
 </dd>
 <dt><code><var><strong>value</strong></var></code>:</dt>
 <dd>
  <p>The quantity to operate is specified by a decimal number integer.</p>
  <p>The meaning of a value changes with <code><var>commandID</var></code>.</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">pitch:</th>
     <td>
      <p><code>[0-127]</code></p>
      <p>Set value by decimal number integer. This is a relative pitch. Default is <code>60</code>.</p>
      <table id="WAVCMD-PITCH-TABLE">
       <thead>
        <tr>
         <td></td>
         <th scope="col">A</th>
         <th scope="col">A#</th>
         <th scope="col">B</th>
         <th scope="col">C</th>
         <th scope="col">C#</th>
         <th scope="col">D</th>
         <th scope="col">D#</th>
         <th scope="col">E</th>
         <th scope="col">F</th>
         <th scope="col">F#</th>
         <th scope="col">G</th>
         <th scope="col">G#</th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <th scope="row">Octave1</th>
         <td></td><td></td><td></td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
        </tr>
        <tr>
         <th scope="row">Octave2</th>
         <td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td>
        </tr>
        <tr>
         <th scope="row">Octave3</th>
         <td>21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td><td>31</td><td>32</td>
        </tr>
        <tr>
         <th scope="row">Octave4</th>
         <td>33</td><td>34</td><td>35</td><td>36</td><td>37</td><td>38</td><td>39</td><td>40</td><td>41</td><td>42</td><td>43</td><td>44</td>
        </tr>
        <tr>
         <th scope="row">Octave5</th>
         <td>45</td><td>46</td><td>47</td><td>48</td><td>49</td><td>50</td><td>51</td><td>52</td><td>53</td><td>54</td><td>55</td><td>56</td>
        </tr>
        <tr>
         <th scope="row">Octave6</th>
         <td>57</td><td>58</td><td>59</td><td><mark>60</mark></td><td>61</td><td>62</td><td>63</td><td>64</td><td>65</td><td>66</td><td>67</td><td>68</td>
        </tr>
        <tr>
         <th scope="row">Octave7</th>
         <td>69</td><td>70</td><td>71</td><td>72</td><td>73</td><td>74</td><td>75</td><td>76</td><td>77</td><td>78</td><td>79</td><td>80</td>
        </tr>
        <tr>
         <th scope="row">Octave8</th>
         <td>81</td><td>82</td><td>83</td><td>84</td><td>85</td><td>86</td><td>87</td><td>88</td><td>89</td><td>90</td><td>91</td><td>92</td>
        </tr>
        <tr>
         <th scope="row">Octave9</th>
         <td>93</td><td>94</td><td>95</td><td>96</td><td>97</td><td>98</td><td>99</td><td>100</td><td>101</td><td>102</td><td>103</td><td>104</td>
        </tr>
        <tr>
         <th scope="row">Octave10</th>
         <td>105</td><td>106</td><td>107</td><td>108</td><td>109</td><td>110</td><td>111</td><td>112</td><td>113</td><td>114</td><td>115</td><td>116</td>
        </tr>
        <tr>
         <th scope="row">Octave11</th>
         <td>117</td><td>118</td><td>119</td><td>120</td><td>121</td><td>122</td><td>123</td><td>124</td><td>125</td><td>126</td><td>127</td><td></td>
        </tr>
       </tbody>
      </table>
     </td>
    </tr>
    <tr>
     <th scope="row">volume:</th>
     <td>
      <p>Set value by decimal number integer (percentage).</p>
      <p>A clipping noise will occur, when a larger value than <code>100</code> is defined.</p>
     </td>
    </tr>
    <tr>
     <th scope="row">time:</th>
     <td>
      <p>Specify an audio playback time on the basis of “milli-second * 0.5”.</p>
      <p>Set value by decimal number integer.</p>
      <p>A value smaller than <code>50</code>ms will be almost unreliable.</p>
      <p><code>0</code> means the length of an original sound.</p>
     </td>
    </tr>
   </tbody>
  </table>
 </dd>
 <dt>The default value when not using <code>#WAVCMD</code>:</dt>
 <dd>
  <table>
   <thead><tr><th scope="col">parameter</th><th scope="col">default</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><th scope="row">pitch:</th><td><code>60</code></td><td>relative pitch is C6</td></tr>
    <tr><th scope="row">volume:</th><td><code>100</code></td><td>relative volume is 100%</td></tr>
    <tr><th scope="row">audio playback time:</th><td><code>0</code></td><td>audio playback time is not changed</td></tr>
   </tbody>
  </table>
  <p>Change only the parameter which needs to be changed.</p>
 </dd>
</dl>

<ul>
 <li><p>A typical example is as follows:</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#wav0E&nbsp;aaa.wav
#wavcmd&nbsp;00&nbsp;0E&nbsp;61
#WAVCMD&nbsp;01&nbsp;0E&nbsp;50</code></pre></td>
     <td>
      <p>We have to define audio file for <code>#WAVCMD</code> to refer to it.</p>
      <p><code>#wav0E</code> is raised in pitch by one chromatic semitone.</p>
      <p><code>#wav0E</code> is made into the volume of the original half.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>Are two or more effects simultaneously applicable to a certain <code>#WAV</code>-index?</li>
 <li>About duplication of the <code>#WAVCMD</code>, nothing is written in the specifications of MacBeatMod.
  (<a class="external" rel="external" hreflang="ja" type="text/plain" title="MODもどき企画書 - XREA.COM" href="http://harinezumi.s14.xrea.com/download/mbm.txt"><span itemprop="url">http://harinezumi.s14.xrea.com/download/mbm.txt</span></a>)</li>
 <li>Since I do not have MacBeat, I cannot test a detail.</li>
</ul>
</section>



<section id="EXWAVXX">
<h3><code><a href="#EXWAVXX">#EXWAV<var>[00-ZZ]</var>&nbsp;<var>[pvf]</var>&nbsp;<var>[pan]</var>&nbsp;<var>[volume]</var>&nbsp;<var>[frequency]</var>&nbsp;<var>soundfilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx11-69</code>, <code>#xxxD1-E9</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The file which should be sounded in BMS is defined applying a simple effect.</li>
 <li>The index of <code>#EXWAVxx</code> uses with the index of <code>#WAVxx</code> in common.</li>
 <li><dl>
   <dt><code><var><strong>[pvf]</strong></var></code>:</dt>
   <dd>
    <p>The flag of which parameter to operate. Descriptors of parameters.</p>
    <p>The parameter corresponding to the described character is operated.</p>
    <p>An order which describes a flag shows the parameter to which the value which follows should correspond.</p>
    <p>A flag is interpreted regardless of a capital letter small letter.</p>
    <table>
     <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <td><pre><code>#EXWAV01&nbsp;vfp&nbsp;-50&nbsp;100&nbsp;-10000&nbsp;aaa.wav
#EXWAV02&nbsp;&nbsp;&nbsp;P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500&nbsp;aaa.wav</code></pre></td>
       <td>
        <p><mark>v</mark>olume=<code>-50</code>, <mark>f</mark>requency=<code>100</code>, <mark>p</mark>an=<code>-10000</code></p>
        <p><mark>P</mark>an=<code>500</code></p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>(nanasi can use 1 or more half-width spaces or tabs as a delimiter. )</p>
    <p>Describe the value which follows in the order which this flag defined.</p>
   </dd>
   <dt>caution:</dt>
    <dd>Behavior when a flag is not specified at all is not guaranteed.</dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>[pan]</strong></var></code>:</dt>
   <dd>
    <p><code><var>[-10000&nbsp;-&nbsp;10000]</var></code> :: The ranges from <code>-10000</code> to <code>10000</code> can be specified as a value.</p>
    <p>The volume balance of <del>the speaker device</del> <ins>waveform</ins> of the left and the right is defined.</p>
    <p>The leftmost position is <code>-10000</code>. The rightmost position is <code>10000</code>.</p>
    <p>Whatever the L-R balance of a source file, the default value in this definition is set to <code>0</code>.</p>
    <p>This effect is applicable to the waveform of a stereo.</p>
    <p>This effect is applicable also to the waveform of a monophonic recording.</p>
   </dd>
   <dt>caution:</dt>
   <dd>
    <p><code>#EXWAVxx</code> is not supporting the increase in volume.</p>
    <p>Therefore, change of balance is performed by reducing the volume of L or R.</p>
    <p>When a value <code>10000</code> is defined to “waveform whose L-R is 100%-0%”, it will become perfectly silent.</p>
   </dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>[volume]</strong></var></code>:</dt>
   <dd>
    <p><code><var>[-10000&nbsp;-&nbsp;0]</var></code> :: The ranges from <code>-10000</code> to <code>0</code> can be specified as a value.</p>
    <p>Volume is defined. <code>0</code> is an original sound. Actually, <code>-10000</code> becomes soundless.</p>
    <p>Whatever the volume of a source file, the default value in this definition is set to <code>0</code>.</p>
    <p>It is more appropriate to this to express it as a damping factor than expressing it as volume.</p>
   </dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>[frequency]</strong></var></code>:</dt>
   <dd>
    <p><code><var>[100&nbsp;-&nbsp;100000]</var></code> :: The ranges from <code>100</code> to <code>100000</code> can be specified as a value.</p>
    <p>Frequency is defined. Unit value is Hz.</p>
    <p>In short, this parameter operates a pitch.</p>
   </dd>
  </dl></li>
 <li><dl>
   <dt><code><var><strong>soundfilename</strong></var></code>:</dt>
   <dd>
    <p>The sound filename which should apply effects is defined.</p>
    <p>A relative path can be defined like <code>#WAVxx</code>.</p>
    <p>(“MATERIALS” cannot be used. In nanasi, supporting “MATERIALS” was removed in ver.1.00)</p>
    <p>The length of a path is restricted to less than 260 bytes.</p>
   </dd>
  </dl></li>
</ul>
</section>



<section id="CDDA">
<h3><code><a href="#CDDA">#CDDA&nbsp;<var>track-number</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DDR</td></tr>
  <tr><th scope="row">support:</th><td>DDR</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>CD-DA can be used as BGM.</li>
 <li><p>In DDR, a config of “CD-Syncro” in “SYSTEM OPTION” is also applied.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody><tr><td><code>#CDDA&nbsp;5</code></td><td>This example sounds as BGM the track 5 of audio-CD inserted in CD-drive.</td></tr></tbody>
  </table></li>
</ul>
</section>



<section id="MIDIFILE">
<h3><code><a href="#MIDIFILE">#MIDIFILE&nbsp;<var>midifilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>BM98, BMSV, DDR, RDM, <ins datetime="2014-02-07T18:30:00+09:00">Mac (?)</ins>, Aqua (?),
   IIDXv, HDX, Sonorous (parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>A MIDI file can be sounded as BGM.</li>
 <li>It is very dependent on hardware. Or sound is delayed in software-synthesizer.</li>
 <li>For these reasons, using MIDI in BMS is not recommended.</li>
 <li>However, IIDXv which is supporting MIDI eagerly is an exception.</li>
</ul>
</section>



<section id="BMPXX" itemscope="itemscope">
<h3><code><a href="#BMPXX">#BMP<var>[00-ZZ]</var>&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td><abbr title="BackGround Animation">BGA</abbr> BASE</td><td>mostly</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td><td>mostly (Note: IIDXv and HDX are not supporting)</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td><td>mostly (Note: IIDXv 2.13+, HDX 0.98+) (origin: BM98k)</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2</td><td>nanasi, Angolmois (2.0a2+), Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, pomu2</td></tr>
  <tr><td><code>#xxx0B</code></td><td>BGA BASE's Opacity</td>
   <td>nanasi (transparent « <code><var>[01-FF]</var></code> » opaque)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled?)</del></td></tr>
  <tr><td><code>#xxx0C</code></td><td>BGA LAYER's Opacity</td>
   <td>nanasi (transparent « <code><var>[01-FF]</var></code> » opaque)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled?)</del></td></tr>
  <tr><td><code>#xxx0D</code></td><td>BGA LAYER2's Opacity</td>
   <td>nanasi (transparent « <code><var>[01-FF]</var></code> » opaque)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled?)</del></td></tr>
  <tr><td><code>#xxx0E</code></td><td>BGA POOR's Opacity</td>
   <td>nanasi (transparent « <code><var>[01-FF]</var></code> » opaque)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled?)</del></td></tr>
 </tbody>
</table>
<table>
 <thead><tr><th scope="col">index range:</th><th scope="col">origin</th><th scope="col">support</th></tr></thead>
 <tbody>
  <tr><td><code>[00-FF]</code>&nbsp;(256)</td><td>BM98</td><td>BM98, BM98de, MW, otama, nBMplay, BMSC, BMSV, BMS2AVI, pomu2</td></tr>
  <tr><td><code>[00-FZ]</code>&nbsp;(576)</td><td>bemaniaDX</td><td>bemaniaDX, DDR, RDM, nazo, BMEV</td></tr>
  <tr>
   <td><code>[00-ZZ]</code>&nbsp;(1296)</td>
   <td>nanasi</td>
   <td><p>GALLI, WAview, BGAenc, <ins datetime="2014-02-07T18:30:00+09:00">Mac (?), Aqua (?),</ins></p>
    <p>LR2, ruvit, nanasi, fgt++, nazoZZ, GDAC2, BMSE, uBMplay, bmx2wav, IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, diff</p></td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>An image file is defined.</li>
 <li><p>The usual size is less than 256x256 pixel.</p>
  <ul>
   <li>It is because the size of the usual implementation's image canvas is <strong class="red">256x256 pixel</strong>.</li>
   <li>Specification has not defined the method of processing oversized images.</li>
   <li>Therefore, the method is implementation-dependent. For example, nazo does not display oversized images.</li>
  </ul></li>
 <li>It is omissible if Background Animation is not used.</li>
 <li>The image defined as <code>#BMP</code> can be used also in the definition of
  <code>#BGA</code>, <code>#@BGA</code>, and <code>#SWBGA</code>. (supposing they are supported)</li>
 <li><code>#BMP</code>-index <code>00</code> is displayed when a mistake is made.</li>
 <li><p><code>#BMP</code>-index <code>00</code> is valid till the moment of changing a POOR-image by the channel <code>#xxx06</code>.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#bmp00&nbsp;miss-default.bmp
#bmp11&nbsp;miss-change.bmp
#01606:0011</code></pre></td>
     <td>
      <p>In the section from the head of <code>#000</code> to the middle of <code>#016</code>,</p>
      <p>when a mistake is made, <code>#bmp00</code> is displayed.</p>
      <p><code>#bmp11</code> is displayed when a mistake is henceforth made from there.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>

<section id="BMPXX-DARKENING-BY-EMPTY-BMP">
<h4><a href="#BMPXX-DARKENING-BY-EMPTY-BMP">Darkening&nbsp;by&nbsp;empty&nbsp;<code>#BMP</code></a></h4>
<ul>
 <li>When the index by which the image file is not defined is found in channel <code>#xxx04/06/07</code>,
  BM98k displays the black (RGB:00:00:00) of 256x256.</li>
 <li><p>Although this is the behavior which is not written in the specifications of BMS, almost all apps have followed this behavior.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#BMP11&nbsp;1.bmp
#BMP22&nbsp;2.bmp
#BMP33&nbsp;3.bmp
#01604:112233<mark>FF</mark></code></pre></td>
     <td>
      <p><code>#bmp<mark>FF</mark></code> is undefined.</p>
      <p>When a musical score reaches to <mark>FF</mark>, an image display is painted out black.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>But in RDM, if LAYER is reset by an empty <code>#BMP</code>-index, when <code>#BMP</code>-index contains <code>[G-Z]</code>,
  other unrelated images will be displayed at random.</li>
 <li>If we would like to maintain compatibility, we should not expect tacit behavior. We should give a definition explicitly.</li>
 <li><p>In short, we should use not an empty <code>#BMP</code>-index but the definition of <code>black.bmp</code>.</p>
  <table>
   <thead><tr><th scope="col">safer example</th><th scope="col">black.bmp (256x256)</th><th scope="col">black.bmp (1x1)</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BMP11&nbsp;1.bmp
#BMP22&nbsp;2.bmp
#BMP33&nbsp;3.bmp
#BMP<mark>FF</mark>&nbsp;black.bmp
#01604:112233<mark>FF</mark></code></pre>
     </td>
     <td><div class="bmp-layer"><p class="hide">black.bmp (256x256)</p></div></td>
     <td><div class="black1x1"><div><p>black.bmp (1x1)</p></div></div>
      <p>As for size, since we would like to only change an image in short, 1x1 is satisfactory.</p>
      <p>Furthermore, if there are 2 colors (1bit) of color-palettes, black.bmp is enough.</p>
      <p>By reducing colors, size decreases considerably.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>

<section id="BMPXX-LAYER">
<h4><a href="#BMPXX-LAYER">LAYER</a></h4>
<ul>
 <li><p>LAYER channel <code>#xxx07</code> makes black transparent.
  Only the black part in an image becomes transparent and displays the BASE channel <code>#xxx04</code>.</p>
  <table id="BMP-LAYER-SAMPLE">
   <thead><tr><th scope="col">Sample code</th><th scope="col">Image</th><th scope="col">Actual Display</th></tr></thead>
   <tbody>
    <tr>
     <td><code>#BMP01&nbsp;1.bmp</code></td>
     <td><div class="bmp base1"><p>1.bmp</p></div></td>
     <td rowspan="10"><div class="bmp-layer"><p><img src="content/Eg_bga+layer.gif" alt="BASE+LAYER_SEQUENCE" width="40" height="40"></p></div></td>
    </tr>
    <tr>
     <td><code>#BMP02&nbsp;2.bmp</code></td>
     <td><div class="bmp base2"><p>2.bmp</p></div></td>
    </tr>
    <tr>
     <td><code>#BMP03&nbsp;3.bmp</code></td>
     <td><div class="bmp base3"><p>3.bmp</p></div></td>
    </tr>
    <tr>
     <td><code>#BMP04&nbsp;4.bmp</code></td>
     <td><div class="bmp base4"><p>4.bmp</p></div></td>
    </tr>
    <tr>
     <td><code>#00104:01020304</code></td>
     <td><img src="content/Eg_bga.gif" alt="BGA_BASE_SEQUENCE" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP05&nbsp;5.bmp</code></td>
     <td><img src="content/Eg_layer1.bmp" alt="5.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP06&nbsp;6.bmp</code></td>
     <td><img src="content/Eg_layer2.bmp" alt="6.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP07&nbsp;7.bmp</code></td>
     <td><img src="content/Eg_layer3.bmp" alt="7.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#BMP08&nbsp;8.bmp</code></td>
     <td><img src="content/Eg_layer4.bmp" alt="8.bmp" width="40" height="40"></td>
    </tr>
    <tr>
     <td><code>#00107:05060708</code></td>
     <td><img src="content/Eg_layer.gif" alt="BGA_LAYER_SEQUENCE" width="40" height="40"></td>
    </tr>
   </tbody>
  </table>
  <p>In general implementation, BASE+LAYER is displayed as mentioned above.</p></li>
 <li><p>The black's threshold value which a LAYER makes transparent is dependent on “Display Properties -&gt; Display Color” of a desktop.</p>
  <ul>
   <li>If color is 16bit, <code>RGB:00:00:00</code> - <code>RGB:0F:0F:0F</code> (blackish) becomes transparent.</li>
   <li>If color is 32bit, only <code>RGB:00:00:00</code> (perfect black) becomes transparent.</li>
   <li>That is, “the color which will be set to <code>00</code> if DirectX rounds a value” becomes transparent.</li>
   <li>(I may have misunderstanding. This may be description about a config by the side of apps. )</li>
  </ul></li>
 <li><p>Some implementations can operate this threshold value.</p>
  <ul>
   <li><p>uBMplay can change <code>Transparent=0</code> (ubm.ini).</p>
    <p>From <code>0</code> to <code>255</code> can specify a value. <code>0</code> is perfect black. <code>255</code> is perfect white.</p></li>
   <li>nanasi has a command which can operate both transparency and a <ins>transparent</ins> color in detail. Refer to <code>#EXBMP</code> and <code>#ARGB</code>.</li>
  </ul></li>
 <li><p>The fact that the color which can be made transparent is limited to black is sometimes inconvenient.</p>
  <ul>
   <li>For example, not perfect black but “a blackish color” must be used to use LAYER at monochrome animation.</li>
   <li><p>Transparency has the same problem. A display does not become purple even if it adds blue LAYER to red BASE.</p>
    <p>(<ins datetime="2013-01-18T19:00:00+09:00">Alpha blending is exceptionally possible,
     if BMS application is supporting the alpha channel and the alpha value is specified to LAYER images.</ins> )</p></li>
   <li>nanasi has abundantly extended commands which can solve these. However, it is very difficult to master them.</li>
   <li>BGA creators do not desire a complicated programming. They like multimedia authoring system.</li>
  </ul></li>
</ul>
</section>

<section id="BMPXX-ADJUSTMENT">
<h4><a href="#BMPXX-ADJUSTMENT">Adjustment</a></h4>
<ul>
 <li><p>Usually, the center of the X-axis of an image is displayed in the center of X-axis of the space for an image display.</p>
  <ul>
   <li>As for nanasi, any file formats other than BMP do not perform X-axis centering.</li>
  </ul></li>
 <li><p>Usually, the upper end of an image is displayed at the upper end of the space for an image display.</p>
  <p>Please refer to the above-mentioned example and the following URL for this behavior: <a href="content/bmse_help_full/Capture/bmse_bga_easypreview.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_easypreview.gif</span></a></p></li>
 <li><p>However, as an exception, a part of implementations apply scale-up and scale-down to an image.</p>
  <table><tbody><tr><th scope="row">automatic scaling:</th>
   <td>MacBeat, LR2, ruvit, <del datetime="2013-07-11T23:10:00+09:00">IIDXv, HDX</del></td></tr></tbody></table>
  <ul>
   <li>MacBeat expands and displays “an image smaller than 256x256” to 256x256.</li>
   <li>LR2 changes “a larger image than 256x256” into “the aspect ratio 1:1 and size 256x256”.</li>
   <li><del datetime="2013-07-11T23:10:00+09:00">IIDXv changes all the images into “the aspect ratio 1:1 and size 256x256”, and displays them.</del></li>
   <li><p>There is also implementation which can change this display method.</p>
    <p>In initial setting, ruvit uses 256x256 as a base, and expands and displays an image.</p></li>
  </ul></li>
 <li><p>Some implementations are also supporting the image of larger size than 256x256.</p>
  <table id="SPREAD-CANVAS">
   <tbody>
    <tr><th scope="row">spread canvas:</th>
    <td><ins datetime="2013-07-03T12:00:00+09:00">BM98 (origin ?) (5KEYS | 5K-Couple only ?),</ins>
     DDR <del datetime="2013-07-03T12:00:00+09:00">(origin)</del>,
     nanasi, fgt++, uBMplay (1.5.0+), <ins datetime="2013-07-11T23:10:00+09:00">IIDXv, HDX,</ins> Sonorous(?), BGAEncAdv, ... (under investigation)</td></tr>
   </tbody>
  </table>
  <ul>
   <li>A larger image than 256x256 is spread and displayed even on the space for a musical score display.</li>
   <li><p>BMS which used this behavior as stage effects exists slightly. For example:</p>
    <dl>
     <dt><cite>relative</cite></dt>
     <dd><span itemprop="name">xra</span>, <time itemprop="update" datetime="2001-10-20">2001-10-20</time>
      (<a href="https://web.archive.org/web/*/http://xra000.hp.infoseek.co.jp/bms.htm" class="external" rel="external" hreflang="ja" title="ORIGINAL BMS DATA"><span itemprop="url">https://web.archive.org/web/*/http://xra000.hp.infoseek.co.jp/bms.htm</span></a>)</dd>
     <dt><cite>FIGHTING OF THE SPIRIT</cite></dt>
     <dd><span itemprop="name">shammy</span>, <time itemprop="update" datetime="2001-05-06">2001-05-06</time>
      (<a href="https://web.archive.org/web/20140819192029/http://shammy.kdn.jp/bm/details.html" class="external" rel="external" hreflang="ja" title="NEGI-Plantation"><span itemprop="url">https://web.archive.org/web/20140819192029/http://shammy.kdn.jp/bm/details.html</span></a>)</dd>
     <dt><cite>Chip Disco Paradise</cite></dt>
     <dd><span itemprop="name">RED L:TUS</span>, <time itemprop="update" datetime="2002-12-22">2002-12-22</time></dd>
     <dt><cite lang="ja" xml:lang="ja" class="DBCS">せがた三四郎伝説</cite></dt>
     <dd><span itemprop="name" lang="ja" xml:lang="ja" class="DBCS">デッシュ</span>,
      <time itemprop="update" datetime="2000-07-22">2000-07-22</time>
      (<a href="https://www.nicovideo.jp/watch/sm351014" class="external" rel="external" hreflang="ja" title="【bms】 せがた三四郎伝説 ‐ ニコニコ動画:Q"><span itemprop="url">https://www.nicovideo.jp/watch/sm351014</span></a>)</dd>
     <dt><cite>loves honey, crazy apple.</cite></dt>
     <dd><span itemprop="name">World's endo pisum sativum L.</span>, <time itemprop="update" datetime="2007-08-18">2007-08-18</time>
      (<a href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=28&amp;event=44" class="external" rel="external" hreflang="ja" title="[[詳細情報]] No.28 [Partita] loves honey, crazy apple. / World&#39;s endo pisum sativum L.  - 関東地区 -"><span itemprop="url">http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=28&amp;event=44</span></a>)</dd>
    </dl></li>
   <li>Although LR2, and ruvit <del datetime="2013-07-11T23:10:00+09:00">and IIDXv and HDX</del> can use “a larger image than 256x256”,
    an image does not overflow from the space for an image display.</li>
   <li>In Sonorous, canvas size may be able to be changed by <code>#CANVASSIZE</code> extension.</li>
  </ul></li>
</ul>
</section>

<section id="BMPXX-IMAGE-FILE-FORMATS">
<h4><a href="#BMPXX-IMAGE-FILE-FORMATS">Image&nbsp;file&nbsp;formats</a></h4>
<ul>
 <li>It is implementation-dependent which file type is supported. Bitmap image file is supported almost certainly.</li>
 <li id="RLE"><p><strong class="red">BMP</strong> may be compressed by <strong>RLE</strong> (Run Length Encoding).
   Some implementations cannot display RLE correctly.</p>
  <p><ins datetime="2014-02-04T07:00:00+09:00">BMSC
   <del datetime="2014-06-13T23:40:00+09:00" hidden="hidden" class="hide">and BGAEncAdv are</del> is not supporting RLE.
   <a href="https://hitkey.nekokan.dyndns.info/diary1402.php#D140202">Some implementations are forced to terminate by ill-mannered BITMAPINFOHEADER.</a></ins></p>
  <p><ins datetime="2014-02-10T22:30:00+09:00"><del datetime="2014-02-12T18:00:00+09:00" hidden="hidden" class="hide">It seems that</del>
   BMS which uses <strong>OS/2 Bitmap</strong> also existed once.
   <del datetime="2014-02-12T18:00:00+09:00" hidden="hidden" class="hide">although I could not be checking.</del>
   <ins datetime="2014-02-12T18:00:00+09:00">(E.g. <cite><a href="https://web.archive.org/web/*/http://www.ag.wakwak.com/~taros/loverebirth.exe" class="external" rel="external">LOVE'S REBIRTH</a></cite>,
   <cite><a href="https://web.archive.org/web/*/http://pal.mydns.to/cranky/up/5key/5k-posi2.zip" class="external" rel="external">positive dance "2nd RAVE"</a></cite>)</ins>
   See <a href="bmpfmt.html">bmpfmt.htm</a> for details.</ins></p></li>
 <li>Modern implementation is supporting <strong class="red">PNG</strong>.
  In recent years, PNG is used very frequently. Convenience of lossless compression is high.</li>
 <li>JPEG and GIF are not so popular as BMP and PNG. <del>GIF has a problem of a license.</del></li>
 <li><p>The support situation of the image file formats other than BMP:</p>
  <table>
   <thead><tr><th scope="col">suffix</th><th scope="col">support</th></tr></thead>
   <tbody>
    <tr><th scope="row">PNG:</th>
     <td>LR2, nanasi, ruvit, IIDXv, HDX, fgt++, pomu2, nazoZZ, uBMplay, bmx2wav, PMSee-V, <ins datetime="2014-02-05T20:00:00+09:00">PMChr-V, DTXV,</ins>
      Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
    <tr><th scope="row">JPG:</th>
     <td>otama, bemaniaDX, MacBeat, LR2, nanasi, ruvit, fgt++, pomu2, nazoZZ, BMSE, uBMplay, IIDXv, HDX, MyO2, PMSee-V,
      <ins datetime="2014-02-05T20:00:00+09:00">DTXV,</ins> Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
    <tr><th scope="row">GIF:</th>
     <td>bemaniaDX, BMSE, PMSee-V, <ins datetime="2014-02-05T20:00:00+09:00">pomu2 (Char),</ins>
      <ins datetime="2013-08-01T18:00:00+09:00">LR2, uBMplay (1.5.0+),</ins> Angolmois, Sonorous</td></tr>
    <tr>
     <th scope="row">PNG (requires <a class="external" rel="external" hreflang="ja" title="【渡辺 裕朗】ソフトウエア" href="https://www.asahi-net.or.jp/~DS8H-WTNB/software/index.html">ifpng.<abbr title="Susie PlugIn">spi</abbr></a>):</th>
     <td>BM98de, DDR, RDM, MW, WAview, bms2avi</td>
    </tr>
    <tr>
     <th scope="row">JPG (requires <a class="external" rel="external" hreflang="ja" title="Susieのだうんろーど" href="https://www.digitalpad.co.jp/~takechin/download.html">ifjpeg.spi</a>):</th>
     <td>BM98, BM98de, DDR, RDM, MW, WAview, bms2avi</td>
    </tr>
    <tr>
     <th scope="row">GIF (requires <a class="external" rel="external" hreflang="ja" title="Susieのだうんろーど" href="https://www.digitalpad.co.jp/~takechin/download.html">ifgif.spi</a>):</th>
     <td>BM98de, DDR, RDM, MW, WAview, bms2avi, IIDXv (include), HDX (include)</td>
    </tr>
    <tr><th scope="row">MAG:</th><td>otama</td></tr>
    <tr><th scope="row">WMF:</th><td>bemaniaDX, BMSE, PMSee-V</td></tr>
    <tr><th scope="row">EMF:</th><td>bemaniaDX, BMSE, PMSee-V</td></tr>
    <tr><th scope="row">CUR:</th><td>bemaniaDX</td></tr>
    <tr><th scope="row">ICO:</th><td>BMSE, PMSee-V, <ins datetime="2014-02-05T20:00:00+09:00">pomu2 (Char)</ins></td></tr>
    <tr><th scope="row">TGA:</th><td>LR2, nanasi, ruvit, IIDXv, HDX, PMSee-V</td></tr>
    <tr><th scope="row">DDS:</th><td>LR2, nanasi, ruvit, IIDXv, HDX</td></tr>
    <tr><th scope="row">DIB:</th><td>IIDXv, HDX</td></tr>
    <tr><th scope="row">TIFF:</th><td>Angolmois, uBMplay (1.5.0+), Sonorous(?)</td></tr>
    <tr><th scope="row">WebP:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">PNM (pbm, pgm, ppm):</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">XCF:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">PCX:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">IFF/ILBM:</th><td>Angolmois, Sonorous(?)</td></tr>
    <tr><th scope="row">PXR:</th><td>uBMplay (1.5.0+ / 24-bit only / without warranties)</td></tr>
   </tbody>
  </table></li>
 <li><p>Some implementations are supporting images with alpha-channels.</p>
  <table>
   <tbody>
    <tr>
     <th scope="row"><a class="external" rel="external" hreflang="en" title="Alpha compositing - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Alpha_compositing">Alpha-Channels</a>:</th>
     <td>LR2, nanasi, ruvit, IIDXv, HDX, Angolmois (028e49caa6bd and above), Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, ... (uninvestigated)</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>The modern apps are also implementing alternative search of an image file.</p>
  <table>
   <tbody>
    <tr><th scope="row">Alternative file search:</th>
     <td>LR2 (origin?), uBMplay, bmx2wav, IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, ... (under investigation)</td></tr>
   </tbody>
  </table>
  <ul>
   <li>LR2 searches PNG and JPG with same base name, when the defined BMP file is not found.</li>
  </ul></li>
</ul>
</section>

<section id="BMPXX-VIDEO-FILE-DEFINING-TO-BMP">
<h4><a href="#BMPXX-VIDEO-FILE-DEFINING-TO-BMP">Video&nbsp;file&nbsp;defining&nbsp;to&nbsp;<code>#BMP</code></a></h4>
<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx04</code></td></tr>
  <tr><th scope="row">origin:</th><td>LR</td></tr>
  <tr><th scope="row">support:</th><td>LR2, ruvit, nazoZZ, IIDXv (1 slot only), HDX (1 slot only), Angolmois (limited size and format),
   uBMplay (1.5.0+ / by DirectShow), Sonorous (limited size and format ?), BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
  <tr><th scope="row">loop:</th><td>LR2 (partial?), ruvit, uBMplay (1.5.0+), Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del></td></tr>
  <tr><th scope="row">rewind:</th><td>LR2, nazoZZ, IIDXv, HDX, uBMplay (1.5.0+), BGAEncAdv</td></tr>
 </tbody>
</table>

<table>
 <thead>
  <tr>
   <th scope="col"><span class="hide">body</span></th>
   <th scope="col">MPG</th><th scope="col">AVI</th><th scope="col">WMA</th><th scope="col">WMV</th><th scope="col">OGV</th><th scope="col">WebM</th>
   <th scope="col">OGM</th><th scope="col">MOV</th><th scope="col">M2P</th><th scope="col">MP4</th><th scope="col">MKV</th>
   <th scope="col">FLV</th><th scope="col">SWF</th><th scope="col">3GP</th><th scope="col">ASF</th><th scope="col">M4V</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="row">LR2</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td><td class="Y">Yes</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes?</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">ruvit</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">nazoZZ</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes?</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">Angolmois</th>
   <td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">Sonorous</th>
   <td class="Y">Yes</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">IIDXv, HDX</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td><td class="N">No</td><td class="N">No</td>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td>
  </tr>
  <tr>
   <th scope="row">uBMplay</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td>
   <td class="N">No</td><td class="Y">Yes</td><td class="N">No</td><td class="Y">Yes</td><td class="N">No</td>
   <td class="N">No</td><td class="N">No</td><td class="N">No</td><td class="Y">Yes</td><td class="N">No</td>
  </tr>
  <tr>
   <th scope="row">BGAEncAdv</th>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Q">?</td><td class="Q">?</td><td class="Y">Yes</td><td class="Y">Yes</td>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Y">Yes</td><td class="Q">?</td>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
  </tr>
  <tr>
   <th scope="row">MyO2</th>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
   <td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
   <td class="Y">Yes</td><td class="Y">Yes</td><td class="Q">?</td><td class="Q">?</td><td class="Q">?</td>
  </tr>
 </tbody>
</table>

<ul>
 <li>As for compatibility, <strong>MPEG1 (256x256)</strong> is the highest.</li>
 <li><p>Video file playbacking in channels other than <code>#xxx04</code> is not guaranteed.</p>
  <ul>
   <li><ins datetime="2013-08-01T18:00:00+09:00">BGAEncAdv can play video multiplexly on all the channels of <code>#xxx[04|06|07|0A]</code>.
    However, please do not think that this is common.</ins></li>
  </ul></li>
 <li>Image-LAYER can be displayed on the layer on video. Video-LAYER...??</li>
 <li>When a video contains a sound, the sound in a video should become silent. <b class="red">But nazoZZ sounds it.</b></li>
 <li><p>When the conditions shown below are fulfilled, some implementations perform loop reproduction:</p>
  <ol>
   <li>Video reached to the last of video, without being interrupted by other images.</li>
   <li>The playtime of BMS still remains.</li>
  </ol>
  <p>In the implementation which supports this behavior, a “general-purpose video” is easy-to-use.</p>
  <p><ins datetime="2013-08-01T18:00:00+09:00">E.g. <cite><a title="【詳細情報】 No.3 今朝に戻り隊 - [to be] Our moments / 加賀崎聡(Kei + schneider murotani)" href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=3&amp;event=60" hreflang="ja" class="external" rel="external">Our moments</a></cite>
   (Kei + schneider murotani, <time datetime="2009-09-18T09:04:56+09:00">2009-09-18</time>)</ins></p></li>
 <li id="VIDEO-REWINDING"><p><ins datetime="2013-10-06T15:30:00+09:00">Some implementations can rewind the playback position of video.</ins></p>
  <p><ins datetime="2013-10-06T15:30:00+09:00">For example, “<code>#BMP01&nbsp;mpg.mpg</code>” will be reproduced 4 times
   from the beginning by “<code>#00104:01010101</code>”.</ins></p></li>
 <li><p>Usually, the aspect ratio of a video is 1:1. However, some implementations are supporting 4:3, 16:9, etc ...</p>
  <p>LR2 and IIDXv can also use video files as the target of automatic scaling.</p></li>
 <li>In O2mania, when a video file is found in the same place as BMS, even if there is no definition, video is played from <code>#000</code>.</li>
</ul>

<ul>
 <li><strong class="red">I give up.</strong> What is Codec? Delicious?</li>
 <li>The display method of an image and video is too difficult for me. I can yet grasp these details hardly.</li>
 <li><ins id="ADD-2014-02-10" datetime="2014-02-10T22:30:00+09:00">Some of the BMS which use video files with larger size than 256x256 are enumerated on
  <a href="http://megaphone.blog64.fc2.com/blog-entry-907.html" class="external" rel="external" hreflang="ja" title="megaphone diary - BGAの縦横サイズが大きめなBMSリスト"><span itemprop="url">http://megaphone.blog64.fc2.com/blog-entry-907.html</span></a>.</ins></li>
</ul>
</section>

<!-- /#BMP -->
</section>



<section id="EXBMPXX">
<h3><code><a href="#EXBMPXX">#EXBMP<var>[00-ZZ]</var>&nbsp;<var>a,r,g,b</var>&nbsp;<var>imagefilename</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td>BGA BASE</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2 (nanasi)</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>A transparent color is defined and a image file is registered.</li>
 <li>A certain amount of approximation color as well as <code>#BMPxx</code> is transparentize.</li>
 <li>This command is omissible.</li>
 <li>The index of <code>#EXBMP<mark>xx</mark></code> uses with the index of <code>#BMP<mark>xx</mark></code> in common.</li>
 <li><p>Each parameter is specified by the integral value of the decimal numbers from <code>0</code> to <code>255</code>.
  A comma is used as delimiters of parameters.</p>
  <table>
   <thead><tr><th scope="col">param</th><th scope="col">range</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td><code><var>a</var></code></td><td><code>[0-255]</code></td><td>alpha</td></tr>
    <tr><td><code><var>r</var></code></td><td><code>[0-255]</code></td><td>red</td></tr>
    <tr><td><code><var>g</var></code></td><td><code>[0-255]</code></td><td>green</td></tr>
    <tr><td><code><var>b</var></code></td><td><code>[0-255]</code></td><td>blue</td></tr>
   </tbody>
  </table>
  <table>
   <thead><tr><th scope="col">for example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#exbmp01&nbsp;0,0,0,0&nbsp;overlay.png
#00407:00000001</code></pre></td>
     <td>Since all the values are <code>0</code>, transparency is not performed. // ...? have to test</td>
    </tr>
   </tbody>
  </table></li>
 <li>The image defined as <code>#EXBMP</code> can be used also in the definition of
  <code>#BGA</code>, <code>#@BGA</code>, and <code>#SWBGA</code>. (supposing they are supported)</li>
</ul>
</section>



<section id="BGAXX" itemscope="itemscope">
<h3><code><a href="#BGAXX">#BGA<var>[00-ZZ]</var>&nbsp;<var>[#BMP-index]</var>&nbsp;<var>x1</var>&nbsp;<var>y1</var>&nbsp;<var>x2</var>&nbsp;<var>y2</var>&nbsp;<var>dx</var>&nbsp;<var>dy</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td>BGA BASE</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2 (nanasi, Angolmois(2.0a2+), Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, pomu2)</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98de</td></tr>
  <tr><th scope="row">support:</th>
   <td>BM98de, DDR, MW, bemaniaDX, RDM, BMEV, WAview, nanasi, ruvit, uBMplay, BMSE, Angolmois, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>, pomu2</td></tr>
 </tbody>
</table>
<ul>
 <li><p>A part of image file is trimmed and displayed. The unit of value is a pixel.</p>
  <table>
   <thead><tr><th scope="col">parameter</th><th scope="col">summary</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <th scope="row"><code><var>x1&nbsp;y1</var></code></th>
     <td>start point of trimming</td>
     <td><strong>Upper left</strong> corner coordinates of the range cut out of the original image</td>
    </tr>
    <tr>
     <th scope="row"><code><var>x2&nbsp;y2</var></code></th>
     <td>end point of trimming</td>
     <td><strong>Lower right</strong> corner coordinates of the range cut out of the original image</td>
    </tr>
    <tr>
     <th scope="row"><code><var>dx&nbsp;dy</var></code></th>
     <td>start point of drawing</td>
     <td><strong>Upper left</strong> corner coordinates of drawing region</td>
    </tr>
   </tbody>
  </table></li>
 <li><p>For example:</p>
  <table>
   <thead>
    <tr>
     <th scope="col">original image file: <code>#BMP<mark>01</mark>&nbsp;320x64.bmp</code></th>
     <th scope="col">portion to clip:</th>
     <th scope="col">portion to display:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><img src="content/bga_320-64.png" alt="320x320 / grid 64px interval" width="320" height="320"></td>
     <td>
      <div class="bmp-layer"><div class="clip"></div></div>
      <p>From (64, 64) to (128, 128) is clipped.</p>
      <pre><code>#BGA02&nbsp;<mark>01</mark>&nbsp;<mark>64 64</mark>&nbsp;<mark>128&nbsp;128</mark>&nbsp;0&nbsp;0</code></pre>
     </td>
     <td>
      <div class="bmp-layer"><div class="clip andmove"></div></div>
      <p>It is displayed from (96, 96) of canvas.</p>
      <pre><code>#BGA03&nbsp;<mark>01</mark>&nbsp;64&nbsp;64&nbsp;128&nbsp;128&nbsp;<mark>96&nbsp;96</mark></code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <p>The following URLs are the examples which perform this procedure by BMSE:</p>
  <ol>
   <li><b>portion to clip:</b> <a href="content/bmse_help_full/Capture/bmse_bga_pre4.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_pre4.png</span></a></li>
   <li><b>position to display:</b> <a href="content/bmse_help_full/Capture/bmse_bga_pre5.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_pre5.png</span></a></li>
   <li><b>defining <code>#BGA</code> by BMSE:</b> <a href="content/bmse_help_full/Capture/bmse_bga_input_demo.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/bmse_help_full/Capture/bmse_bga_input_demo.gif</span></a></li>
  </ol></li>
 <li>Although <code>#BGA</code>-<abbr title="User Interface">UI</abbr> of BMSE is not entirely satisfactory,
  that is because the specification of the <code>#BGA</code> command is not entirely satisfactory.</li>
 <li>Usually, coordinates go in the direction of the lower right from the starting point.</li>
 <li><p>However, if a negative number is specified as coordinates, it will go in the direction of the upper left.</p>
  <dl>
   <dt><strong>Drawing method of BM98de:</strong></dt>
   <dd>
    <p>From <cite>DTX file format specifications</cite>:
     <span itemprop="url" class="u external">http://dtxmania.net/attach/qa%255Fdtx%255Fspec%255Fe.bga%255Fdesc%255Fe.jpg</span></p>
    <p>If <code><var>x1</var></code> or <code><var>y1</var></code> is a negative number, the following processings are performed.</p>
    <ol>
     <li>First, the value of a negative number is set to <code>0</code>. (Clipping)</li>
     <li>The upper left corner of the drawing region after clipping is displayed from (<code><var>dx</var></code>, <code><var>dy</var></code>).</li>
    </ol>
   </dd>
  </dl>
  <p>BMSE is not supporting the coordinates of a negative number.</p></li>
 <li>The trimmed image fragment can be set to the channel <code>#xxx04/06/07</code>, and <code>0A</code>, like the usual <code>#BMP</code>.</li>
 <li>The image defined as <code>#BGA</code> can be used also in the definition of <code>#SWBGA</code>. (supposing it is supported)</li>
 <li><p>When the same index is defined in <code>#BMP</code> and <code>#BGA</code>, priority is given to <code>#BGA</code>.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre><code>#BMP01&nbsp;640x480.bmp
#BGA<mark>01</mark>&nbsp;01&nbsp;178&nbsp;99&nbsp;434&nbsp;355&nbsp;0&nbsp;0
#BGA02&nbsp;01&nbsp;179&nbsp;98&nbsp;435&nbsp;354&nbsp;0&nbsp;0
#BGA03&nbsp;01&nbsp;179&nbsp;97&nbsp;435&nbsp;353&nbsp;0&nbsp;0
#BGA04&nbsp;01&nbsp;180&nbsp;96&nbsp;436&nbsp;352&nbsp;0&nbsp;0
#BGA05&nbsp;01&nbsp;181&nbsp;95&nbsp;437&nbsp;351&nbsp;0&nbsp;0
#00104:0102030405</code></pre>
     </td>
     <td>
      <p><code>#BGA01-05</code> are displayed in implementation which supports <code>#BGA</code>.</p>
      <p><code>#BMP01</code> is not displayed and is only referred to from <code>#BGA</code>.</p>
      <p>(Or is “the line near <abbr title="End Of File">EOF</abbr>” adopted?
       Since it is not written to specification, I need to do the further test. )</p>
      <p>In implementation which does not support <code>#BGA</code>, if <code>#BMP02-05</code> are not defined,
        <code>#BMP01</code> is displayed for a moment and disappears immediately.</p>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p><del datetime="2013-08-20T22:00:00+09:00">Angolmois
   does not permit that <code>#BGA</code> refers to <code>#BMP</code> of the same index as itself. (e.g. above <code>#BGA01</code>)</del></p>
  <p><ins datetime="2013-08-20T22:00:00+09:00">[Angolmois e5cea53a2cbd or later] This incompatibility was corrected.</ins></p></li>
</ul>

<section id="ABOUT-THE-COMPATIBILITY-OF-BGAXX" itemscope="itemscope">
<h4><a href="#ABOUT-THE-COMPATIBILITY-OF-BGAXX">About&nbsp;the&nbsp;compatibility&nbsp;of&nbsp;<code>#BGA</code></a></h4>
<p>Or about the incompatibility of <code>#BGA</code>.</p>
<table>
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col"><code>#BGA</code></th>
   <th scope="col"><code>#BMP</code></th>
   <th scope="col"><code>0&nbsp;0&nbsp;1&nbsp;1</code></th>
   <th scope="col">Align</th>
   <th scope="col">1digit</th>
   <th scope="col">Overlap</th>
   <th scope="col">Nega</th>
   <th scope="col">max-X</th>
   <th scope="col">max-Y</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <th scope="row">BM98de</th>
   <td class="Y">00-ZZ</td>
   <td class="N">0-255 <sup>[1]</sup></td>
   <td class="N">2x2 <sup>[2]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">4095</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">DDR</th>
   <td class="N">01-ZZ</td>
   <td class="N">0-255 <sup>[1]</sup></td>
   <td class="N">2x2 <sup>[2]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">4095</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">pomu2</th>
   <td class="N">01-ZZ</td>
   <td class="N">1-255 <sup>[1]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Q">?</td>
   <td class="Q">?</td>
  </tr>
  <tr>
   <th scope="row">MixWaver</th>
   <td class="N">01-ZZ</td>
   <td class="N">00-03 <sup>[3]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="N">638</td>
   <td class="N">478</td>
  </tr>
  <tr>
   <th scope="row">bemaniaDX</th>
   <td class="Y">00-ZZ <sup>[4]</sup></td>
   <td class="N">01-FZ <sup>[5]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">8128</td>
   <td class="bY">8191</td>
  </tr>
  <tr>
   <th scope="row">Rhythm-it</th>
   <td class="Y">00-ZZ</td>
   <td class="bY">00-FZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">8127</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">BMEV</th>
   <td class="N">01-ZZ</td>
   <td class="bY">00-FZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">70000+</td>
   <td class="Y">65535</td>
  </tr>
  <tr>
   <th scope="row">WAview</th>
   <td class="N">01-ZZ</td>
   <td class="Y">00-ZZ <sup>[6]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[7]</sup></td>
   <td class="Q">?</td>
   <td class="Q">?</td>
  </tr>
  <tr>
   <th scope="row">nanasi</th>
   <td class="Y">00-ZZ <sup>[4]</sup></td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="N">2147</td>
   <td class="N">2147</td>
  </tr>
  <tr>
   <th scope="row">ruv-it!</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[7]</sup></td>
   <td class="N">2147</td>
   <td class="N">2147</td>
  </tr>
  <tr>
   <th scope="row">Angolmois</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">Yes <sup>[10]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">16383</td>
   <td class="Y"><sub>[<var>y1</var>]</sub> 32767</td>
  </tr>
  <tr>
   <th scope="row">Sonorous</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[11]</sup></td>
   <td class="Y">Yes <sup>[11]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">16383?</td>
   <td class="Y"><sub>[<var>y1</var>]</sub> 32767?</td>
  </tr>
  <tr>
   <th scope="row">BMSE</th>
   <td class="N">01-ZZ</td>
   <td class="N">01-ZZ <sup>[5]</sup></td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="Y">32767</td>
   <td class="Y">32767</td>
  </tr>
  <tr>
   <th scope="row">uBMplay -1.4.6</th>
   <td class="Y">00-ZZ</td>
   <td class="N">01-ZZ <sup>[5]</sup></td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="N">No</td>
   <td class="bY">4031</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">uBMplay 1.5.0+</th>
   <td class="Y">00-ZZ</td>
   <td class="Y">00-ZZ</td>
   <td class="Y">1x1</td>
   <td class="N">No</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="bY">4031</td>
   <td class="bY">8190</td>
  </tr>
  <tr>
   <th scope="row">BGAEncAdv</th>
   <td class="Y">00-ZZ <sup>[4]</sup></td>
   <td class="Y">00-ZZ <sup>[8]</sup></td>
   <td class="Y">1x1</td>
   <td class="Y">Yes <sup>[9]</sup></td>
   <td class="Y">Yes</td>
   <td class="Y">Yes</td>
   <td class="Y">Yes <sup>[7]</sup></td>
   <td class="Y">70000+</td>
   <td class="Y">70000+</td>
  </tr>
 </tbody>
</table>
<ul>
 <li><p>The <code>#BGA</code> column of this table means the range of the index which the <code>#BGA</code> command can use.</p>
  <ul>
   <li>The group of <code>01-ZZ</code> cannot use <code>#BGA00</code> as substitution of <code>#BMP00</code>.</li>
   <li>Since BMEV and WAview cannot display a default mistake image, they have been provisionally classified into the <code>01-ZZ</code> group.</li>
   <li>Note [4]: <code>#BGA00</code> can be used if one or more image objects exist
    in the channel <code>04</code>, <code>07</code>, or <code>0A</code> (if supported).</li>
  </ul></li>
 <li><p>The <code>#BMP</code> column of this table means the range of the <code>#BMP</code> index which can be referred to by the <code>#BGA</code> command.</p>
  <ul>
   <li><p>Note [1]: “The value which converted hexadecimal number index <code>00-FF</code> into the decimal number” must be specified.</p>
    <p>Base-36 index <code>[G-Z]</code> cannot be used. Therefore, the maximum of the images which can be referred to are 256 files.</p></li>
   <li>Note [3]: <code>#BMP</code> which can be referred to is only four slots of <code>00</code>, <code>01</code>, <code>02</code>, and <code>03</code>.
    Nothing is displayed even if it refers to other indexes.</li>
   <li>Note [5]: <code>#BMP00</code> cannot be referred to.</li>
   <li><p>Note [6]: If <code>100</code> or more and <code>1295</code> or less decimal integer is specified,
     it will be parsed as “a value which converted the base-36 <code>#BMP</code> index into the decimal number”.</p>
    <p>“<code>#BGA<var>xx</var>&nbsp;099&nbsp;...</code>” and
     “<code>#BGA<var>xx</var>&nbsp;009&nbsp;...</code>”, both of these are the references to <code>#BMP09</code>.</p></li>
   <li>Note [8]: The coordinates specification to video files is also effective.</li>
  </ul></li>
 <li><p>“<code>0&nbsp;0&nbsp;1&nbsp;1</code>” column means
   how “<code><var>x1&nbsp;y1&nbsp;x2&nbsp;y2</var></code>” parameter is treated.</p>
  <ul>
   <li>Almost all applications trim the fragment “width 1 pixel, height 1 pixel” by this specification.</li>
   <li>Note [2]: BM98de and DDR trim the fragment “width 2 pixel, height 2 pixel” by this specification.</li>
  </ul></li>
 <li>
<p>An Align column means the tolerance to trailing spaces inside <code>#BGA</code>. If they are effective as a delimiter, the answer is “Yes”.</p>
  <ul>
   <li><p>Note [9]: A comma (U+002C) can also be used instead of a space (U+0020). (See sample.bms of BGAEncAdv)</p>
    <p>Although both can be intermingled, if two or more commas continue (e.g. “<code>0,,0</code>”), BGAEncAdv will do forced termination.</p></li>
  </ul></li>
 <li><p>1digit column means the tolerance to the specification which may be a <code>#BMP</code> index.
   If “<code>#BGA<var>xx</var>&nbsp;<mark>1</mark>&nbsp;...</code>” is effective as reference to <code>BMP<mark>01</mark></code>,
   the answer is “Yes”.</p>
  <ul>
   <li>E.g. <cite><a href="https://web.archive.org/web/*/http://www.knm.mydns.jp:32100/download-area/ed_wind_hc.lzh" class="external" rel="external"><span lang="ja" xml:lang="ja" class="DBCS">風のたどり着く場所</span> (Extra-Mix)</a></cite>
    (<span lang="ja" xml:lang="ja" class="DBCS">猫蟹丸</span>, <time datetime="2001-12-22">2001-12-22</time>)</li>
   <li><ins datetime="2013-11-18T08:30:00+09:00">Note [11]: In Sonorous 0.1.0-pre (<time datetime="2013-11-18T03:01:53+09:00">2013-11-18</time>),
    this incompatibility was corrected.</ins></li>
  </ul></li>
 <li><p>An Overlap column means the tolerance to the overlap of the index of <code>#BMP</code> and <code>#BGA</code>.
   If <code>#BGA</code> is displayed preferentially, the answer is “Yes”.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">Remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#TITLE&nbsp;BMP&nbsp;vs&nbsp;BGA
#BPM&nbsp;120
#BMP01&nbsp;1.bmp
#BMP02&nbsp;2.bmp
#BGA01&nbsp;02&nbsp;0&nbsp;0&nbsp;255&nbsp;255&nbsp;0&nbsp;0
#BGA02&nbsp;01&nbsp;0&nbsp;0&nbsp;255&nbsp;255&nbsp;0&nbsp;0
#00104:0102</code></pre></td>
     <td><p>Such ambiguous examples actually exist partly.</p>
      <p>However, BM98de specification has not specified the processing which should be done when overlapped.</p>
      <p>Since it is not guaranteed that <code>#BGA</code> is displayed preferentially, we should avoid an ambiguous description.</p>
      <p><del datetime="2013-08-20T22:00:00+09:00">Moreover, direct overlap will force Angolmois to terminate.
       (E.g. “<code>#BGA<mark>01</mark>&nbsp;<mark>01</mark>&nbsp;...</code>”)</del></p>
      <p><ins datetime="2013-08-20T22:00:00+09:00">Note [10]: In Angolmois e5cea53a2cbd (<time datetime="2013-08-15T03:38:50+09:00">2013-08-15 03:38 +0900</time>),
       this incompatibility was corrected.</ins></p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>A Nega column means the tolerance to negative number coordinates. There is only one sample which I know.
   (<a href="https://web.archive.org/web/*/http://mru.hp.infoseek.co.jp/bm98_beta1.zip" class="external" rel="external">newbgatest.bms</a>)</p>
  <p>Note [7]:</p>
  <ul>
   <li>Probably WAview can display negative number coordinates. However, since the treatment of the coordinates of WAview is too peculiar, it is not compatible.</li>
   <li>ruvit adds the processing like a tile to negative number coordinates. Therefore, it differs from the display of BM98de.</li>
   <li><p>The display by BGAEncAdv differs from BM98de delicately.</p>
    <ul>
     <li>When <code><var>x1</var></code>, <code><var>y1</var></code>, <code><var>x2</var></code>, or <code><var>y2</var></code> is a negative number,
      the value of <code><var>dx</var></code> and <code><var>dy</var></code> doubles. (Bug?)</li>
     <li><p>When the value of <code><var>dx</var></code> or <code><var>dy</var></code> is a negative number,
       the portion overflowing toward the left or top is not cut.</p>
      <p>This is the same behavior as BM98de and uBMplay 1.5.0 (or later). See sample.bms of BGAEncAdv for details.</p></li>
    </ul></li>
  </ul></li>
 <li><p>max-X column and max-Y column mean the limit of the coordinates which can be displayed correctly. A unit is a pixel.</p>
  <ul>
   <li>These values are the results of an investigation in <strong class="red">video memory 128 MB</strong> environment. A different result will be brought by high-spec computer.</li>
   <li>When a bigger image than these values is referred to, the following faults may occur:
    It is not displayed. /  A display collapses. / <strong class="red">A computer stops responding</strong>. etc.</li>
   <li><p><a href="http://manbow.nothing.sh/event/event.cgi?action=More_def&amp;num=5&amp;event=16" class="external" rel="external" hreflang="ja" title="BGA EVENT - i respect you. - details">The appendix of <cite>FELYS</cite></a>
     scrolls the image file of width 3236 pixel by <code>#BGA</code>. (<code>#066-073</code>)</p>
    <p>This appendix is only for BM98de &amp; DDR &amp; pomu2.
     Although rewriting in the form which is not so is possible, MixWaver<del datetime="2014-04-17T19:10:00+09:00">, nanasi, and ruvit</del> cannot display this.</p></li>
  </ul></li>
</ul>
<!-- /ABOUT-THE-COMPATIBILITY-OF-BGAXX -->
</section>

<!-- /#BGAXX -->
</section>



<section id="ATBGAXX">
<h3><code><a href="#ATBGAXX">#@BGA<var>[00-ZZ]</var>&nbsp;<var>[#BMP-index]</var>&nbsp;<var>sx</var>&nbsp;<var>sy</var>&nbsp;<var>w</var>&nbsp;<var>h</var>&nbsp;<var>dx</var>&nbsp;<var>dy</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">remarks</th></tr></thead>
 <tbody>
  <tr><td><code>#xxx04</code></td><td>BGA BASE</td></tr>
  <tr><td><code>#xxx06</code></td><td>BGA POOR</td></tr>
  <tr><td><code>#xxx07</code></td><td>BGA LAYER</td></tr>
  <tr><td><code>#xxx0A</code></td><td>BGA LAYER2 (nanasi, Sonorous, BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove</del>)</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only), BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>A part of image file is trimmed and displayed.</li>
 <li><p>This command is a syntax sugar of <code>#BGA</code>, and internal processing is the same as <code>#BGA</code>.</p>
  <table>
   <thead><tr><th scope="col">paramemter</th><th scope="col">summary</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <th scope="row"><code><var>sx&nbsp;sy</var></code></th>
     <td>start point of trimming</td>
     <td><strong>Upper left</strong> coordinates of the range cut out of the original image</td>
    </tr>
    <tr>
     <th scope="row"><code><var>w&nbsp;h</var></code></th>
     <td>length to trim</td>
     <td><strong>Width and Height</strong> from a point to clip</td>
    </tr>
    <tr>
     <th scope="row"><code><var>dx&nbsp;dy</var></code></th>
     <td>start point of drawing</td>
     <td><strong>Upper left</strong> corner coordinates of drawing region</td>
    </tr>
   </tbody>
  </table></li>
 <li>When the size to clip is being fixed, <code>#@BGA</code> can be described more comfortably than <code>#BGA</code>.</li>
</ul>
</section>



<section id="POORBGA" itemscope="itemscope">
<h3><code><a href="#POORBGA">#POORBGA&nbsp;<var>[0-2]</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, pomu2, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The display type of POOR (MISS) images is defined.</p>
  <table>
   <tbody>
    <tr>
     <th scope="row"><code>0</code>:</th>
     <td>Default. The orthodox type which changes a display to the channel <code>#xxx06</code> for several seconds when a mistake is made.</td>
    </tr>
    <tr>
     <th scope="row"><code>1</code>:</th>
     <td><p>Displaying <code>#xxx06</code> on the top of BGA LAYERs. (when a mistake is made)</p>
      <table>
       <thead><tr><th scope="col">summary</th><th scope="col">channel</th><th scope="col">remarks</th></tr></thead>
       <tbody>
        <tr><th scope="row" class="ind4">BGA POOR (MISS)</th><td><code>#xxx06</code></td><td>top level</td></tr>
        <tr><th scope="row" class="ind3">BGA LAYER-2</th><td><code>#xxx0A</code></td><td>second level</td></tr>
        <tr><th scope="row" class="ind2">BGA LAYER</th><td><code>#xxx07</code></td><td>third level</td></tr>
        <tr><th scope="row" class="ind1">BGA BASE</th><td><code>#xxx04</code></td><td>lowest level</td></tr>
       </tbody>
      </table>
      <p>e.g. <cite>SigSig</cite> (from <cite>beatmaniaIIDX</cite>): <a class="external" rel="external" title="六段底辺のヘタレプレイ。-SigSig[H] - YouTube" href="https://www.youtube.com/watch?v=0UOx8sxzYgg"><span itemprop="url">https://www.youtube.com/watch?v=0UOx8sxzYgg</span></a></p>
      <ul>
       <li>When a mistake is made, the channel <code>#xxx06</code> is overlapped and displayed
        on the layer above the usual channels <code>#xxx04/07</code>.</li>
       <li>As a result, the image sequence of “the girl who runs and falls over” is displayed. Just like LAYER of another kind.</li>
       <li>Although this example is not BMS but beatmaniaIIDX, the stage effects similar to this are realizable.</li>
      </ul>
     </td>
    </tr>
    <tr>
     <th scope="row"><code>2</code>:</th>
     <td><p>Undisplayed.</p>
      <p>When a mistake is made, display does not change to the channel <code>#xxx06</code>. Displaying the usual image sequence is continued.</p></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>uBMplay has a function similar to <code>#POORBGA</code>.</p>
  <p>uBMplay can change the display type of an image from the following menu.</p>
  <table>
   <thead><tr><th scope="col">label</th><th scope="col">display channels</th></tr></thead>
   <tbody>
    <tr><th scope="row">NORMAL</th><td><code>#xxx04</code> + <code>#xxx07</code></td></tr>
    <tr><th scope="row">ALWAYS MISS</th><td><code>#xxx06</code></td></tr>
    <tr><th scope="row">OFF</th><td>(undisplay)</td></tr>
    <tr><th scope="row">BASE ONLY</th><td><code>#xxx04</code></td></tr>
    <tr><th scope="row">LAYER ONLY</th><td><code>#xxx07</code></td></tr>
   </tbody>
  </table>
  <p>This function is very useful for test playing.</p></li>
 <li><p>BGAEncAdv has a function similar to <code>#POORBGA</code>. (a command-line argument “<code>-l&nbsp;<var>[0-2]</var></code>”)</p>
  <table>
   <tbody>
    <tr><th scope="row"><code>-l&nbsp;0</code></th><td>Miss-layer only</td></tr>
    <tr><th scope="row"><code>-l&nbsp;1</code></th>
     <td>Show all layer // This is equivalent to “<code>#POORBGA&nbsp;1</code>”.
      <ins datetime="2013-08-04T01:00:00+09:00">Furthermore, “ALWAYS MISS” is applied.</ins></td></tr>
    <tr><th scope="row"><code>-l&nbsp;2</code></th><td>Standard (default)</td></tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="SWBGAXX">
<h3><code><a href="#SWBGAXX">#SWBGA<var>[01-ZZ]</var>&nbsp;<var>fr</var>:<var>time</var>:<var>line</var>:<var>loop</var>:<var>a,r,g,b</var>&nbsp;<var>pattern</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxxA5</code></td></tr>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only)<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
  <tr><th scope="row">caution:</th>
   <td><span class="red">This is the command implemented experimentally. From now on, specification may change.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The image sequence reacts to pressing a key. This is key bind LAYER animation.</p>
  <dl>
   <dt><code><var>fr</var></code>:</dt>
   <dd>
    <p>Frame rate. The time required of one frame (-- milli seconds elapsed between animation-frame start and animation-frame end )</p>
    <p>If frame rate is 60 FPS, 17 is specified as a value. (Frames Per Second = 1000 / 60).</p>
   </dd>
   <dt><code><var>time</var></code>:</dt>
   <dd>
    <p>The total lapsed time of animation. (ms)</p>
    <p>If 0 is specified, displaying animation is continued while the defined line is pushed (held).</p>
   </dd>
   <dt><code><var>line</var></code>:</dt>
   <dd><p>The channel of the line to apply is specified. The range of a value is <code><var>[11-19]</var></code> <code><var>[21-29]</var></code>.</p></dd>
   <dt><code><var>loop</var></code>:</dt>
   <dd>
    <p>When animation is completed and display time is moreover left, what does it do?</p>
    <table>
     <tbody>
      <tr><th scope="row"><code>0</code>:</th><td>The last frame is held. “don't loop”</td></tr>
      <tr><th scope="row"><code>1</code>:</th><td>Animation is rewound. “do loop”</td></tr>
     </tbody>
    </table>
   </dd>
   <dt><code><var>a,r,g,b</var></code>:</dt>
   <dd><p>Alpha channel, Red, Green, Blue. The range of a value is <code><var>[0-255]</var></code>. A delimiter is a comma.</p></dd>
   <dt><code><var>pattern</var></code></dt>
   <dd>
    <p>The pattern of animation is described using the notation of the MAIN DATA channel messages of BMS. (e.g. <code>01020304</code>)</p>
    <p><code>#BMP</code>-index, <code>#EXBMP</code>-index, <code>#BGA</code>-index, and <code>#@BGA</code>-index can use.</p>
    <p>(These indexes are shared among <code>#BMP</code>-fellows and are substantially the same. )</p>
    <p>Since this command is separated from reproduction processing of BMS, resolution does not exist.</p>
    <p>Unlike the usual image command, <code>00</code> displays the image of
     <code>#BMP00</code>(/<code>#EXBMP00</code>/<code>#BGA00</code>/<code>#@BGA00</code>) as it is.</p>
    <table>
     <thead><tr><td></td><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr>
       <th scope="row">notation in usual data:</th>
       <td><pre><code>#00404:<mark>00</mark>11<mark>00</mark>22</code></pre></td>
       <td><code>00</code> is like a <a class="external" rel="external" hreflang="en" title="Rest (music) - Wikipedia, the free encyclopedia" href="https://en.wikipedia.org/wiki/Rest_%28music%29">musical rest symbol</a></td>
      </tr>
      <tr>
       <th scope="row">notation in SWBGA:</th>
       <td><pre><code>#swbga01&nbsp;100:400:16:0:255,255,255,255&nbsp;<mark>00</mark>11<mark>00</mark>22</code></pre></td>
       <td><code>00</code> is <code>#BMP00</code></td>
      </tr>
     </tbody>
    </table>
    <p>Therefore, if there is frame not to display,
     we need to specify a transparent image or empty <code>#BMP</code>-index instead of <code>00</code>.</p>
   </dd>
  </dl></li>
</ul>

<ul>
 <li>For the moment, behavior when two or more BGA switching is applied simultaneously is not stipulated.</li>
 <li>It seems that the key bind animation is exclusive and is preferentially displayed by the newer input as long as I tested.</li>
 <li><p>example 1:</p>
  <table><tbody><tr><td><pre><code>#SWBGA01&nbsp;100:400:16:0:255,255,255,255&nbsp;01020304
#070A5:01</code></pre></td></tr></tbody></table>
  <ul>
   <li>In <code>#070</code> or later, this is displayed when the channel <code>#xxx16</code> (1P-side SCRATCH) is inputted.</li>
   <li>Frame rate is 10 FPS. (100 = 1000/10)</li>
   <li>Duration is 400ms.</li>
   <li>Loop does not carry out.</li>
   <li><p>The timeline is as follows:</p>
    <ol>
     <li><code>#BMP01</code> will be displayed if a key is inputted.</li>
     <li><code>#BMP02</code> will be displayed if 100ms passes.</li>
     <li><code>#BMP03</code> will be displayed if 200ms passes.</li>
     <li><code>#BMP04</code> will be displayed if 300ms passes.</li>
     <li>If 400ms passes, displaying key bind animation will be ended.</li>
    </ol></li>
   <li>Among the images of <code>#BMP01-04</code>,
    “a completely opaque and completely white portion” becomes transparent, and displays the image sequence of the usual BMS.</li>
  </ul></li>
 <li><p>example 2:</p>
  <table><tbody><tr><td><pre><code>#SWBGA02&nbsp;50:0:11:1:255,255,255,255&nbsp;01020304
#010A5:02</code></pre></td></tr></tbody></table>
  <ul>
   <li>In <code>#010</code> or later, this is displayed when the channel <code>#xxx11</code> (1P-side KEY1) is inputted.</li>
   <li>Frame rate is 20 FPS. (50 = 1000/20)</li>
   <li>Duration is “while continuing pushing KEY1”.</li>
   <li>Loop is carried out.</li>
   <li><p>The timeline is as follows:</p>
    <ol>
     <li><code>#BMP01</code> will be displayed if a key is inputted.</li>
     <li>If the keydown is still held when  50ms passes, <code>#BMP02</code> will be displayed.</li>
     <li>If the keydown is still held when 100ms passes, <code>#BMP03</code> will be displayed.</li>
     <li>If the keydown is still held when 150ms passes, <code>#BMP04</code> will be displayed.</li>
     <li>If the keydown is still held when 200ms passes, animation will rewind to a head.</li>
    </ol></li>
   <li>Among the images of <code>#BMP01-04</code>,
    “a completely opaque and completely white portion” becomes transparent, and displays the image sequence of the usual BMS.</li>
  </ul></li>
</ul>
</section>



<section id="ARGBXX">
<h3><code><a href="#ARGBXX">#ARGB<var>[01-ZZ]</var>&nbsp;<var>a,r,g,b</var></a></code></h3>

<table>
 <thead><tr><th scope="col">channel:</th><th scope="col">summary</th></tr></thead>
 <tbody>
  <tr><td><code>#xxxA1</code></td><td>aRGB of BGA BASE is changed at the time of drawing</td></tr>
  <tr><td><code>#xxxA2</code></td><td>aRGB of BGA LAYER is changed at the time of drawing</td></tr>
  <tr><td><code>#xxxA3</code></td><td>aRGB of BGA LAYER2 is changed at the time of drawing</td></tr>
  <tr><td><code>#xxxA4</code></td><td>aRGB of BGA POOR is changed at the time of drawing</td></tr>
 </tbody>
</table>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, Sonorous(parsing-only), BGAEncAdv<del datetime="2014-06-10T20:00:00+09:00" class="hide">, TechnicalGroove(scheduled)</del></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The value of aRGB which should be applied to each level of LAYERs of BGA fellows is defined. A delimiter is a comma.</p>
  <table>
   <thead><tr><th scope="col">param</th><th scope="col">range</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td><code><var>a</var></code></td><td><code>[0-255]</code></td><td>alpha</td></tr>
    <tr><td><code><var>r</var></code></td><td><code>[0-255]</code></td><td>red</td></tr>
    <tr><td><code><var>g</var></code></td><td><code>[0-255]</code></td><td>green</td></tr>
    <tr><td><code><var>b</var></code></td><td><code>[0-255]</code></td><td>blue</td></tr>
   </tbody>
  </table></li>
 <li><p><code>#ARGB</code>'s value is shared with the OPACITY channels <code>#xxx0B-0E</code>.</p>
  <table>
   <thead><tr><th scope="col">channel</th><th scope="col">summary</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr><td><code>#xxx0B</code></td><td>BGA BASE's Opacity</td><td>transparent « <code><var>[01-FF]</var></code> » opaque</td></tr>
    <tr><td><code>#xxx0C</code></td><td>BGA LAYER's Opacity</td><td>transparent « <code><var>[01-FF]</var></code> » opaque</td></tr>
    <tr><td><code>#xxx0D</code></td><td>BGA LAYER2's Opacity</td><td>transparent « <code><var>[01-FF]</var></code> » opaque</td></tr>
    <tr><td><code>#xxx0E</code></td><td>BGA POOR's Opacity</td><td>transparent « <code><var>[01-FF]</var></code> » opaque</td></tr>
   </tbody>
  </table></li>
 <li>Although <code>#xxx0B-0E</code> can change only transparency, <code>#ARGB</code> can also treat change of transparent color.</li>
 <li><code>#EXBMP</code> is aRGB which should be applied to each file. (for simple substance)</li>
 <li><code>#ARGB</code> is aRGB which should be applied to each BGA channel. (for the whole)</li>
 <li>BGAEncAdv can also use one or more spaces (U+0020) as a delimiter.</li>
 <li>BGAEncAdv can apply <code>#ARGB</code> also to a <strong>video file</strong>. (See sample.bms)</li>
</ul>
</section>



<section id="VIDEOFILE">
<h3><code><a href="#VIDEOFILE">#VIDEOFILE&nbsp;<var>videofilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX, TypeAce, Be-Pachi Music, RDM, ruvit, Sonorous(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The filename of the video to playback is specified as BGA.</p>
  <table>
   <tbody>
    <tr>
     <th scope="row" rowspan="2" class="vam">filetype:</th>
     <th scope="row">supporting MPEG:</th>
     <td>TypeAce, RDM, ruvit</td>
    </tr>
    <tr>
     <th scope="row">supporting AVI:</th>
     <td>bemaniaDX, TypeAce, Be-Pachi Music, RDM, ruvit</td>
    </tr>
    <tr>
     <th scope="row">filename:</th>
     <td colspan="2">In bemaniaDX, a full path and a relative path can also be specified.</td>
    </tr>
    <tr>
     <th scope="row">loopable:</th>
     <td colspan="2">If time remains, it will rewind and repeat. A show is begun from <code>#000</code>.</td>
    </tr>
    <tr>
     <th scope="row">sounding:</th>
     <td colspan="2">The sound which a video contains is not sounded. Video's sound is ignored.</td>
    </tr>
   </tbody>
  </table></li>
 <li>AVI is dependent on Codec installed in PC.</li>
 <li><p>In the case of bemaniaDX:</p>
  <ul>
   <li><p>When a color fades, color palette definition of <code>#VIDEOCOLORS</code> may be lower than the color palette of a video.</p>
    <p>Specify <code>#VIDEOCOLORS</code> correctly.</p></li>
   <li><p>The channels <code>#xxx04</code>, <code>07</code>, and <code>06</code> can be used simultaneously with a video.</p>
    <ul>
     <li>The channel <code>#xxx04</code> is piled up on the VIDEOFILE.</li>
     <li>The channel <code>#xxx07</code> is piled up on the channel <code>#xxx04</code>.</li>
    </ul>
    <table>
     <thead><tr><th scope="col">summary</th><th scope="col">channel/header</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr><th scope="row" class="ind3">BGA LAYER</th><td><code>#xxx07</code></td><td>top level</td></tr>
      <tr><th scope="row" class="ind2">BGA BASE</th><td><code>#xxx04</code></td><td>middle level</td></tr>
      <tr><th scope="row" class="ind1">VIDEOFILE</th><td><code>#VIDEOFILE</code></td><td>bottom level</td></tr>
     </tbody>
    </table></li>
   <li>The black (RGB:00:00:00) portion of both of channels <code>#xxx04</code> and <code>#xxx07</code> becomes transparent.</li>
   <li><p>When a mistake is made, the display of channel <code>#xxx04</code>+<code>#xxx07</code> changes to the display of channel <code>#xxx06</code>.</p>
    <p>If a definite period of time passes, it will change to the display of channel <code>#xxx04</code>+<code>#xxx07</code>.</p>
    <table>
     <thead><tr><th scope="col">summary</th><th scope="col">channel/header</th><th scope="col">remarks</th></tr></thead>
     <tbody>
      <tr><th scope="row" class="ind2">BGA POOR</th><td><code>#xxx06</code></td><td>top level</td></tr>
      <tr><th scope="row" class="ind1">VIDEOFILE</th><td><code>#VIDEOFILE</code></td><td>bottom level</td></tr>
     </tbody>
    </table>
    <p>Similarly, the black (RGB:00:00:00) portion of channel <code>#xxx06</code> becomes transparent.</p></li>
  </ul></li>
 <li>In RDM and ruvit, as for VIDEOFILE and BGA channels, only one of the two is displayed. (exclusive displaying)</li>
</ul>
</section>



<section id="VIDEOFPS">
<h3><code><a href="#VIDEOFPS">#VIDEOf/s&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The frame rate (number of frames displayed in 1 second) of a video is defined.</li>
 <li>A decimal number including a decimal fraction can be specified as a value.</li>
 <li>The frame rate of a video can be checked from the Video type property of an AVI file. (“<var>n</var> Frames/sec”)</li>
 <li>When this command is omitted, an AVI file is playback by a file's own frame rate.</li>
 <li><p>Example which changes reproduction speed:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre><code>#VIDEOFILE&nbsp;MOVIE.avi
#VIDEOf/s&nbsp;30</code></pre></td>
     <td><p>The frame rate of a MOVIE.avi file itself is 15 frames/sec.</p>
      <p>Playback speed of video is set to 30 FPS.</p></td>
    </tr>
   </tbody>
  </table>
  <p>MOVIE.avi is played back by 2X. (X2 playback)</p></li>
</ul>
</section>



<section id="VIDEOCOLORS">
<h3><code><a href="#VIDEOCOLORS">#VIDEOCOLORS&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The color palette of a video is defined.</li>
 <li>The color palette of a video can be checked from the Video type property of an AVI file. (“<var>n</var> Bit”)</li>
 <li>When this command is omitted, <code>16</code> is applied to a value. (16bit color)</li>
</ul>
</section>



<section id="VIDEODLY">
<h3><code><a href="#VIDEODLY">#VIDEODLY&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>bemaniaDX</td></tr>
  <tr><th scope="row">support:</th><td>bemaniaDX</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>It is defined from what frame a video is played back. That is, the delay of video is set.</li>
 <li>When this command is omitted, a playback is started from 0 frame in the position of the head of <code>#000</code>. (non-delay)</li>
</ul>
</section>



<section id="MOVIE">
<h3><code><a href="#MOVIE">#MOVIE&nbsp;<var>videofilename</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>DXEmu</td></tr>
  <tr><th scope="row">support:</th><td>DXEmu, IIDXv, HDX, Sonorous(parsing-only)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>A video is played back from the head of <code>#000</code>.</li>
 <li><p>When <code>#MOVIE</code> and the channel <code>#xxx04</code> compete:</p>
  <ul>
   <li>Priority is given to the <code>#MOVIE</code> side if the channel <code>#xxx04</code> side is an image file. (BMP, PNG, etc.)</li>
   <li>Priority is given to the channel <code>#xxx04</code> side if both the channel <code>#xxx04</code> and <code>#MOVIE</code> are video files.</li>
  </ul></li>
 <li>A loop does not carry out. When time remains, it stops with the last frame displayed.</li>
 <li>When a video contains a sound, the sound in a video does not play back.</li>
</ul>
</section>



<section id="SEEKXX">
<h3><code><a href="#SEEKXX">#SEEK<var>[00-ZZ]</var>&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx05</code></td></tr>
  <tr><th scope="row">origin:</th><td>LR</td></tr>
  <tr><th scope="row">support:</th><td>LR, (removed in LR2 ?)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The playback position of the present video is changed by a milli second bit.</li>
 <li>I do not know the details of this command at all.</li>
</ul>
</section>



<section id="EXTCHR" itemscope="itemscope">
<h3><code><a href="#EXTCHR">#ExtChr&nbsp;<var>SpriteNum</var>&nbsp;<var>BMPNum</var>&nbsp;<var>startX</var>&nbsp;<var>startY</var>&nbsp;<var>endX</var>&nbsp;<var>endY</var>&nbsp;[<var>offsetX</var>&nbsp;<var>offsetY</var>&nbsp;[<var>x</var>&nbsp;<var>y</var>]]</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">channel:</th><td><code>#xxx05</code></td></tr>
  <tr><th scope="row">origin:</th><td>BM98</td></tr>
  <tr><th scope="row">support:</th><td>BM98k, DDR (partial)</td></tr>
  <tr>
   <th scope="row">detail:</th>
   <td><cite>BM98FinalSecret</cite> (<a class="external" rel="external" hreflang="ja" title="BM98FinalSecret" href="http://bm98.yaneu.com/bm98/bm98secret.html"><span itemprop="url">http://bm98.yaneu.com/bm98/bm98secret.html</span></a>)</td>
  </tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The Extended-Character-file which the BMS side prepared is applied to BM98.</li>
 <li>All the elements displayed on a play screen can be replaced with a part of image file which the BMS side prepared, and can be displayed.</li>
 <li>This is a command which customizes the user-interface of a play screen.</li>
 <li><p>details:</p>
  <dl>
   <dt><code><var>SpriteNum</var></code>: <code><var>[0-1023]</var></code> (?)</dt>
   <dd><p>The index of the character to change is chosen from the character map prepared internally.</p></dd>
   <dt><code><var>BMPNum</var></code>: <code><var>[00-FF]</var></code></dt>
   <dd>
    <p>In order for <code>#ExtChr</code> to refer to it, it is necessary to define a bitmap file as <code>#BMP</code> beforehand.</p>
    <p>Since this file is clipped, a larger image than 256x256 can also be defined.</p>
    <p><del datetime="2013-03-16T20:30:00+09:00">In practice, unlike specification, <code>#BMP</code> index cannot be specified other than <code>[00-09]</code> or <code>[0-9]</code>.</del></p>
    <p><ins datetime="2013-03-16T20:30:00+09:00">Convert the hexadecimal number of <code><var>[#BMP-index]</var></code> into a decimal number, and specify it.</ins></p>
    <p><ins>Probably, <code>-1</code> and <code>-257</code> are assigned as a theme of default of BM98. These could also be operated.</ins></p>
   </dd>
   <dt><code><var>startX&nbsp;startY</var></code>:</dt>
   <dd><p>start point of trimming. Upper left coordinates of the range cut out of the original image</p></dd>
   <dt><code><var>endX&nbsp;endY</var></code>:</dt>
   <dd><p>end point of trimming. Lower right coordinates of the range cut out of the original image</p></dd>
   <dt><code><var>offsetX&nbsp;offsetY</var></code>:</dt>
   <dd>
    <p>Offset is added to the clipped coordinates.</p>
    <ul>
     <li>For example, an image clip has the offset (-5, -10).</li>
     <li>When a display on the coordinates (100, 120) is ordered to this image clip,</li>
     <li>it is displayed on the coordinates (95, 110) in practice.</li>
    </ul>
    <p>This “offsetX offsetY” parameter is omissible if unnecessary.</p>
   </dd>
   <dt><code><var>x&nbsp;y</var></code>:</dt>
   <dd>
    <p>An absolute coordinate is specified. The specification to a static element is assumed.</p>
    <p>When the keyboard image under a judgment line is changed etc..</p>
    <p>This “x y” parameter is omissible if unnecessary.</p>
    <p>When specifying this parameter, specification of “offset” cannot be omitted even if “offset” is unnecessary.</p>
   </dd>
  </dl></li>
 <li><p>Simple example:</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#bmp00&nbsp;custom_skin1.bmp
#bmp09&nbsp;custom_skin2.bmp
#bmpFF&nbsp;custom_skin3.bmp
#extchr&nbsp;512&nbsp;&nbsp;09&nbsp;30&nbsp;&nbsp;0&nbsp;99&nbsp;&nbsp;9
#extchr&nbsp;514&nbsp;255&nbsp;38&nbsp;11&nbsp;62&nbsp;19
#extchr&nbsp;516&nbsp;&nbsp;&nbsp;0&nbsp;38&nbsp;&nbsp;1&nbsp;62&nbsp;&nbsp;9&nbsp;-2&nbsp;-2
#extchr&nbsp;513&nbsp;&nbsp;&nbsp;0&nbsp;38&nbsp;&nbsp;1&nbsp;62&nbsp;&nbsp;9&nbsp;-2&nbsp;-2&nbsp;0&nbsp;0
#extchr&nbsp;512&nbsp;&nbsp;&nbsp;9&nbsp;30&nbsp;&nbsp;0&nbsp;49&nbsp;19</code></pre></td>
     <td class="vab">// overwrite command for characterID-<code>512</code></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>DDR is supporting <cite>Project2DX</cite> format partially. (only data for 1P)</p>
  <ul>
   <li>This format is pseudo-7KEYS which assigns the channels <code>#xxx21</code> and <code>#xxx22</code>
    to 1P-side KEY6 and KEY7, and it realizes with a skin.</li>
   <li>This is invention of the time when implementation which supports 7KEYS did not exist.</li>
   <li><p>If DDR finds either of the following description in BMS, it will perform processing only for <cite>Project2DX</cite>.</p>
    <table>
     <tbody>
      <tr>
       <td>
        <pre class="lh100"><code>#ExtChr&nbsp;730&nbsp;-1&nbsp;245&nbsp;&nbsp;1&nbsp;257&nbsp;18&nbsp;201&nbsp;140
#ExtChr&nbsp;774&nbsp;-1&nbsp;259&nbsp;64&nbsp;271&nbsp;81&nbsp;201&nbsp;140
#ExtChr&nbsp;780&nbsp;-1&nbsp;335&nbsp;64&nbsp;347&nbsp;81&nbsp;201&nbsp;140
#ExtChr&nbsp;779&nbsp;-1&nbsp;325&nbsp;64&nbsp;333&nbsp;81&nbsp;201&nbsp;140
#ExtChr&nbsp;745&nbsp;-1&nbsp;275&nbsp;20&nbsp;287&nbsp;37&nbsp;201&nbsp;140
#ExtChr&nbsp;771&nbsp;-1&nbsp;400&nbsp;41&nbsp;404&nbsp;58&nbsp;201&nbsp;140
#ExtChr&nbsp;760&nbsp;-1&nbsp;259&nbsp;41&nbsp;271&nbsp;58&nbsp;201&nbsp;140
#ExtChr&nbsp;784&nbsp;-1&nbsp;399&nbsp;64&nbsp;411&nbsp;87&nbsp;201&nbsp;140</code></pre>
       </td>
      </tr>
     </tbody>
    </table>
    <ul>
     <li><code>1</code> is applied to the value of <code>#PLAYER</code>.</li>
     <li>The channels <code>#xxx21</code> and <code>#xxx22</code> are changed into <code>#xxx18</code> and <code>#xxx19</code>.</li>
     <li>The channel <code>#xxx26</code> (2P-side SCRATCH) is disregarded altogether.</li>
    </ul></li>
  </ul></li>
 <li>BM98de is not necessarily supporting <code>#ExtChr</code>.</li>
 <li>It seems that however, a display may accidentally change as a result of an incorrect interpretation.</li>
 <li><p>Since this command is too difficult for me, I cannot understand well.</p>
  <p>Please refer to actual work sample:
   <cite><span class="DBCS" lang="ja" xml:lang="ja">九十九里</span></cite>
   (<span itemprop="name">TEM</span>, <time itemprop="update" datetime="2000-11-01">2000-11-01</time>)
   (<a class="external" rel="external" hreflang="ja" title="BMS - CHILD&#39;S SQUARE" href="http://childs.squares.net/bms/index.html"><span itemprop="url">http://childs.squares.net/bms/index.html</span></a>)
   (<strong>umi_99ri_3.bms</strong> of umi_99ri.rar)</p></li>
</ul>
</section>



<section id="MATERIALS">
<h3><a href="#MATERIALS">MATERIALS</a></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BM98de</td></tr>
  <tr><th scope="row">support:</th><td>BM98de, RDM, bemaniaDX, nanasi (less than 1.00)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>This is an alias of “a definition of the relative path which makes an executable file a starting point”.</p>
  <ol>
   <li>Create a new directory on the level under “Materials” of a directory with bm98body.exe.</li>
   <li>Put audio files or image files on this new directory.</li>
   <li>Define “<code><mark>&lt;</mark><var>foldername</var><mark>&gt;</mark><var>filename</var></code>” from the BMS side.
    (requires half-width <abbr title="Less Than">LT</abbr> sign and half-width <abbr title="Greater Than">GT</abbr> sign)</li>
   <li>Even if files does not exist in the same folder as BMS,
    the file of the directory below a “Materials” directory can be referred to.</li>
  </ol></li>
 <li><p>Example of a directory tree:</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100">bm98_beta1
       ├ bm98body.exe
       ├ ...
       └ <span class="lime">Materials</span>
                  └ <mark>samples</mark>
                           ├ samplesound.wav
                           └ sampleimage.bmp</pre></td>
    </tr>
    <tr>
     <td><pre><code>//&nbsp;BMS&nbsp;in&nbsp;other&nbsp;place
#WAV01&nbsp;<mark>&lt;samples&gt;</mark>samplesound.wav
#BMP01&nbsp;<mark>&lt;samples&gt;</mark>sampleimage.bmp</code></pre></td>
    </tr>
   </tbody>
  </table>
  <p>This BMS loads <code>samplesound.wav</code> and <code>sampleimage.bmp</code> from “<code>bm98_beta1\Materials\samples\</code>”.</p></li>
 <li>By this function, management of a sound set may become easy, for example.</li>
 <li>But, modern implementation is supporting not MATERIALS but the definition of a path.</li>
</ul>
</section>



<section id="MATERIALSWAV">
<h3><code><a href="#MATERIALSWAV">#MATERIALSWAV&nbsp;<var>path</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (less than 1.00)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">This command is obsolete. We should not use this command any more.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The relative path which makes Materials folder a starting point is specified. (260bytes of restriction )</li>
 <li>All the sound file definitions of BMS containing this command are read from path of materials.</li>
 <li><p>Priority is as follows:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">1</th>
     <td>The usual “MATERIALS” definition</td>
     <td><code>#WAVxx&nbsp;&lt;<var>path</var>&gt;<var>filename</var></code></td>
    </tr>
    <tr>
     <th scope="row">2</th>
     <td>“Materials” folder at the same place as an executable file</td>
     <td>sharable among other implementations</td>
    </tr>
    <tr>
     <th scope="row">3</th>
     <td>“<code>_datafiles\materials</code>” (in nanasigroove folder)</td>
     <td>“Materials” folder only for nanasigroove</td>
    </tr>
   </tbody>
  </table></li>
 <li>Supporting “MATERIALS” and <code>#MATERIALSWAV</code> and <code>#MATERIALSBMP</code> were removed at nanasi 1.00.</li>
</ul>
</section>



<section id="MATERIALSBMP">
<h3><code><a href="#MATERIALSBMP">#MATERIALSBMP&nbsp;<var>path</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (less than 1.00)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">This command is obsolete. We should not use this command any more.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The relative path which makes Materials folder a starting point is specified. (260bytes of restriction )</li>
 <li>All the image file definitions of BMS containing this command are read from path of materials.</li>
 <li><p>Priority is as follows:</p>
  <table>
   <tbody>
    <tr>
     <th scope="row">1</th>
     <td>The usual “MATERIALS” definition</td>
     <td><code>#BMPxx&nbsp;&lt;<var>path</var>&gt;<var>filename</var></code></td>
    </tr>
    <tr>
     <th scope="row">2</th>
     <td>“Materials” folder at the same place as an executable file</td>
     <td>sharable among other implementations</td>
    </tr>
    <tr>
     <th scope="row">3</th>
     <td>“<code>_datafiles\materials</code>” (in nanasigroove folder)</td>
     <td>“Materials” folder only for nanasigroove</td>
    </tr>
   </tbody>
  </table></li>
 <li>Supporting “MATERIALS” and <code>#MATERIALSWAV</code> and <code>#MATERIALSBMP</code> were removed at nanasi 1.00.</li>
</ul>
</section>



<section id="DIVIDEPROP">
<h3><code><a href="#DIVIDEPROP">#DIVIDEPROP&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi (less than 0.98)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">This command is obsolete. We should not use this command any more.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The resolution of Measure of BMS is specified. Since this command became unnecessary, it was removed.</li>
 <li>For now, as for the resolution of nanasi, 960 is set automatically.</li>
 <li>The resolution 960 is pseudo-resolution using a floating point.</li>
</ul>
</section>



<section id="CHARSET" itemscope="itemscope">
<h3><code><a href="#CHARSET">#CHARSET&nbsp;<var>encode</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>ruvit</td></tr>
  <tr><th scope="row">support:</th><td>ruvit (less than 2.0b5p2)</td></tr>
  <tr><th scope="row">caution:</th><td><span class="red">This command is obsolete. We should not use this command any more.</span></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><del>Specify charset by an <abbr title="Internet Assigned Numbers Authority">IANA</abbr> registration name. (<a class="external" rel="external" hreflang="en" type="text/plain" title="CHARACTER SETS" href="http://www.iana.org/assignments/character-sets"><span itemprop="url">http://www.iana.org/assignments/character-sets</span></a>)</del></li>
 <li><code>[EUC-KR|SHIFT-JIS|UTF-8]</code> can be specified as a value. For example: <code>#CHARSET&nbsp;EUC-KR</code></li>
 <li>Japanese needs to specify <code>SHIFT-JIS</code> to this command, although an IANA library-name is “Shift_JIS”
  (not a hyphen but an underscore).</li>
 <li>When BOM (Byte Order Mark) is contained in the text file (BMS file), <code>#CHARSET</code> is processed based on the contents of BOM.</li>
 <li>In BMS created by encodings other than EUC-KR/Shift_JIS, saving and distributing by “UTF-8 with BOM” is recommended.</li>
 <li>Since ruvit fully supported Unicode in the version 2.0b5p2, <code>#CHARSET</code> was removed.</li>
</ul>
<ul>
 <li>For now, ruvit distinguishes charset automatically.</li>
 <li><p>Quotation from <a class="external" rel="external" hreflang="ko" title="ruv-it! | support page" href="https://nvyu.net/rdm/rby_ex.php">ruv-it! | support page</a> (free translation by a quotation person):</p>
  <blockquote>
   <dl>
    <dt>Support for Unicode:</dt>
    <dd>
     <p>When BOM (Byte Order Mark) is contained, a text format is read according to the contents of BOM. (In UTF-8/UTF-16LE/UTF-16BE)</p>
     <p>When BOM is not included, one of EUC-KR and Shift_JIS is distinguished and read
      with the frequency of <abbr title="Double Byte Character Set">DBCS</abbr> LeadByte.</p>
     <p>Although the code domain of two linguistic codes overlaps and the mistaken result may be drawn. This behavior is by design.</p>
     <p>By this processing, the problem by which charsets, such as GB2312, Big5, VISCII, and windows-1258, are disregarded occurs.</p>
     <p>However, if such multilingual environment is a premise, it is far more rational to use Unicode.</p>
     <p>As a result of this judgment, ruvit recommends use of Unicode.</p>
    </dd>
   </dl>
  </blockquote></li>
</ul>

<section id="CHARSET-SUPPORT-FOR-UNICODE">
<h4><a href="#CHARSET-SUPPORT-FOR-UNICODE">Support&nbsp;for&nbsp;Unicode</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>ruvit</td></tr>
  <tr><th scope="row">support:</th><td>ruvit, iBMSC, IIDXv (2.13+), HDX (0.98+), Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>ruvit and iBMSC are supporting some character sets other than <abbr title="American Standard Code for Information Interchange">ASCII</abbr>.</li>
 <li>Moreover, the next-generation version of LR2 has adopted not
  <abbr title="American Standard Code for Information Interchange">ASCII</abbr> but UTF-16LE with BOM as a default character set.</li>
 <li><p>In the <abbr title="HyperText Markup Language">HTML</abbr>5 specification (Working Draft), support for the UTF-7 and UTF-32 character sets has been removed.
  (<a class="external" rel="external" hreflang="en" title="HTML 5" href="https://www.w3.org/TR/2008/WD-html5-20080122/"><span itemprop="url">https://www.w3.org/TR/2008/WD-html5-20080122/</span></a>)</p>
  <blockquote class="ind1">
   <p>Authors should not use JIS_X0212-1990, x-JIS0208, and encodings based on EBCDIC.</p>
   <p>Authors should not use UTF-32. Authors must not use the CESU-8, UTF-7, BOCU-1 and SCSU encodings. [CESU8] [UTF7] [BOCU1] [SCSU]</p></blockquote>
  <p>UTF-7 and UTF-32 may become an obstacle when assuming the case where a BMS file is used in a web application.</p></li>
 <li>IIDXv and HDX supported UTF-8, UTF-16LE, and UTF-16BE (<strong class="red">required BOM</strong>).</li>
 <li>Sonorous supported UTF-8 (<strong>BOM is an option</strong>).</li>
 <li>BGAEncAdv and TechnicalGroove supported <strong>UTF-8 (without BOM)</strong>, UTF-8 (+BOM), UTF-16LE (+BOM), UTF-16BE (+BOM).</li>
</ul>
</section>
<!-- /#CHARSET -->
</section>



<section id="P-URL">
<h3><code><a href="#P-URL">%URL&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BMS Manager</td></tr>
  <tr><th scope="row">support:</th><td>BMS Manager, BMSC</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>As meta-information, URL of the Web page about a BMS maker is indicated.</li>
 <li>This is unrelated to parsing of BMS.</li>
 <li>In my opinion, it is unexpectedly useful.</li>
 <li>At the time of distribution of a patch BMS, it is because information,
  including the acquisition place of an original work, etc, can be indicated.</li>
 <li>This command will be deleted if a musical score is overwritten by BMSE or iBMSC.</li>
</ul>
</section>



<section id="P-EMAIL">
<h3><code><a href="#P-EMAIL">%EMAIL&nbsp;<var>string</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>BMS Manager</td></tr>
  <tr><th scope="row">support:</th><td>BMS Manager, BMSC</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>As meta-information, BMS maker's e-mail address is indicated.</li>
 <li>This is unrelated to parsing of BMS.</li>
 <li>This command will be deleted if a musical score is overwritten by BMSE or iBMSC.</li>
</ul>
</section>

<hr>
<!-- /h2 HEADER -->
</section>




<section id="CONTROL-FLOW">
<h2><a href="#CONTROL-FLOW">&lt;CONTROL&nbsp;FLOW&gt;</a></h2>


<section id="RANDOM-IF-ENDIF" itemscope="itemscope">
<div class="hgroup">
<h3 id="RANDOM"><code><a href="#RANDOM">#RANDOM&nbsp;<var>n</var></a></code></h3>
<h3 id="IF"><code><a href="#IF">#IF&nbsp;<var>n</var></a></code></h3>
<h3 id="ENDIF"><code><a href="#ENDIF">#ENDIF</a></code></h3>
</div>

<table>
 <tbody>
  <tr>
   <th scope="row">origin:</th>
   <td>BM98 (<a class="external" rel="external" hreflang="en" title="BM98Data_format_specification" href="http://bm98.yaneu.com/bm98/bmsformat.html"><span itemprop="url">http://bm98.yaneu.com/bm98/bmsformat.html</span></a>)</td>
  </tr>
  <tr>
   <th scope="row">support:</th>
   <td>
    <p>BM98, BM98de, DDR, RDM, MW, bemaniaDX, nazo, Mac, Aqua, WAview, in_BM2, bms2wav, bms2avi,</p>
    <p>LR2, ruvit, nanasi, fgt++, fgt#, pomu2, nazoZZ, uBMplay, PMSee-V, IIDXv, HDX, bmx2wav, outliner, Angolmois,</p>
    <p>BMSE (partial), iBMSC (3.0+ / partial), Sonorous, BGAEncAdv, TechnicalGroove</p>
   </td>
  </tr>
  <tr><th scope="row">one level:</th><td>RDM, bemaniaDX, nazo, nazoZZ, WAview, in_BM2, LR2, ruvit, fgt++, fgt#, uBMplay (1.4.6 or earlier), PMSee-V, bmx2wav</td></tr>
  <tr><th scope="row">nestable:</th><td><p>BM98, BM98de, DDR, MW, nanasi, Aqua, pomu2, BMSE (partial),</p>
   <p>IIDXv, HDX, outliner, Angolmois, uBMplay (1.5.0 or later), Sonorous, BGAEncAdv, TechnicalGroove</p><!--
  (tr)(th scope="row")uninvestigated about nest:(/th)(td)Mac, Aqua, bms2wav, bms2avi(/td)(/tr) --></td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#RANDOM</code> generates one of the natural numbers from 1 to <code><var>n</var></code>.
  Needless to say, <code><var>n</var></code> should specify a natural number.</li>
 <li>The section from <code>#IF</code> to <code>#ENDIF</code> is a block statement.</li>
 <li>The contents of the block with the same label as the value which generated by <code>#RANDOM</code> are applied.</li>
 <li>The contents of all blocks that do not agree with the generated value are ignored.</li>
 <li><p>That is, this syntax makes it possible to make <b>“BMS which differ each time we play”</b>.</p>
  <ul>
   <li><time itemprop="update" datetime="1998-08-09">1998-08-09</time>: BM98 implemented <code>#RANDOM</code>.
    (earlier than <code>#PLAYER&nbsp;3</code> (DP), <code>#TOTAL</code>, <code>#xxx07</code> (BGA LAYER), etc.)</li>
   <li>This feature was proposed in order to emulate <cite><a class="external" rel="external" title="beatmania - DJ BATTLE - YouTube" href="https://www.youtube.com/watch?v=RIb34DcPf84">DJ BATTLE</a></cite> of <cite>beatmania</cite>.</li>
   <li>The randomized BMS oldest in the range which I know is <cite><a class="external" rel="external nofollow" href="https://www.google.com/search?q=cranky+FANKS+Anthology+COLLECTION">FANKS "Anthology" COLLECTION</a></cite>.
    (<span itemprop="name">cranky</span>, <time itemprop="update" datetime="1998-11-06">1998-11-06</time>)</li>
   <li>Even now, randomized BMS is continuing being released. e.g. <cite><a class="external" rel="external" hreflang="ja" title="bms.tgly.org" href="http://bms.tgly.org/">DJ BATTLE 2011</a></cite>
    (<span itemprop="name">2106</span>, <time itemprop="update" datetime="2011-06-12">2011-06-12</time>)</li>
   <li>See also: [<a href="randombms.html">#RANDOM BMS list</a>]</li>
  </ul></li>
 <li><p>An important point is that <strong class="red">all the contents of the musical score are randomizable.</strong></p>
  <ul>
   <li>Play-option RANDOM cannot randomize the rhythm of a note.</li>
   <li>Command <code>#RANDOM</code> is more dynamic and more powerful.</li>
  </ul></li>
</ul>

<ul>
 <li><p>Basic example:</p>
  <table>
   <thead><tr><th scope="col">BMS code:</th><th scope="col">when 1 is generated:</th><th scope="col">when 2 is generated:</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#00111:11000000

#RANDOM 2

#IF 1
#00112:00220000
#ENDIF

#IF 2
#00113:00003300
#ENDIF

#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow1.png" alt="#00111:11000000, #00112:00220000, #00114:00000044" width="52" height="97"></p></div>
      <pre><code>#00111:11000000
#00112:00220000
#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow2.png" alt="#00111:11000000, #00113:00003300, #00114:00000044" width="52" height="97"></p></div>
      <pre><code>#00111:11000000
#00113:00003300
#00114:00000044</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>This example has two lines and one <code>#RANDOM</code> block at a top level.</li>
   <li><p><code>#00111:11000000</code> and <code>#00114:00000044</code> are written to the outside of <code>#RANDOM</code>. (top level)</p>
    <p>Therefore, whatever the value which <code>#RANDOM</code> generated, these two lines are always parsed.</p></li>
   <li><p>This <code>#RANDOM</code> sentence is written to the top level. Therefore, a random number is always generated.</p>
    <ul>
     <li>When 1 is generated, <code>#00112:00220000</code> is applied and <code>#00113:00003300</code> is ignored.</li>
     <li>When 2 is generated, <code>#00112:00220000</code> is ignored and <code>#00113:00003300</code> is applied.</li>
    </ul></li>
   <li>Implementation which is not supporting <code>#RANDOM</code> will display four musical notes.</li>
  </ul></li>
 <li><p><del datetime="2013-01-17T19:00:00+09:00">Bad example</del>
   <ins datetime="2013-01-17T19:00:00+09:00">Unrecommended example</ins>: <strong class="red">orphanized common part</strong></p>
  <table>
   <thead><tr><th scope="col">BMS code:</th><th scope="col">when 1 is generated:</th><th scope="col">when 2 is generated:</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#RANDOM 2
<span class="N">#00111:11000000</span>
<span class="N">#00114:00000044</span>

#IF 1
#00112:00220000
#ENDIF

#IF 2
#00113:00003300
#ENDIF</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow3.png" alt="#00112:00220000" width="52" height="97"></p></div>
      <pre><code>#00112:00220000</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow4.png" alt="#00113:00003300" width="52" height="97"></p></div>
      <pre><code>#00113:00003300</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>Noter expects that this example will bring the same result as the first example. But this is <del datetime="2013-01-17T19:00:00+09:00">syntax violation</del>
    <ins datetime="2013-01-17T19:00:00+09:00">not recommended</ins>.</li>
   <li>It is because the <code>#RANDOM</code> block contains the line which is not contained in <code>#IF</code> section.</li>
   <li>The note <code>11</code> and the note <code>44</code> are not written to the top level.
    Therefore, it is not guaranteed that these orphans are displayed.</li>
   <li>In BM98, ruvit, or uBMplay, the same result as the first example is brought. But in nazo, LR2, or BMSE, these orphans are ignored.</li>
   <li>We should describe it on the outside of a <code>#RANDOM</code> block, if it is a “common part”.</li>
  </ul></li>
</ul>

<ul>
 <li><p>Example of nested <code>#RANDOM</code>:</p>
  <table>
   <thead>
    <tr>
     <th scope="col"><code>#RANDOM&nbsp;2</code> is nested to two levels:</th>
     <th scope="col"><span class="W br">when 1 is generated</span> » <span class="Y">when 1 is generated</span>:</th>
     <th scope="col"><span class="W br">when 1 is generated</span> » <span class="N">when 2 is generated</span>:</th>
     <th scope="col"><span class="P">when 2 is generated</span>:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#00111:11000000

#RANDOM 2<span class="D">                 </span>
<span class="D">                          </span>
<span class="D">  <span class="W">#IF 1                  </span> </span>
<span class="D">  <span class="W">  #00112:00220000      </span> </span>
<span class="D">  <span class="W">                       </span> </span>
<span class="D">  <span class="W">  #RANDOM 2<span class="B">           </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">                    </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="Y">#IF 1            </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="Y">  #00115:00550000</span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="Y">#ENDIF           </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">                    </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="N">#IF 2            </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="N">  #00116:00006600</span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">  <span class="N">#ENDIF           </span> </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">                    </span> </span> </span>
<span class="D">  <span class="W">  <span class="B">#ENDRANDOM          </span> </span> </span>
<span class="D">  <span class="W">                       </span> </span>
<span class="D">  <span class="W">#ENDIF                 </span> </span>
<span class="D">                          </span>
<span class="D">  <span class="P">#IF 2                  </span> </span>
<span class="D">  <span class="P">  #00113:00003300      </span> </span>
<span class="D">  <span class="P">#ENDIF                 </span> </span>
<span class="D">                          </span>
<span class="D">#ENDRANDOM                </span>

#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow5.png" alt="#00111:11000000, #00112:00220000, #00115:00550000, #00114:00000044" width="52" height="97"></p></div>
      <p>(pattern A)</p>
      <pre><code>#00111:11000000
#00112:00220000
#00115:00550000
#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow6.png" alt="#00111:11000000, #00112:00220000, #00116:00006600, #00114:00000044" width="52" height="97"></p></div>
      <p>(pattern B)</p>
      <pre><code>#00111:11000000
#00112:00220000
#00116:00006600
#00114:00000044</code></pre>
     </td>
     <td>
      <div class="canvas"><p><img src="content/flow2.png" alt="#00111:11000000, #00113:00003300, #00114:00000044" width="52" height="97"></p></div>
      <p>(pattern C)</p>
      <pre><code>#00111:11000000
#00113:00003300
#00114:00000044</code></pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li><strong class="red">There is not much implementation which can interpret nested <code>#RANDOM</code> correctly. Be careful.</strong></li>
   <li><p>In order to make a code easy to read, I used an indent and <code>#ENDRANDOM</code> in the above-mentioned example.</p>
    <p>When actually using nested <code>#RANDOM</code>, we should unindent. We should also trim the spaces of the end-of-lines.</p>
    <p><strong class="red"><code>#ENDRANDOM</code> must not omit.</strong> It is because nanasi requires this when using nested <code>#RANDOM</code>.</p></li>
   <li><p>The lines in a top level are always interpreted: <code>#00111:11000000</code>, <code>#RANDOM&nbsp;2</code>, <code>#00114:00000044</code></p>
    <ul>
     <li><p>When top-level <code>#RANDOM</code> generates the value <code>1</code>, <code>#00112:00220000</code> is interpreted.</p>
      <p>Furthermore, the <code>#RANDOM</code> sentence of a second level is interpreted.</p>
      <ul>
       <li>When <code>#RANDOM</code> of a second level generates the value <code>1</code>, <code>#00115:00550000</code> is interpreted.</li>
       <li>When <code>#RANDOM</code> of a second level generates the value <code>2</code>, <code>#00116:00006600</code> is interpreted.</li>
      </ul></li>
     <li>When top-level <code>#RANDOM</code> generates the value <code>2</code>, <code>#00113:00003300</code> is interpreted.</li>
    </ul></li>
   <li><p>Although this example branches to 3 patterns, the probability that each pattern will be chosen is not 1 in 3.</p>
    <ul class="listABC">
     <li>The probability that <code>#00115:00550000</code> will be chosen is 1 in 4.</li>
     <li>The probability that <code>#00116:00006600</code> will be chosen is 1 in 4.</li>
     <li>The probability that <code>#00113:00003300</code> will be chosen is 1 in 2.</li>
    </ul></li>
   <li><p>For example, if <code>#RANDOM&nbsp;2</code> is nested to six levels,
     the pattern of a sixth level will be chosen by the probability of 1 in 64. (64 is 6th power of 2)</p>
    <p>In order to realize the same thing, we may write 64 <code>#IF</code> blocks.
     Most implementations can be interpreted although that is inefficient.</p></li>
  </ul></li>
</ul>


<ul>
 <li><p>The implementation which does not support <code>#RANDOM</code> will interpret all commandline as a top-level sentence,
  and will bring about fault as the result.</p>
  <table>
   <caption>For example: <cite>Declinin'</cite>
    (<span itemprop="name">sta</span>, <time itemprop="update" datetime="2008-01-13">2008-01-13</time>)
    (download: <a class="external DBCS" rel="external" hreflang="ja" lang="ja" xml:lang="ja" title="低級言語を労わる会" href="http://bit192.info/">低級言語を労わる会</a>)</caption>
   <tbody>
    <tr>
     <td>BMSE (partial support):</td>
     <td><a href="content/090102/090102_01.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_01.png</span></a></td>
    </tr>
    <tr>
     <td>BMSC (does not support):</td>
     <td><a href="content/090102/090102_02.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_02.png</span></a></td>
    </tr>
    <tr>
     <td>iBMSC 3.0 (partial support):</td>
     <td><p><a href="content/img/20120123_ibmsc30_random.png" type="image/png"><span itemprop="url">content/img/20120123_ibmsc30_random.png</span></a></p>
      <p>Isolation to the “Expansion Code” tab is performed correctly. This tab can store at least 700,000 or more characters surely.</p>
      <p class="red">But, the present isolation is imperfect and will also display flow control expression on “Edit Panel”.</p></td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>This BMS randomizes the rhythm of the musical note using 40 <code>#RANDOM</code> sentences in <code>#026-033</code>.</li>
   <li>Conceptual diagram: <a href="content/090102/090102_03.gif" type="image/gif"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_03.gif</span></a></li>
   <li><p>BMSE can parse the section of <code>#RANDOM</code> and can isolate it in an Expand tab.</p>
    <p>However, since this BMS has too many <code>#RANDOM</code> blocks, those will exceed the capacity of the Expand tab of BMSE.</p>
    <p>By this BMS, I discovered that the Expand tab was a maximum of 65535 characters.</p></li>
  </ul></li>
 <li>Control flow needs to be parsed ahead of all other commands.</li>
 <li><p>Control flow has the capability to change all commands also including a header.</p>
  <ul>
   <li>e.g. <cite><span class="DBCS" lang="ja" xml:lang="ja">オートメーション工場</span></cite>
    (automation factory) (<span itemprop="name">John "De Bello" Cage</span>, <time itemprop="update" datetime="2007-03-14">2007-03-14</time>)
    (<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</li>
   <li>This BMS generates music automatically at random.</li>
   <li>All <code>#TITLE</code>, <code>#RANK</code>, and <code>#BPM<var>[01-ZZ]</var></code> are controlled by this statement.</li>
   <li>And the section of the line numbers <code>347781-409539</code> is
    a child of the <code>#IF&nbsp;14</code> (<code>347780-409542</code>).</li>
   <li>6177 <code>#RANDOM</code> sentences are used for this musical score.
    1260 of them are children of <code>#IF&nbsp;14</code> of the 347780th line.</li>
   <li>This BMS is a good sample of <strong class="red">“unlimited sibling”</strong>.
    This is a typical example of kusofumen called a benchmark BMS.</li>
   <li>It was fortunate for many implementations that this BMS did not contain the element of
    <strong class="red">“unlimited descendant”</strong>.</li>
  </ul></li>
 <li>Almost all implementations cannot parse “unlimited control flow”.</li>
 <li>In almost all cases, the randomizable header is restricted or the number of statements is restricted.</li>
 <li><p>For example, in nestable implementation, a semi-permanent deep nesting is theoretically possible.</p>
  <ul>
   <li>However, whatever the depth of a nest, we are obliged to always describe the block termination command <code>#ENDRANDOM</code>.</li>
   <li>It is because nanasi will do forced-termination if a <code>#RANDOM</code> statement without <code>#ENDRANDOM</code> appears 47 times or more.</li>
   <li>(Although it seems that this is a bug of nanasi, possibly it may be my misapprehension. )</li>
  </ul></li>
 <li><p>IIDXv and HDX <ins datetime="2013-08-03T18:00:00+09:00">and BGAEncAdv and TechnicalGroove</ins> apply the default value <code>1</code>,
  when <code>#RANDOM&nbsp;<var>n</var></code> is not found.</p>
  <ul>
   <li>This is one of the methods for coping with the simple violation of syntax originating in a hand code.</li>
   <li>(e.g. <code>#random5</code> (without delimiter), <code>#rondam&nbsp;5</code> (typo))</li>
  </ul></li>
</ul>

<section id="RONDAM">
<h4><code><a href="#RONDAM">#RONDAM&nbsp;<var>n</var></a></code></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>uBMplay</td></tr>
  <tr><th scope="row">support:</th><td>uBMplay, outliner, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>In order to cope with typo.</li>
 <li><p>e.g. <cite>20,november "club edit" [random ver.]</cite>
  (<span itemprop="name">cranky</span>, <time itemprop="update" datetime="1999-04-10">1999-04-10</time>)</p>
  <ul>
   <li>It is written to the 366th line as <code>#rondam&nbsp;5</code>. When this line is ignored, the difficult problems about syntax occur.</li>
   <li><p>How should they be treated although this <code>#RONDAM</code> has five <code>#IF</code> blocks?</p>
    <ul>
     <li>Almost all implementations refer to the value generated by previous <code>#RANDOM</code>.</li>
     <li>However, since this behavior is not specified by specification, it is implementation-dependent.</li>
    </ul></li>
   <li><p>How is the range of <code>#RANDOM</code> decided?
    Doesn't such a thing exist but does only the section of <code>#IF</code>-<code>#ENDIF</code> merely exist?</p>
    <table>
     <thead>
      <tr><th scope="col">doubtful code</th><th scope="col">remarks</th></tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <pre class="lh100"><code>#00111:11

#RANDOM 2
  #IF 1
    #00212:22
  #ENDIF
  #IF 2
    #00313:33
  #ENDIF

<mark>#00414:44</mark>
<mark>#00515:55</mark>

<span class="N">#RONDAM 3</span>
  #IF 1
    #00616:66
  #ENDIF
  #IF 2
    #00717:77
  #ENDIF
  #IF 3
    #00818:88
  #ENDIF

#00919:99</code></pre>
       </td>
       <td>
        <pre class="lh100"><code class="ls0">Since this line is a top level, it is always interpreted.

┐
│
│
│
│
│
┆ It is doubtful whether #RANDOM is closed at this position.

┐ These lines are top levels if it is the usual case.
┘ But in #RONDAM, that may not be right. It may become an orphan block here.

] This line is commented out.
┐
│ This block is also applied if the result of previous #RANDOM is 1.
┘
┐
│ This block is also applied if the result of previous #RANDOM is 2.
┘
┐
│ This block is also applied if the result of previous #RANDOM is 3.
┘ Since it is not materialized, this block is not applied by any means.

] Is this line a top level ? Is this on the outside of #RANDOM ? Really ?</code></pre>
       </td>
      </tr>
     </tbody>
    </table></li>
   <li><p>If <code>#RANDOM&nbsp;2</code> of the beginning does not exist, what will happen in the above-mentioned example?</p>
    <ul>
     <li><p>nanasi does not recognize <code>#IF</code> block as <code>#IF</code> block.</p>
      <p>That is, the contents of <code>#IF</code> block are processed with the same priority as
       “the command lines written to the outside of a <code>#RANDOM</code>”.</p></li>
     <li>LR2 and uBMplay ignore all the contents of orphan <code>#IF</code>.
      (discard: <code>#00616:66</code>, <code>#00717:77</code>, <code>#00818:88</code>)</li>
     <li>PMSee-V warns as follows: <q><code>#IF</code> written before the first <code>#RANDOM</code> or <code>#SETRANDOM</code></q></li>
    </ul></li>
  </ul></li>
 <li>The problem of a control flow is being able to generate a syntax error very easily.</li>
 <li>Although the method of uBMplay may be ad hoc, it is an unavoidable thing because specification has defined no details.</li>
</ul>
</section>

<section id="END-IF">
<h4><code><a href="#END-IF">#END&nbsp;IF</a></code></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td><ins datetime="2013-04-01T18:00:00+09:00">uBMplay (1.5.0)</ins></td></tr>
  <tr><th scope="row">ad hoc support:</th><td>Angolmois (<code>#END</code>), outliner (<code>#END</code>), Sonorous (<code>#END</code>), BGAEncAdv, TechnicalGroove</td></tr>
  <tr><th scope="row">interpreted by chance:</th><td>nazo, rdm, ruvit, fgt++, fgt#, LR2, uBMplay, PMSee-V</td></tr>
  <tr><th scope="row">only when the first <code>#IF</code> agrees:</th><td>BM98k, BM98de, DDR, <del>MW</del> <ins>(hung up)</ins>, pomu2, IIDXv, HDX</td></tr>
  <tr><th scope="row">only when the last <code>#IF</code> agrees:</th><td>nanasi</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>In order to cope with typo.</li>
 <li><p>e.g. <cite>Velocity Magic 3 [Aren't you lucky?]</cite>
  (<span itemprop="name">Speed Magician</span> / <span itemprop="name">Transfero</span>,
  <time itemprop="update" datetime="2010-09-11">2010-09-11</time>)
  (<span itemprop="url" class="external u">http://uploader.bms.ms/data/PW/vm3_ts3.zip</span>) (download is impossible now)</p>
  <ul>
   <li>Please change the filename extension of <span class="red">lovetricks.<b>ogg</b></span> into bms, bme, or bml.</li>
   <li><code>#END&nbsp;IF</code> is typo by a misapprehension.
    Or although this may be an intentional trick, I am uninterested about it.</li>
   <li>The usual implementations ignore this line. That is, this is problem about <code>#IF</code> without <code>#ENDIF</code>.</li>
   <li><p>Implementation which does not support nested <code>#RANDOM</code> can cope with this example easily.</p>
    <ul>
     <li>In <code>#IF</code> block, if another <code>#IF</code> is found before <code>#ENDIF</code> is found,
      it will be not a nested line but an adjacent sibling <code>#IF</code> block.</li>
    </ul></li>
   <li><p>This problem is troublesome for nestable implementations.
    It is because a possibility of nest cannot be disregarded, either.</p>
    <ul>
     <li>I remember HTML without end tag. HTML parser must finish work more difficult than XML parser.</li>
     <li>Should BMS parser gain ability like HTML parser? I think that XMLized BMS is better than doing so.</li>
    </ul></li>
  </ul></li>
</ul>
</section>

<section id="EXAMPLES-OF-MISTAKES">
<h4><a href="#EXAMPLES-OF-MISTAKES">Examples of Mistakes</a></h4>
<ul>
 <li><code>#RONDAM&nbsp;<var>n</var></code></li>
 <li><code>#END&nbsp;IF</code></li>
 <li><code>#IF&nbsp;<var>n</var></code> without <code>#ENDIF</code></li>
 <li><code><u class="DBCS">＃</u>ENDIF</code></li>
 <li><code>#RANDOM<var>n</var></code></li>
 <li><code>#IF<var>n</var></code></li>
 <li><code>#IFEND</code></li>
</ul>
<p>See also: [<a href="randombms.html">#RANDOM BMS list</a>]</p>
<p><strong>All the patterns mentioned above are supported: uBMplay 1.5.2+, Sonorous (if UTF-8), BGAEncAdv, TechnicalGroove</strong></p>
</section>

<!-- /hgroup, RANDOM_IF_ENDIF -->
</section>



<section id="SETRANDOM">
<h3><code><a href="#SETRANDOM">#SETRANDOM&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>pomu2</td></tr>
  <tr><th scope="row">support:</th>
   <td>pomu2, WAview, in_bm2, nanasi, Aqua, PMSee-V, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
  <tr><th scope="row">similar:</th><td>bms2avi (“SEED” menu), bmx2wav (RandomConstantValue in bmx2wav.ini)</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><p>The constant value <code><var>n</var></code> will be generated
  if <code>#SETRANDOM&nbsp;<var>n</var></code> is described instead of <code>#RANDOM&nbsp;<var>n</var></code>.</p>
  <table>
   <thead><tr><th scope="col">For example</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>// #RANDOM 3
#SETRANDOM <mark>2</mark>
  #IF 1
    #WAV01 a.wav
  #ENDIF
  <mark>#IF 2</mark>
  <mark>  #WAV01 b.wav</mark>
  <mark>#ENDIF</mark>
  #IF 3
    #WAV01 c.wav
  #ENDIF
#ENDRANDOM</code></pre>
     </td>
     <td>
      <ul>
       <li>This sample comments out an original <code>#RANDOM</code> sentence.</li>
       <li><p>Since there is little implementation which supports an indent, use of an indent is still premature now.</p>
        <p>In order to make a sample code easy to read, this document uses an indent.</p></li>
       <li>Since this <code>#SETRANDOM</code> always generates <code>2</code>, the statement block with a label “2” is always chosen.</li>
       <li>As a result, <code>#WAV01&nbsp;b.wav</code> is always applied.</li>
       <li>As long as <code>#SETRANDOM&nbsp;2</code> is specified, <code>#IF&nbsp;1</code> and <code>#IF&nbsp;3</code> are never chosen.</li>
       <li>The statement block which was not chosen is only ignored.</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li>Probably, it seems that <code>#SETRANDOM</code> is the prepared command in order to test nested control syntax.</li>
</ul>
</section>



<section id="ELSEIF">
<h3><code><a href="#ELSEIF">#ELSEIF&nbsp;<var>n</var></a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>IIDXv</td></tr>
  <tr><th scope="row">support:</th><td>IIDXv, HDX, outliner, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li><code>#ELSEIF&nbsp;<var>n</var></code> sentences can be written one or more to somewhere between <code>#IF</code> sentence and a <code>#ENDIF</code> sentence.</li>
 <li><code>#ELSEIF&nbsp;<var>n</var></code> sentences can be written in front of <code>#ELSE</code>, supposing <code>#ELSE</code> exists.</li>
 <li>Supposing there is no necessity, we need not write <code>#ELSEIF</code>.</li>
 <li><p>The contents of “the first block among the blocks whose generated value and labels correspond” are applied. For example:</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#RANDOM 5

  #IF 1
            #00111:UU
  #ELSEIF 2
            #00112:VV
  #ELSEIF 3
            #00113:WW
  #ELSE
            #00115:ZZ
  #ENDIF

  #IF 2
            #00121:AA
  <span class="red">#ELSEIF 2</span>
            <span class="red">#00123:BB</span>
  #ELSEIF 5
            #00125:CC
  #ELSE
            #00126:DD
  #ENDIF

#ENDRANDOM</code></pre></td>
     <td><ul>
       <li>When the value <code>1</code> is generated, the following command lines are applied: <code>#00111:UU</code> + <code>#00126:DD</code></li>
       <li>When the value <code>2</code> is generated, the following command lines are applied: <code>#00112:VV</code> + <code>#00121:AA</code></li>
       <li>When the value <code>3</code> is generated, the following command lines are applied: <code>#00113:WW</code> + <code>#00126:DD</code></li>
       <li>When the value <code>4</code> is generated, the following command lines are applied: <code>#00115:ZZ</code> + <code>#00126:DD</code></li>
       <li>When the value <code>5</code> is generated, the following command lines are applied: <code>#00115:ZZ</code> + <code>#00125:CC</code></li>
      </ul>
      <p>In IIDXv and HDX, each block of <code>#IF</code>-<code>#ELSEIF</code>-<code>#ELSE</code> becomes a group of an exclusive choice.</p>
      <p>When the choice which agrees with a generated value is found, subsequent choices are skipped from there.</p>
      <ul>
       <li>Therefore, <strong class="red">whatever the generated value, <code>#00123:BB</code> in this example is not applied.</strong></li>
       <li>outliner cannot yet be simulating this exclusive action.</li>
      </ul></td>
    </tr>
   </tbody>
  </table></li>
</ul>
</section>



<section id="ELSE">
<h3><code><a href="#ELSE">#ELSE</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>An <code>#ELSE</code> sentence can be written only once to somewhere between <code>#IF</code> sentence and a <code>#ENDIF</code> sentence.</li>
 <li>An <code>#ELSE</code> sentence can be written in the rear of <code>#ELSEIF</code>, supposing <code>#ELSEIF</code> exists.</li>
 <li>Supposing there is no necessity, we need not write <code>#ELSE</code>.</li>
 <li>When <code>#ELSE</code> exists, the statement block of <code>#IF</code>-<code>#ENDIF</code>
  is divided into two sections, <code>#IF</code>-<code>#ELSE</code> and <code>#ELSE</code>-<code>#ENDIF</code>.</li>
 <li><p>When <code>#ELSE</code> exists during a statement block, the following processings are performed.</p>
  <ul>
   <li>If the label of block agrees with “the generated value”, the contents of <code>#IF</code>-<code>#ELSE</code> will be applied.</li>
   <li>If the label of block does not agree with “the generated value”, the contents of <code>#ELSE</code>-<code>#ENDIF</code> will be applied.</li>
  </ul></li>
 <li><p>When <code>#ELSE</code> does not exist during a statement block, the usual processing is performed.</p>
  <ul>
   <li>If the label of block agrees with “the generated value”, the contents of <code>#IF</code>-<code>#ENDIF</code> will be applied.</li>
   <li>If the label of block does not agree with “the generated value”, the contents of <code>#IF</code>-<code>#ENDIF</code> will be ignored.</li>
  </ul></li>
 <li><p>For example:</p>
  <table>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#RANDOM 4
  #IF 1
        #00111:UU
  #ELSE
        #00112:VV
  #ENDIF
  #IF 2
        #00113:WW
  #ELSE
        #00114:XX
  #ENDIF
  #IF 3
        #00115:YY
  #ELSE
        #00116:ZZ
  #ENDIF
#ENDRANDOM</code></pre>
     </td>
     <td><pre class="lh100"><code>// 1

<span class="Y"> UU </span>

<span class="D">    </span>


<span class="D">    </span>

<span class="N"> XX </span>


<span class="D">    </span>

<span class="N"> ZZ </span>


</code></pre></td>
     <td><pre class="lh100"><code>// 2

<span class="D">    </span>

<span class="N"> VV </span>


<span class="Y"> WW </span>

<span class="D">    </span>


<span class="D">    </span>

<span class="N"> ZZ </span>


</code></pre></td>
     <td><pre class="lh100"><code>// 3

<span class="D">    </span>

<span class="N"> VV </span>


<span class="D">    </span>

<span class="N"> XX </span>


<span class="Y"> YY </span>

<span class="D">    </span>


</code></pre></td>
     <td><pre class="lh100"><code>// 4

<span class="D">    </span>

<span class="N"> VV </span>


<span class="D">    </span>

<span class="N"> XX </span>


<span class="D">    </span>

<span class="N"> ZZ </span>


</code></pre></td>
     <td>
      <pre class="lh100">
┐
│
│ IF-1 block
│
┘
┐
│
│ IF-2 block
│
┘
┐
│
│ IF-3 block
│
┘
</pre>
     </td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li>When the value <code>1</code> is generated, the following command lines are applied:
    <code>#00111:UU</code> + <code>#00114:XX</code> + <code>#00116:ZZ</code></li>
   <li>When the value <code>2</code> is generated, the following command lines are applied:
    <code>#00112:VV</code> + <code>#00113:WW</code> + <code>#00116:ZZ</code></li>
   <li>When the value <code>3</code> is generated, the following command lines are applied:
    <code>#00112:VV</code> + <code>#00114:XX</code> + <code>#00115:YY</code></li>
   <li>When the value <code>4</code> is generated, the following command lines are applied:
    <code>#00112:VV</code> + <code>#00114:XX</code> + <code>#00116:ZZ</code></li>
  </ul></li>
 <li><p>Another example (the musical score in which a special pattern is applied by the probability of 1/64):</p>
  <table>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#RANDOM 64
  #IF 1
       // special pattern
  #ELSE
       // default pattern
  #ENDIF
#ENDRANDOM</code></pre></td>
     <td class="vam">
      <ul>
       <li>When the value <code>1</code> is generated, a special pattern is applied.</li>
       <li>When values other than <code>1</code> are generated, a default pattern is applied.</li>
       <li>When not using <code>#ELSE</code>, it is necessary to describe 1 special pattern and 63 default patterns.</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p><q>When <code>#RANDOM&nbsp;n</code> is specified, we have to describe all the patterns from <code>1</code> to <code>n</code></q>
  is written to nanasigroove specification.</p>
  <ul>
   <li>Therefore, the two above-mentioned examples do not meet nanasi specification.</li>
   <li>However, nanasi can parse the two above-mentioned examples correctly.</li>
   <li>IIDXv and outliner can parse the two above-mentioned examples correctly.</li>
   <li>But we should use not <code>#ELSE</code> but <code>#SWITCH</code> to perform such a flow control.</li>
  </ul></li>
</ul>
</section>



<section id="ENDRANDOM">
<h3><code><a href="#ENDRANDOM">#ENDRANDOM</a></code></h3>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th><td>nanasi, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Angolmois, Sonorous</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>The command for expressing the termination of <code>#RANDOM</code> block clearly.</li>
 <li>A certain <code>#RANDOM</code> block is started by one <code>#RANDOM</code> sentence, and it is closed by one <code>#ENDRANDOM</code> sentence.</li>
 <li><p>Implementation which does not support <code>#ENDRANDOM</code> disregards <code>#ENDRANDOM</code> simply.</p>
  <ul>
   <li>Probably, programmers' work was slightly easier than the present,
    supposing <code>#ENDRANDOM</code> was contained in the specification of BMS from the beginning.</li>
   <li>However, since that was not so, the parsing of nested <code>#RANDOM</code> is troublesome work.</li>
  </ul></li>
 <li><p><q><code>#ENDRANDOM</code> is indispensable when it nests control flow</q> is written to nanasigroove specification.</p>
  <ul>
   <li>However, in fact, <strong class="red">even if <code>#RANDOM</code> is not nested, we should always write <code>#ENDRANDOM</code>.</strong></li>
   <li>It is because nanasi will do forced-termination if a <code>#RANDOM</code> statement without <code>#ENDRANDOM</code> appears 47 times or more.</li>
  </ul></li>
 <li><p>In all the implementations which support <del>nested</del> <code>#RANDOM</code> other than nanasi, <code>#ENDRANDOM</code> is omissible.</p>
  <ul>
   <li>Therefore, for the moment, <code>#ENDRANDOM</code> is needed only for the purpose of making <code>#RANDOM</code> interpret exactly to nanasi.</li>
   <li>However, I recommend always writing <code>#ENDRANDOM</code>. It is because it becomes easier for us to read BMS codes.</li>
  </ul></li>
 <li><p>IIDXv and HDX will reset the value of <code>#RANDOM</code> in current scope to <code>1</code>, if <code>#ENDRANDOM</code> is found.</p>
  <ul>
   <li>Unless post-processing by <code>#ENDRANDOM</code> will be performed, the value of former <code>#RANDOM</code> is inherited.</li>
  </ul></li>
</ul>
</section>



<section id="SWITCH-FAMILY" itemscope="itemscope">
<div class="hgroup">
<h3 id="SWITCH"><code><a href="#SWITCH">#SWITCH&nbsp;<var>n</var></a></code></h3>
<h3 id="SETSWITCH"><code><a href="#SETSWITCH">#SETSWITCH&nbsp;<var>n</var></a></code></h3>
<h3 id="CASE"><code><a href="#CASE">#CASE&nbsp;<var>n</var></a></code></h3>
<h3 id="SKIP"><code><a href="#SKIP">#SKIP</a></code></h3>
<h3 id="DEF"><code><a href="#DEF">#DEF</a></code></h3>
<h3 id="ENDSW"><code><a href="#ENDSW">#ENDSW</a></code></h3>
</div>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>nanasi</td></tr>
  <tr><th scope="row">support:</th>
   <td>nanasi, IIDXv, HDX, outliner, iBMSC (3.0+ / partial), Sonorous (parsing-only), BGAEncAdv, TechnicalGroove</td></tr>
 </tbody>
</table>

<ul class="noMarginTop">
 <li>These are almost the same as the SWITCH statement of a programming language.</li>
 <li><code>#SWITCH</code> generates one of the natural numbers from 1 to <code><var>n</var></code>.
  Needless to say, <code><var>n</var></code> should specify a natural number.</li>
 <li>The constant value <code><var>n</var></code> will be generated
  if <code>#SETSWITCH&nbsp;<var>n</var></code> is described instead of <code>#SWITCH&nbsp;<var>n</var></code>.
  This is useful in the case of a test play.</li>
 <li><p>It is evaluated whether the label <code><var>n</var></code> of <code>#CASE</code> agrees
   with the value which <code>#SWITCH</code> generated.</p>
  <p>Needless to say, BMS parser evaluates in sequence each line which exists after <code>SWITCH</code> in order of a line number.</p>
  <p>The contents of the section from <code>#CASE&nbsp;<var>desired&nbsp;value</var></code> to <code>#ENDSW</code> are applied.</p></li>
 <li>When <code>#SKIP</code> exists between <code>#CASE&nbsp;<var>desired&nbsp;value</var></code> and the next <code>#CASE</code>,
  parsing is skipped from <code>#SKIP</code> to <code>#ENDSW</code>.</li>
 <li>When <code>#SKIP</code> does not exist between current <code>#CASE</code> and next <code>CASE</code>,
  even if the label of next <code>#CASE</code> does not agree with desired value, the contents of next <code>#CASE</code> are applied.
  That is, <strong>nanasigroove specification has allowed <i class="red">fallthrough</i>.</strong></li>
 <li><code>#ENDSW</code> terminates a <code>#SWITCH</code> block.
  Unlike the case of <code>#ENDRANDOM</code>, noter is not allowed to omit <code>#ENDSW</code>.</li>
 <li><p><code>#DEF</code> can also be used instead of <code>#CASE</code>.
   <del>When <code>#CASE</code> does not yet agree with desired value, the contents of <code>#DEF</code> are applied.</del></p>
  <p><ins>It is written to nanasigroove specification as follows:
   <q><span class="DBCS" lang="ja" xml:lang="ja">それまでの</span> #CASE <span class="DBCS" lang="ja" xml:lang="ja">が不一致であった場合実行される。</span></q></ins></p>
  <p><ins>However, <code>#DEF</code> will also be applied by <i class="red">fallthrough</i>,
   if <code>#SKIP</code> is omitted even when <code>#CASE</code> has already agreed with desired value.</ins></p>
  <ul>
   <li><code>#DEF</code> is the command prepared as a <b class="red">def</b>ault choice
    which should be applied when all <code>#CASE</code> is unmatch. (at least in nanasi. )</li>
   <li>Therefore, noter must not write two or more <code>#DEF</code> to one <code>#SWITCH</code>.</li>
   <li><p>Moreover, if <code>#DEF</code> is required, noter should write <code>#DEF</code> after all other <code>#CASE</code>.</p>
    <ul>
     <li>Although this rule is not written to nanasigroove specification, we have to follow this rule.</li>
     <li><p>It is because <code>#CASE</code> / <code>#SKIP</code> / <code>#DEF</code> from <code>#DEF</code>
       to <code>#ENDSW</code> loses a function, when nanasi finds <code>#DEF</code>.</p>
      <p>That is, nanasi will apply <code>#DEF</code>-<code>#ENDSW</code> as one section.</p></li>
     <li><p>IIDXv, and HDX and outliner interpret correctly <code>#DEF</code> written before <code>#CASE</code>.</p>
      <p><i class="red">Fallthrough</i> is also effective.</p>
      <p>If <code>#SKIP</code> does not exist between <code>#DEF</code> and next <code>#CASE</code>, parsing flows into next <code>#CASE</code>.</p></li>
    </ul></li>
   <li>I think that styles, such as “DEF before CASE” and <i class="red">fallthrough</i>, are ill-mannered.
    However, since I am ignorant about programming, I cannot decide an attitude.</li>
  </ul></li>
</ul>


<ul>
 <li><p>For example:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh120"><code>#SWITCH 5
  #CASE 1
    #00111:XX
  #CASE 2
    #00112:YY
    #SKIP
  #CASE 3
    #00113:ZZ
  #DEF
    #00114:AA
    #00115:BB
#ENDSW</code></pre>
     </td>
     <td>
      <ol>
       <li>When the value <code>1</code> is generated, the following lines are applied: <code>#00111:XX</code>
        + <code><i class="red">#00112:YY</i></code></li>
       <li>When the value <code>2</code> is generated, the following line is applied: <code>#00112:YY</code></li>
       <li>When the value <code>3</code> is generated, the following lines are applied: <code>#00113:ZZ</code>
        + <code><i class="red">#00114:AA</i></code> + <code><i class="red">#00115:BB</i></code></li>
       <li>When the value <code>4</code> is generated, the following lines are applied: <code>#00114:AA</code> + <code>#00115:BB</code></li>
       <li>When the value <code>5</code> is generated, the following lines are applied: <code>#00114:AA</code> + <code>#00115:BB</code></li>
      </ol>
      <ul>
       <li>Italic expresses that it is the line applied by the omission of <code>#SKIP</code>.
        (That is, <i class="red">fallthrough.</i> )</li>
       <li>When actually using <code>#SWITCH</code>, <b class="red">we should unindent.</b>
        (nanasi will ignore all <code>#SWITCH</code> block, if we do not do so. )</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
</ul>

<ul>
 <li><p><code>#SWITCH</code> may be able to express the same contents as <code>#RANDOM</code> more skillfully. For example:</p>
  <table>
   <caption>a special pattern is applied by the probability of 1/64:</caption>
   <thead>
    <tr>
     <th scope="col">In the case of <code>#RANDOM</code>:</th>
     <th scope="col">When <code>#ELSE</code> is used:</th>
     <th scope="col">In the case of <code>#SWITCH</code>:</th>
     <th scope="col">1/65535:</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td><pre class="lh120"><code>#RANDOM 64
  #IF 1
    // <span class="red">special pattern</span>
  #ENDIF
  #IF 2
    // default pattern
  #ENDIF
    ...
  #IF 64
    // default pattern
  #ENDIF
#ENDRANDOM</code></pre></td>
     <td><pre class="lh120"><code>#RANDOM 64
  #IF 1
    // <span class="red">special</span>
  #ELSE
    // default
  #ENDIF
#ENDRANDOM</code></pre>
      <p>Note: violation of nanasi specification</p></td>
     <td><pre class="lh120"><code>#SWITCH 64
  #CASE 1
    // <span class="red">special</span>
    #SKIP
  #DEF
    // default
    #SKIP
#ENDSW</code></pre></td>
     <td><pre class="lh120"><code>#SWITCH 65535
  #CASE 1
    // <span class="red">special</span>
    #SKIP
  #DEF
    // default
    #SKIP
#ENDSW</code></pre></td>
    </tr>
   </tbody>
  </table>
  <ul>
   <li><p>In <code>#RANDOM</code>, noter must describe all the choices. In this example, noter must write 63 default patterns.</p>
    <ul>
     <li>All implementations that support <code>#RANDOM</code> can interpret this way. The portability of this way is the highest.</li>
     <li>However, this way is the most troublesome, and the file size of a musical score becomes the maximum.</li>
    </ul></li>
   <li><code>#ELSE</code> is the smartest way. However, although there is no actual harm, since it is violation specification, it is not suitable.</li>
   <li><code>#SWITCH</code> is the 2nd best way. It can describe very briefly and can also adjust probability easily.</li>
  </ul></li>
 <li>Contents expressible by <code>#SWITCH</code> are expressible also by <code>#RANDOM</code>. But I do not desire to write 65534 <code>#IF</code>.</li>
 <li>I think that <code>#RANDOM</code> is good to use when the same pattern does not exist.<!--
 (li)(p)In implementation which supports (code)#ELSE(/code), BMS parser needs to check all the (code)#IF(/code).(/p)
  (p)Therefore, (code)#RANDOM(/code) is suitable for the use which enumerates two or more unique contents.(/p)(/li) --></li>
</ul>


<ul>
 <li><p>That the following rules are not written to specification makes me uneasy:</p>
  <ul>
   <li>Noter must describe each label in ascending order.</li>
   <li>Noter must describe each label only once.</li>
  </ul>
  <p>It is the same also about <code>#RANDOM</code>. Some implementations can interpret ill-mannered control statements. But all are not so.</p></li>
 <li><p>The command lines which BMSE does not support are isolated in the Expand tab of BMSE.</p>
  <ul>
   <li>BMSE can parse the section of <code>#IF</code>-<code>#ENDIF</code> and can isolate it in an Expand tab. This is a very wonderful feature.</li>
   <li>However, the sectioning contents which <code>#SWITCH</code> has will be interpreted as a code of a mere top level,
    since BMSE is not supporting <code>#SWITCH</code>.</li>
   <li>That is, the same result as the case where BMSC opens randomized BMS is brought.
    (<a href="content/090102/090102_02.png" type="image/png"><span itemprop="url">https://hitkey.nekokan.dyndns.info/090102/090102_02.png</span></a>)</li>
  </ul></li>
 <li><p>BMS editor which can edit control flow itself does not yet exist.</p>
  <p>If it may exist, I surmise that it will become a form like an outline processor.</p></li>
 <li><p>According to nanasigroove specification:</p>
  <ul>
   <li><strong><code>#SWITCH</code> blocks can be written into <code>#RANDOM</code> blocks.</strong></li>
   <li><strong><code>#RANDOM</code> blocks can be written into <code>#SWITCH</code> blocks.</strong></li>
   <li><strong><code>#RANDOM</code> and <code>#SWITCH</code> are <strong class="red">unlimitedly nestable.</strong></strong></li>
  </ul></li>
 <li><p>However, control flows implemented of nanasi are mysterious.</p>
  <ul>
   <li>If <code>#RANDOM</code> is nested to 90 levels or more, nanasi will do forced termination. (when <code>#SWITCH</code> is not mixed )</li>
   <li>If <code>#SETSWITCH</code> is nested to 47 levels or more, nanasi will do forced termination. (when <code>#RANDOM</code> is not mixed )</li>
   <li>nanasi can realize about 100 or more levels by nesting <code>#RANDOM</code> and <code>#SWITCH</code> <strong class="red">by turns.</strong></li>
  </ul></li>
 <li>The number of maximal levels of the nest in outliner is <a href="nest1000.html">dependent on each web browser</a>.</li>
 <li><del datetime="2013-08-03T18:00:00+09:00">The performance of IIDXv and HDX about a control flow is the best.</del></li>
</ul>

<section id="INDENT-STYLE">
<h4><a href="#INDENT-STYLE">Indent&nbsp;style</a></h4>
<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>IIDXv</td></tr>
  <tr><th scope="row">support:</th><td><table>
    <thead>
     <tr>
      <th scope="col">Apps</th>
      <th scope="col">Tabulation (U+0009)</th>
      <th scope="col">Space (U+0020)</th>
      <th scope="col">Ideographic Space (U+3000)</th>
     </tr>
    </thead>
    <tbody>
     <tr><td>fgt, fgt++, fgt#</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>IIDXv, HDX</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>iBMSC</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>outliner</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>PMSee-V <ins>(v1.10.5+)</ins></td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>BGAEncoder (HEADERs only)</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>BGAEncAdv, TechnicalGroove</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>Sonorous (UTF-8)</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>uBMplay</td><td class="N">No</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>bemaniaDX</td><td class="N">No</td><td class="Y">Yes</td><td class="Y">Yes</td></tr>
     <tr><td>LR2</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td></tr>
     <tr><td>BMS List Sorter, BME2WAV, BMX2WAV</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td></tr>
     <tr><td>Angolmois, Sonorous (non-UTF8)</td><td class="Y">Yes</td><td class="Y">Yes</td><td class="N">No</td></tr>
    </tbody>
   </table></td>
  </tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>The indenting by tab characters or half-width spaces. (In IIDXv support page, this is called “paragraphization”.)</li>
 <li>I think that this is very useful for noter. I cannot write a control flow without an indent any longer.</li>
 <li><p>All characters other than “<code>#</code>” are set to indentation
   in fgt, fgt++, fgt#, BGAEncoder (HEADER lines only), BGAEncAdv, and TechnicalGroove.</p>
  <ul>
   <li>forgetalia series <strong class="red">cannot comment command lines out</strong>.</li>
   <li>BGAEncoder <strong>cannot comment header lines out</strong>.</li>
   <li>BGAEncAdv and TechnicalGroove <strong>cannot comment command lines out</strong> except “<code>//</code>”.</li>
   <li>Several BMS lose compatibility by this specification.
    (E.g. <cite>FANKS "RANDOM" COLLECTION</cite> comments <code>#random</code> out by “<code>/</code>”)</li>
  </ul></li>
</ul>
</section>

<section id="COMMENT-SYNTAX">
<h4><a href="#COMMENT-SYNTAX">Comment&nbsp;syntax</a></h4>

<table>
 <tbody>
  <tr><th scope="row">origin:</th><td>IIDXv</td></tr>
  <tr><th scope="row">support:</th><td>IIDXv, HDX, outliner (except escape sequences),
    BGAEncAdv (“<code>//</code>” only),
    TechnicalGroove (“<code>//</code>” only)</td></tr>
 </tbody>
</table>
<ul class="noMarginTop">
 <li>These are the explicit comment syntax for debugging musical scores.</li>
 <li>Comment syntax is interpreted more preferentially than control syntax.</li>
 <li><p><code>;</code> : The start symbol of a single-line comment. The section from a semicolon to a newline character is commented out.</p>
  <ul>
   <li>This is the same as that of the single-line comment syntax of a DTX format.</li>
  </ul></li>
 <li><p><code>//</code> : The start symbol of a single-line comment. The section from two slashes to a newline character is commented out.</p>
  <ul>
   <li>This is the same as that of the single-line comment syntax of C-like programming languages.</li>
  </ul></li>
 <li><p><code>/*</code> - <code>*/</code> : The start symbol and end symbol of multiline comment.
   The section from <code>/*</code> to <code>*/</code> is commented out.</p>
  <ul>
   <li>Although this resembles multiline comment syntax of C-like programming languages,</li>
   <li><strong class="red">All the newline characters in comment blocks are parsed.</strong></li>
   <li>A block comment can not be nesting.</li>
  </ul></li>
 <li><p>For example:</p>
  <table>
   <thead><tr><th scope="col">before parsing</th><th scope="col">after parsing</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh120"><code>#TITLE foo-<i class="N"><b>/*</b>bar-<b>*/</b></i>baz<i class="Y"><b>;</b> :)</i>
#RANDOM 23
  #IF 1
    #00111:XX
  #ELSEIF 2<i class="N b">/*</i>
<i class="N">    #00112:YY</i>
<i class="N">  #ELSEIF ; <b>*/</b></i>3
    #00113:ZZ
  #ELSE<i class="Y"><b>//</b>IF 4</i>
    #00114:AA
  #ENDIF
<i class="Y"><b>//</b>*</i>
#ARTIST foon
<i class="N"><b>/*</b>/</i>
<i class="N">#ARTIST asso</i>
<i class="N">//<b>*/</b></i>
#BPM 130</code></pre></td>
     <td><pre class="lh120"><code>#TITLE foo-baz
#RANDOM 23
  #IF 1
    #00111:XX
  #ELSEIF 2

3
    #00113:ZZ
  #ELSE
    #00114:AA
  #ENDIF

#ARTIST foon



#BPM 130</code></pre></td>
     <td><ul>
       <li><p>Unlike programming languages, a result of <code>#ELSEIF 23</code> is not brought.</p>
        <ul>
         <li>Because it is based on the specification of the BMS “one command per line”.</li>
         <li>As a commented-out result, only the character <code>3</code> remains in this line.</li>
         <li>On the specification of BMS, since this line is interpreted as an implicit comment, it is only ignored.</li>
        </ul></li>
       <li><p>If one slash of the head of “<code><i class="Y"><b>//</b>*</i></code>” is deleted,</p>
        <ul>
         <li><p>This part will be commented out as follows:</p>
          <table>
           <tbody>
            <tr>
             <td><pre class="lh120"><code><i class="N"><b>/*</b></i>
<i class="N">#ARTIST foon</i>
<i class="N">/<b>*/</b></i>
#ARTIST asso
<i class="Y"><b>//</b>*/</i></code></pre></td>
             <td><pre class="lh120"><code><i class="N"><b>/*</b> (another solution)</i>
<i class="N">#ARTIST foon</i>
<i class="N">/<b>*/</b></i>
#ARTIST asso
<i class="N"><b>/**/</b></i></code></pre></td>
            </tr>
           </tbody>
          </table></li>
         <li>Thus, the scope of each comment block can be changed easily.</li>
        </ul></li>
      </ul></td>
    </tr>
   </tbody>
  </table></li>
 <li><p>In IIDXv and HDX, <strong class="red">a means to cancel comment syntax does not exist</strong>.</p>
  <ul>
   <li>When using comment symbols as character string values, the method of changing them into full-width characters is proposed by the document of IIDXv.</li>
   <li>For example, “<code>#ARTIST audio: foo <i class="Y"><b>//</b> video: bar</i></code>” is changed into
    “<code>#ARTIST audio: foo <mark class="DBCS">／／</mark> video: bar</code>”.</li>
   <li>When music scores cannot be corrected, IIDXv and HDX only interpret it as “<code>#ARTIST audio: foo </code>”.</li>
  </ul></li>
 <li><p>IIDXv 2.13+ and HDX 0.98+ provide <strong>the escape sequence of strings</strong>.
  <strong class="red">(This will not disable the comment syntax)</strong></p>
  <ul>
   <li>Any command that accepts a string value can be enclosed in values with <strong>U+0022 QUOTATION MARK</strong>s.</li>
   <li>The comment mark in the character string surrounded by quotation marks is parsed as a mere character string.</li>
   <li>Moreover, one character which follows <strong>U+005C REVERSE SOLIDUS</strong> is parsed as a mere character.</li>
  </ul>
  <dl>
   <dt>e.g. 1: <code>#ARTIST&nbsp;C:<b class="N">\</b>usr&nbsp;the&nbsp;<b class="N">"</b>DPer<b class="N">"</b>&nbsp;(http:<b class="N">//</b>hitkey.nekokan.dyndns.info/)</code></dt>
   <dd>
    <p>Display of IIDXv and HDX: <samp>C:usr&nbsp;the&nbsp;DPer&nbsp;(http:</samp></p>
    <p>Display of another apps: <samp>C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p></dd>
   <dt>e.g. 2: <code>#ARTIST&nbsp;C:<b class="Y">\\</b>usr&nbsp;the&nbsp;<b class="Y">\"</b>DPer<b class="Y">\"</b>&nbsp;(http:<b class="Y">\//</b>hitkey.nekokan.dyndns.info/)</code></dt>
   <dd>
    <p>Display of IIDXv and HDX: <samp>C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p>
    <p>Display of another apps: <samp>C:\\usr&nbsp;the&nbsp;\"DPer\"&nbsp;(http:\//hitkey.nekokan.dyndns.info/)</samp></p></dd>
   <dt>e.g. 3: <code>#ARTIST&nbsp;<mark>"</mark>C:<b class="N">\</b>usr&nbsp;the&nbsp;<b class="N">"</b>DPer<b class="N">"</b>&nbsp;(http:<b class="Y">//</b>hitkey.nekokan.dyndns.info/)<mark>"</mark></code></dt>
   <dd>
    <p>Display of IIDXv and HDX: <samp>C:usr&nbsp;the&nbsp;DPer&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p>
    <p>Display of another apps: <samp>"C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)"</samp></p></dd>
   <dt>e.g. 4: <code>#ARTIST&nbsp;<mark>"</mark>C:<b class="Y">\\</b>usr&nbsp;the&nbsp;<b class="Y">\"</b>DPer<b class="Y">\"</b>&nbsp;(http:<b class="Y">//</b>hitkey.nekokan.dyndns.info/)<mark>"</mark></code></dt>
   <dd>
    <p>Display of IIDXv and HDX: <samp>C:\usr&nbsp;the&nbsp;"DPer"&nbsp;(https://hitkey.nekokan.dyndns.info/)</samp></p>
    <p>Display of another apps: <samp>"C:\\usr&nbsp;the&nbsp;\"DPer\"&nbsp;(https://hitkey.nekokan.dyndns.info/)"</samp></p></dd></dl></li>
 <li><ins datetime="2013-05-07T13:00:00+09:00">In HDX 0.99 and above, without being escaped,
  “<code>\</code>” (U+005C) which is not surrounded by U+0022 was changed so that it might be outputted as it is.</ins></li>
</ul>
</section>


<section id="TEST-CASES">
<h4><a href="#TEST-CASES">test cases</a></h4>

<ol class="noMarginTop">
 <li><p>from BMIIDXView2010.txt:</p>
  <table>
   <thead><tr><th scope="col">BMS code</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td>
      <pre class="lh100"><code>#SWITCH 5
    #DEF
        #00013:0055
        #SKIP
    #CASE 1
        #00013:0100000000000000
        #RANDOM 2
            #IF 1
                #00014:04
            #ELSE
                #00014:05
            #ENDIF
    #CASE 2
        #00013:0200000000000000
        #SKIP
    #CASE 3
        #00013:0300000000000000
        #SWITCH 2
            #CASE 1
                #00016:1111
                #SKIP
            #CASE 2
                #00016:2222
                #SKIP
        #ENDSW
        #SKIP
#ENDSW</code></pre>
     </td>
     <td>
      <ul>
       <li>indent</li>
       <li><code>#DEF</code> before <code>#CASE</code></li>
       <li>nested <code>#RANDOM</code> without <code>#ENDRANDOM</code></li>
       <li><p>desired value which is greater than the number of prepared <code>#IF</code> statement</p>
        <p>(Note: violation of nanasigroove specification)</p></li>
       <li>fallthrough by omission of <code>#SKIP</code></li>
       <li>not nesting <code>#RANDOM</code> and <code>#SWITCH</code> by turns</li>
      </ul>
      <dl>
       <dt>which passes this test:</dt>
        <dd>IIDXv, HDX, outliner</dd>
       <dt>passing test partial (but failed isolation ):</dt>
        <dd>iBMSC (3.0+)</dd>
      </dl>
     </td>
    </tr>
   </tbody>
  </table></li>
 <li><p>automation factory (<span itemprop="url" class="external u">http://www.comeup.info/bofoon2007/automation.zip</span>)</p>
  <ul>
   <li>6177 <code>#RANDOM</code> sentences / 147723 <code>#IF</code> sentences (unlimited sibling)</li>
   <li>the statement blocks containing even headers</li>
   <li>the huge nested <code>#RANDOM</code> exceeding 60,000 lines (347781-409539)</li>
   <li>too many desired values which are greater than the number of prepared <code>#IF</code> statement</li>
   <li>randomized <code>#TITLE</code> (Probably, implementation which uses <code>#TITLE</code> for a song selection list
    or <abbr title="Internet Ranking">IR</abbr> will suffer troubles.)</li>
  </ul>
  <dl>
   <dt>which passes this test:</dt>
    <dd>pomu2, IIDXv, HDX, outliner, Angolmois, uBMplay (1.5.0 or later), Sonorous, BGAEncAdv, TechnicalGroove</dd>
   <dt>passing test partial (but nested level is interpreted as 1 ):</dt>
    <dd>uBMplay (1.4.6 or earlier), LR2, fgt++, ruvit, bmx2wav</dd>
  </dl>
  <p>If <code>#ENDRANDOM</code> is supplemented to this musical score, nanasi will also pass.
   (<a href="content/a_lot_of_random_for774.zip" type="application/zip"><span itemprop="url">https://hitkey.nekokan.dyndns.info/a_lot_of_random_for774.zip</span></a>)</p></li>
 <li><p><cite>20,november "club edit" [random ver.]</cite>
  (<span itemprop="name">cranky</span>, <time itemprop="update" datetime="1999-04-10">1999-04-10</time>)</p>
  <ul>
   <li><code>#RONDAM</code> is typo</li>
   <li>pass: uBMplay, BMSE, outliner, Sonorous, BGAEncAdv, TechnicalGroove</li>
  </ul></li>
 <li><p><cite>Velocity Magic 3 [Aren't you lucky?]</cite>
  (<span itemprop="name">Speed Magician</span> / <span itemprop="name">Transfero</span>,
  <time itemprop="update" datetime="2010-09-11">2010-09-11</time>)
  (<span itemprop="url" class="external u">http://uploader.bms.ms/data/PW/vm3_ts3.zip</span>) (download is impossible now)</p>
  <ul>
   <li>lovetricks.ogg » lovetricks.bms</li>
   <li><code>#END&nbsp;IF</code> is typo</li>
   <li>pass: nazoZZ, RDM, ruvit, fgt++, fgt#, LR2, uBMplay, PMSee-V, outliner, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove</li>
  </ul></li>
 <li><p><cite>kitchen twies</cite>
  (<span itemprop="name">Orange Strophe</span>, <time itemprop="update" datetime="2009-07-22">2009-07-22</time>)
  (<a class="external" rel="external" hreflang="en" title="bms - OneDrive" href="https://onedrive.live.com/?id=A1F351E1932E6FF7%21282&amp;cid=A1F351E1932E6FF7"><span itemprop="url">https://onedrive.live.com/?id=A1F351E1932E6FF7!282&amp;cid=A1F351E1932E6FF7</span></a>)<!--
  (<a class="external" rel="external" hreflang="ko" title="Team Progressive &#xBB; kitchen twies"
   href="http://neoarre.aquz.biz/678"><span itemprop="url">(!- - http://neoarre.aquz.biz/xe/1589 - -)http://neoarre.aquz.biz/678</span></a>) --></p>
  <table>
   <thead><tr><th scope="col">before</th><th scope="col">after</th><th scope="col">remarks</th></tr></thead>
   <tbody>
    <tr>
     <td><pre class="lh100"><code>#RANDOM 2

#00002:0.5
#00003:4F
#IF 1
#00004:01
#00006:03
#ENDIF
#IF 2
#00004:02
#00006:04
#ENDIF</code></pre></td>
     <td><pre class="lh100"><code>#00002:0.5
#00003:4F
#RANDOM 2
#IF 1
#00004:01
#00006:03
#ENDIF
#IF 2
#00004:02
#00006:04
#ENDIF</code></pre></td>
     <td>
      <ul>
       <li>Unjust branch containing the line which does not belong to <code>#IF</code></li>
       <li><time itemprop="update" datetime="2009-10-05">2009-10-05</time>: This bug was fixed by the patch.</li>
       <li><p><del datetime="2013-01-18T19:00:00+09:00">(I do not understand the necessity of solving this problem. Should it pass? )</del></p>
        <p><ins datetime="2013-01-18T19:00:00+09:00">Of course, passing in this test is desirable. BM98 implemented <code>#RANDOM</code> as such.</ins></p></li>
       <li>pass: RDM, ruvit, nanasi, uBMplay, PMSee-V, bmx2wav, IIDXv, HDX, Angolmois, Sonorous, BGAEncAdv, TechnicalGroove, ... (uninvestigated)</li>
      </ul>
     </td>
    </tr>
   </tbody>
  </table></li>
</ol>
</section>

<!-- /SWITCH FAMILY -->
</section>

<hr>
<!-- /CONTROL FLOW -->
</section>



<section id="CHANNEL">
<h2><a href="#CHANNEL">&lt;CHANNEL&gt;</a></h2>

<section id="CHANNEL-MAPPING-TABLE">
<h3><a href="#CHANNEL-MAPPING-TABLE">Channel&nbsp;Mapping&nbsp;Table</a></h3>
<table>
 <thead><tr><th scope="col">num</th><th scope="col">summary</th><th scope="col">remarks</th><th scope="col">origin</th></tr></thead>
 <tbody>
  <tr>
   <th scope="row"><code>00</code></th>
   <td>Retired number</td>
   <td>In some implementations: BPM change in the forefront of <code>#xxx</code> (removed)</td>
   <td>-</td>
  </tr>
  <tr>
   <th scope="row"><code>01</code></th>
   <td>BGM</td>
   <td><code>#WAVxx</code> (multiline)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>02</code></th>
   <td>Length of <code>#xxx</code></td>
   <td>(1 corresponds to 4/4 meter) // specify integer or decimal fraction</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>03</code></th>
   <td>Change of BPM</td>
   <td>BPM 1 « <code>[01-FF]</code> » BPM 255</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>04</code></th>
   <td>BGA BASE</td>
   <td><code>#BMPxx</code> (BASE is displayed under LAYER)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>05</code></th>
   <td>Extended Object</td>
   <td><code>#ExtChr</code> (BM98 only)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>05</code></th>
   <td>SEEK Object</td>
   <td><code>#SEEKxx&nbsp;<var>n</var></code> (LR only)</td>
   <td>LR</td>
  </tr>
  <tr>
   <th scope="row"><code>06</code></th>
   <td>BGA POOR</td>
   <td><code>#BMPxx</code> (POOR is displayed when a mistake is made)</td>
   <td>BM98</td>
  </tr>
  <tr>
   <th scope="row"><code>07</code></th>
   <td>BGA LAYER</td>
   <td><code>#BMPxx</code> (LAYER is layered over BASE)</td>
   <td>BM98k</td>
  </tr>
  <tr>
   <th scope="row"><code>08</code></th>
   <td>exBPM</td>
   <td><code>#BPMxx&nbsp;<var>n</var></code> | <code>#EXBPMxx&nbsp;<var>n</var></code> (real number)</td>
   <td>bemaniaDX</td>
  </tr>
  <tr>
   <th scope="row"><code>09</code></th>
   <td>STOP</td>
   <td><code>#STOPxx&nbsp;<var>n</var></code> (1 corresponds to 192nd note)</td>
   <td>DDR</td>
  </tr>
  <tr>
   <th scope="row"><code>0A</code></th>
   <td>BGA LAYER2</td>
   <td><code>#BMPxx</code> (LAYER2 is layered over LAYER)</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0B</code></th>
   <td>Opacity of BGA BASE</td>
   <td>transparent « <code>[01-FF]</code> » opaque</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0C</code></th>
   <td>Opacity of BGA LAYER</td>
   <td>transparent « <code>[01-FF]</code> » opaque</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0D</code></th>
   <td>Opacity of BGA LAYER2</td>
   <td>transparent « <code>[01-FF]</code> » opaque</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>0E</code></th>
   <td>Opacity of BGA POOR</td>
   <td>transparent « <code>[01-FF]</code> » opaque</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>11-1Z</code></th>
   <td>1P Visible</td>
   <td>{ BM98: 11-17, FlashTerminal: 18-19, MGQ: 1A-1F, pomu: 1G-1Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>21-2Z</code></th>
   <td>2P Visible</td>
   <td>{ BM98: 21-27, FlashTerminal: 28-29, MGQ: 2A-2F, pomu: 2G-2Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>31-3Z</code></th>
   <td>1P Invisible</td>
   <td>{ BM98: 31-36, FlashTerminal: 38-39, MGQ: 3A-3F, pomu: 3G-3Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>41-4Z</code></th>
   <td>2P Invisible</td>
   <td>{ BM98: 41-46, FlashTerminal: 48-49, MGQ: 4A-4F, pomu: 4G-4Z }</td>
   <td>BM98/FT/MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>51-5Z</code></th>
   <td>1P Longnote</td>
   <td>{ MGQ: 51-5F, pomu: 5G-5Z }</td>
   <td>MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>61-6Z</code></th>
   <td>2P Longnote</td>
   <td>{ MGQ: 61-6F, pomu: 6G-6Z }</td>
   <td>MGQ/pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>70-96</code></th>
   <td>reserved channel</td>
   <td>[ <code>10</code>, <code>20</code>, <code>30</code>, <code>40</code>, <code>50</code>, <code>60</code> ] also reserved</td>
   <td>-</td>
  </tr>
  <tr>
   <th scope="row"><code>97</code></th>
   <td>BGM volume</td>
   <td>min 1 « <code>[01-FF]</code> » max 255 (= original sound) // fgt only</td>
   <td>forgetalia</td>
  </tr>
  <tr>
   <th scope="row"><code>98</code></th>
   <td>KEY volume</td>
   <td>min 1 « <code>[01-FF]</code> » max 255 (= original sound) // fgt only</td>
   <td>forgetalia</td>
  </tr>
  <tr>
   <th scope="row"><code>99</code></th>
   <td>TEXT</td>
   <td><code>#TEXTxx&nbsp;"<var>string</var>"</code></td>
   <td>pomu</td>
  </tr>
  <tr>
   <th scope="row"><code>A0</code></th>
   <td>JUDGE</td>
   <td><code>#EXRANKxx&nbsp;<var>n</var></code> (100 corresponds to RANK:NORMAL. integer or decimal fraction)</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A1</code></th>
   <td>BGA BASE aRGB</td>
   <td><code>#ARGBxx&nbsp;<var>a,r,g,b</var></code> (each <code>[0-255]</code>)</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A2</code></th>
   <td>BGA LAYER aRGB</td>
   <td><code>#ARGBxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A3</code></th>
   <td>BGA LAYER2 aRGB</td>
   <td><code>#ARGBxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A4</code></th>
   <td>BGA POOR aRGB</td>
   <td><code>#ARGBxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A5</code></th>
   <td>BGA KEYBOUND</td>
   <td><code>#SWBGAxx</code></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>A6</code></th>
   <td>OPTION</td>
   <td><code>#CHANGEOPTIONxx</code> <ins datetime="2013-05-07T12:00:00+09:00">(multiline)</ins></td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>D1-D9</code></th>
   <td>1P Landmine</td>
   <td><code>#WAV00</code> // specify a damage by [01-ZZ] (decimalize/2) ZZ: instantly gameover</td>
   <td>nanasi</td>
  </tr>
  <tr>
   <th scope="row"><code>E1-E9</code></th>
   <td>2P Landmine</td>
   <td><code>#WAV00</code> // specify a damage by [01-ZZ] (decimalize/2) ZZ: instantly gameover</td>
   <td>nanasi</td>
  </tr>
 </tbody>
</table>
</section>

<section id="KEYMAP-TABLE">
<h3><a href="#KEYMAP-TABLE">KEYMAP&nbsp;Table</a></h3>
<table>
 <thead><tr><th scope="col">format</th><th scope="col">Visible Object Channel Mapping</th></tr></thead>
 <tbody>
  <tr>
   <th scope="row">BMS</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
       <th scope="col">(FREE ZONE)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
       <td class="bP u">17</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
       <th scope="col">(FREE ZONE)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
       <td class="bP u">27</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BMS (nanasi-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap p1 mr73">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">27</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BMS (Angolmois-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap p1 mr73">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bP" colspan="6">FOOT PEDAL: #xxx<span class="u">27</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><a href="http://ucn.tokonats.net/software/taterenda/" class="external DBCS" rel="external" hreflang="ja" lang="ja" xml:lang="ja" title="UCN-Soft - Software » 縦連打測定器">縦連打測定器</a>
    <span class="br">(<a href="https://web.archive.org/web/20120315045143/http://uploader.bms.ms/data/mirror/taterenda_the_final.zip" class="external" rel="external nofollow">WayBack</a>)</span></th>
   <td>
    <table class="keymap">
     <thead>
      <tr class="DBCS">
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">?</td>
       <td class="bW">?</td>
       <td class="bW">?</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><abbr title="Delight Delight Reduplication">DDR</abbr> Arrow 6</th>
   <td>
    <table class="keymap">
     <thead>
      <tr class="DBCS">
       <th scope="col">←</th>
       <th scope="col">＼</th>
       <th scope="col">↓</th>
       <th scope="col">↑</th>
       <th scope="col">／</th>
       <th scope="col">→</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><abbr title="Delight Delight Reduplication">DDR</abbr> Arrow 4/8</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr class="DBCS">
       <th scope="col">←</th>
       <th scope="col">↓</th>
       <th scope="col">↑</th>
       <th scope="col">→</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bW">13</td>
       <td class="bW">15</td>
       <td class="bR">16</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2 DBCS">
       <th scope="col">←</th>
       <th scope="col">↓</th>
       <th scope="col">↑</th>
       <th scope="col">→</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bW">23</td>
       <td class="bW">25</td>
       <td class="bR">26</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">Project2DX</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col" class="p2">KEY6</th>
       <th scope="col" class="p2">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">21</td>
       <td class="bW">22</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BME</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bB">28</td>
       <td class="bW">29</td>
       <td class="bR">26</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BME (nanasi-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
      </tr>
      <tr><td class="bP" colspan="8">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">BME (Angolmois-<abbr title="Foot Pedal">FP</abbr>)</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
      </tr>
      <tr><td class="bP" colspan="8">FOOT PEDAL: #xxx<span class="u">17</span></td></tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY8</th>
       <th scope="col">KEY9</th>
       <th scope="col">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bB">28</td>
       <td class="bW">29</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bP" colspan="8">FOOT PEDAL: #xxx<span class="u">27</span></td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><a href="http://yukisite.com/johnny/fppp/" title="Foot Pedal Party Project" class="external" rel="external" hreflang="ja"><abbr title="Double Scratch">DSC</abbr> / <abbr title="Foot Pedal Package">FPP</abbr></a></th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col" class="p2">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
       <td class="bR">26</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row"><abbr title="Octave mode">OCT</abbr>/<abbr title="Foot Pedal">FP</abbr></th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">SCRATCH</th>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col" class="p2">KEY8</th>
       <th scope="col" class="p2">KEY9</th>
       <th scope="col" class="p2">KEY10</th>
       <th scope="col" class="p2">KEY11</th>
       <th scope="col" class="p2">KEY12</th>
       <th scope="col" class="p2">KEY13</th>
       <th scope="col" class="p2">SCRATCH</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bW">11</td>
       <td class="bB">12</td>
       <td class="bW">13</td>
       <td class="bB">14</td>
       <td class="bW">15</td>
       <td class="bB">18</td>
       <td class="bW">19</td>
       <td class="bB">22</td>
       <td class="bW">23</td>
       <td class="bB">24</td>
       <td class="bW">25</td>
       <td class="bB">28</td>
       <td class="bW">29</td>
       <td class="bR">26</td>
      </tr>
      <tr><td class="bG" colspan="15">FOOT PEDAL: #xxx21</td></tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col" class="p2">KEY6</th>
       <th scope="col" class="p2">KEY7</th>
       <th scope="col" class="p2">KEY8</th>
       <th scope="col" class="p2">KEY9</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bY">12</td>
       <td class="bG">13</td>
       <td class="bB">14</td>
       <td class="bR">15</td>
       <td class="bB">22</td>
       <td class="bG">23</td>
       <td class="bY">24</td>
       <td class="bW">25</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS (BME-type)</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">KEY8</th>
       <th scope="col">KEY9</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bY">12</td>
       <td class="bG">13</td>
       <td class="bB">14</td>
       <td class="bR">15</td>
       <td class="bB">18</td>
       <td class="bG">19</td>
       <td class="bY">16</td>
       <td class="bW u">17</td>
      </tr>
     </tbody>
    </table>
    <table class="keymap">
     <thead>
      <tr class="p2">
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">KEY8</th>
       <th scope="col">KEY9</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">21</td>
       <td class="bY">22</td>
       <td class="bG">23</td>
       <td class="bB">24</td>
       <td class="bR">25</td>
       <td class="bB">28</td>
       <td class="bG">29</td>
       <td class="bY">26</td>
       <td class="bW u">27</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS (5button)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col"><del><span class="chameleonic">KEY1</span></del></th>
       <th scope="col"><del><span class="chameleonic">KEY2</span></del></th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col" class="p2">KEY6</th>
       <th scope="col" class="p2">KEY7</th>
       <th scope="col" class="p2"><del><span class="bbb">KEY8</span></del></th>
       <th scope="col" class="p2"><del><span class="bbb">KEY9</span></del></th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td></td>
       <td></td>
       <td class="bG">13</td>
       <td class="bB">14</td>
       <td class="bR">15</td>
       <td class="bB">22</td>
       <td class="bG">23</td>
       <td></td>
       <td></td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">PMS (pomu-battle)</th>
   <td>
    <table class="keymap p1">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">11</td>
       <td class="bY">12</td>
       <td class="bG">13</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">O2mania (?)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">KEY5</th>
       <th scope="col">KEY6</th>
       <th scope="col">KEY7</th>
       <th scope="col">(KEY8)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bW">16</td>
       <td class="bB">11</td>
       <td class="bW">12</td>
       <td class="bR">13</td>
       <td class="bW">14</td>
       <td class="bB">15</td>
       <td class="bW">18</td>
       <td class="p2">19</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">MyO2 (?)</th>
   <td>
    <table class="keymap">
     <thead>
      <tr>
       <th scope="col">KEY1</th>
       <th scope="col">KEY2</th>
       <th scope="col">KEY3</th>
       <th scope="col">KEY4</th>
       <th scope="col">(KEY5)</th>
       <th scope="col">(KEY6)</th>
       <th scope="col">(KEY7)</th>
       <th scope="col">(KEY8)</th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td class="bR">16</td>
       <td class="bB">11</td>
       <td class="bB">12</td>
       <td class="bR">13</td>
       <td class="p2">14</td>
       <td class="p2">15</td>
       <td class="p2">18</td>
       <td class="p2">19</td>
      </tr>
     </tbody>
    </table>
   </td>
  </tr>
  <tr>
   <th scope="row">Uninvestigated:</th>
   <td>
    <p>GDA 9btn (feeling Pomu second),</p>
    <p>16panel (D3beat),</p>
   </td>
  </tr>
 </tbody>
</table>
</section>

<hr>
<!-- /h2 CHANNEL -->
</section>


</div>
</div>
</div>
</div>
</div>
</div>
</div>



</body></html>